/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){var n=[],r=n.slice,i=n.concat,o=n.push,a=n.indexOf,s={},l=s.toString,c=s.hasOwnProperty,u={},d=e.document,f="2.1.4",p=function(e,t){return new p.fn.init(e,t)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,g=/-([\da-z])/gi,v=function(e,t){return t.toUpperCase()};function b(e){var t="length"in e&&e.length,n=p.type(e);return"function"!==n&&!p.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}p.fn=p.prototype={jquery:f,constructor:p,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=p.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return p.each(this,e,t)},map:function(e){return this.pushStack(p.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:o,sort:n.sort,splice:n.splice},p.extend=p.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||p.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(p.isPlainObject(r)||(i=p.isArray(r)))?(i?(i=!1,o=n&&p.isArray(n)?n:[]):o=n&&p.isPlainObject(n)?n:{},a[t]=p.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},p.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!p.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===p.type(e)&&!e.nodeType&&!p.isWindow(e)&&!(e.constructor&&!c.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?s[l.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=p.trim(e))&&(1===e.indexOf("use strict")?((t=d.createElement("script")).text=e,d.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(m,"ms-").replace(g,v)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=b(e);if(n){if(o)for(;i>r&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;i>r&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(h,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(b(Object(e))?p.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;o>i;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,o=0,a=e.length,s=[];if(b(e))for(;a>o;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return i.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(n=e[t],t=e,e=n),p.isFunction(e)?(i=r.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||p.guid++,o):void 0},now:Date.now,support:u}),p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){s["[object "+t+"]"]=t.toLowerCase()}));var y=function(e){var t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b,y,w="sizzle"+1*new Date,x=e.document,_=0,k=0,S=ae(),T=ae(),I=ae(),E=function(e,t){return e===t&&(d=!0),0},C=1<<31,O={}.hasOwnProperty,M=[],D=M.pop,P=M.push,A=M.push,N=M.slice,R=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=j.replace("w","w#"),U="\\["+L+"*("+j+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+L+"*\\]",V=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",W=new RegExp(L+"+","g"),$=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),B=new RegExp("^"+L+"*,"+L+"*"),z=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),Y=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),q=new RegExp(V),G=new RegExp("^"+F+"$"),K={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),re=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ie=function(){f()};try{A.apply(M=N.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(e){A={apply:M.length?function(e,t){P.apply(e,N.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,i){var o,s,c,u,d,h,v,b,_,k;if((t?t.ownerDocument||t:x)!==p&&f(t),r=r||[],u=(t=t||p).nodeType,"string"!=typeof e||!e||1!==u&&9!==u&&11!==u)return r;if(!i&&m){if(11!==u&&(o=Z.exec(e)))if(c=o[1]){if(9===u){if(!(s=t.getElementById(c))||!s.parentNode)return r;if(s.id===c)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(c))&&y(t,s)&&s.id===c)return r.push(s),r}else{if(o[2])return A.apply(r,t.getElementsByTagName(e)),r;if((c=o[3])&&n.getElementsByClassName)return A.apply(r,t.getElementsByClassName(c)),r}if(n.qsa&&(!g||!g.test(e))){if(b=v=w,_=t,k=1!==u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(h=a(e),(v=t.getAttribute("id"))?b=v.replace(te,"\\$&"):t.setAttribute("id",b),b="[id='"+b+"'] ",d=h.length;d--;)h[d]=b+ge(h[d]);_=ee.test(e)&&he(t.parentNode)||t,k=h.join(",")}if(k)try{return A.apply(r,_.querySelectorAll(k)),r}catch(e){}finally{v||t.removeAttribute("id")}}}return l(e.replace($,"$1"),t,r,i)}function ae(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[w]=!0,e}function le(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=e.length;i--;)r.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||C)-(~e.sourceIndex||C);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return se((function(t){return t=+t,se((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:x;return a!==p&&9===a.nodeType&&a.documentElement?(p=a,h=a.documentElement,(i=a.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",ie,!1):i.attachEvent&&i.attachEvent("onunload",ie)),m=!o(a),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(a.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(a.getElementsByClassName),n.getById=le((function(e){return h.appendChild(e).id=w,!a.getElementsByName||!a.getElementsByName(w).length})),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){return m?t.getElementsByClassName(e):void 0},v=[],g=[],(n.qsa=Q.test(a.querySelectorAll))&&(le((function(e){h.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")})),le((function(e){var t=a.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Q.test(b=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le((function(e){n.disconnectedMatch=b.call(e,"div"),b.call(e,"[s!='']:x"),v.push("!=",V)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),y=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===a||e.ownerDocument===x&&y(x,e)?-1:t===a||t.ownerDocument===x&&y(x,t)?1:u?R(u,e)-R(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!i||!o)return e===a?-1:t===a?1:i?-1:o?1:u?R(u,e)-R(u,t):0;if(i===o)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?ue(s[r],l[r]):s[r]===x?-1:l[r]===x?1:0},a):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),t=t.replace(Y,"='$1']"),!(!n.matchesSelector||!m||v&&v.test(t)||g&&g.test(t)))try{var r=b.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),y(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&O.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(E),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return u=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,re),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&S(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&b){for(p=(c=(u=g[w]||(g[w]={}))[e]||[])[0]===_&&c[1],f=c[0]===_&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[_,p,f];break}}else if(b&&(c=(t[w]||(t[w]={}))[e])&&c[0]===_)f=c[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[w]||(d[w]={}))[e]=[_,f]),d!==t)););return(f-=i)===r||f%r==0&&f/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=R(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:se((function(e){var t=[],n=[],r=s(e.replace($,"$1"));return r[w]?se((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:se((function(e){return function(t){return oe(e,t).length>0}})),contains:se((function(e){return e=e.replace(ne,re),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:se((function(e){return G.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(ne,re).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe((function(){return[0]})),last:pe((function(e,t){return[t-1]})),eq:pe((function(e,t,n){return[0>n?n+t:n]})),even:pe((function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e})),odd:pe((function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e})),lt:pe((function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e})),gt:pe((function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function me(){}function ge(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=k++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,c=[_,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(l=t[w]||(t[w]={}))[r])&&s[0]===_&&s[1]===o)return c[2]=s[2];if(l[r]=c,c[2]=e(t,n,a))return!0}}}function be(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ye(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),c&&t.push(s));return a}function we(e,t,n,r,i,o){return r&&!r[w]&&(r=we(r)),i&&!i[w]&&(i=we(i,o)),se((function(o,a,s,l){var c,u,d,f=[],p=[],h=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;i>r;r++)oe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:ye(m,f,e,s,l),v=n?i||(o?e:h||r)?[]:a:g;if(n&&n(g,v,s,l),r)for(c=ye(v,p),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(o){if(i||e){if(i){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);i(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=i?R(o,d):f[u])>-1&&(o[c]=!(a[c]=d))}}else v=ye(v===a?v.splice(h,v.length):v),i?i(null,a,v,l):A.apply(a,v)}))}function xe(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,u=ve((function(e){return e===t}),s,!0),d=ve((function(e){return R(t,e)>-1}),s,!0),f=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,i}];o>l;l++)if(n=r.relative[e[l].type])f=[ve(be(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(i=++l;o>i&&!r.relative[e[i].type];i++);return we(l>1&&be(f),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace($,"$1"),n,i>l&&xe(e.slice(l,i)),o>i&&xe(e=e.slice(i)),o>i&&ge(e))}f.push(n)}return be(f)}function _e(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,l,u){var d,f,h,m=0,g="0",v=o&&[],b=[],y=c,w=o||i&&r.find.TAG("*",u),x=_+=null==y?1:Math.random()||.1,k=w.length;for(u&&(c=a!==p&&a);g!==k&&null!=(d=w[g]);g++){if(i&&d){for(f=0;h=e[f++];)if(h(d,a,s)){l.push(d);break}u&&(_=x)}n&&((d=!h&&d)&&m--,o&&v.push(d))}if(m+=g,n&&g!==m){for(f=0;h=t[f++];)h(v,b,a,s);if(o){if(m>0)for(;g--;)v[g]||b[g]||(b[g]=D.call(l));b=ye(b)}A.apply(l,b),u&&!o&&b.length>0&&m+t.length>1&&oe.uniqueSort(l)}return u&&(_=x,c=y),v};return n?se(o):o}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,a=oe.tokenize=function(e,t){var n,i,o,a,s,l,c,u=T[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=r.preFilter;s;){for(a in(!n||(i=B.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),n=!1,(i=z.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace($," ")}),s=s.slice(n.length)),r.filter)!(i=K[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):T(e,l).slice(0)},s=oe.compile=function(e,t){var n,r=[],i=[],o=I[e+" "];if(!o){for(t||(t=a(e)),n=t.length;n--;)(o=xe(t[n]))[w]?r.push(o):i.push(o);(o=I(e,_e(i,r))).selector=e}return o},l=oe.select=function(e,t,i,o){var l,c,u,d,f,p="function"==typeof e&&e,h=!o&&a(e=p.selector||e);if(i=i||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===t.nodeType&&m&&r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(ne,re),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=K.needsContext.test(e)?0:c.length;l--&&(u=c[l],!r.relative[d=u.type]);)if((f=r.find[d])&&(o=f(u.matches[0].replace(ne,re),ee.test(c[0].type)&&he(t.parentNode)||t))){if(c.splice(l,1),!(e=o.length&&ge(c)))return A.apply(i,o),i;break}}return(p||s(e,h))(o,t,!m,i,ee.test(e)&&he(t.parentNode)||t),i},n.sortStable=w.split("").sort(E).join("")===w,n.detectDuplicates=!!d,f(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ce("type|href|height|width",(function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ce("value",(function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ce(H,(function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),oe}(e);p.find=y,p.expr=y.selectors,p.expr[":"]=p.expr.pseudos,p.unique=y.uniqueSort,p.text=y.getText,p.isXMLDoc=y.isXML,p.contains=y.contains;var w=p.expr.match.needsContext,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,_=/^.[^:#\[\.,]*$/;function k(e,t,n){if(p.isFunction(t))return p.grep(e,(function(e,r){return!!t.call(e,r,e)!==n}));if(t.nodeType)return p.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(_.test(t))return p.filter(t,e,n);t=p.filter(t,e)}return p.grep(e,(function(e){return a.call(t,e)>=0!==n}))}p.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?p.find.matchesSelector(r,e)?[r]:[]:p.find.matches(e,p.grep(t,(function(e){return 1===e.nodeType})))},p.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(p(e).filter((function(){for(t=0;n>t;t++)if(p.contains(i[t],this))return!0})));for(t=0;n>t;t++)p.find(e,i[t],r);return(r=this.pushStack(n>1?p.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&w.test(e)?p(e):e||[],!1).length}});var S,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:T.exec(e))||!n[1]&&t)return!t||t.jquery?(t||S).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof p?t[0]:t,p.merge(this,p.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:d,!0)),x.test(n[1])&&p.isPlainObject(t))for(n in t)p.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=d.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=d,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):p.isFunction(e)?void 0!==S.ready?S.ready(e):e(p):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),p.makeArray(e,this))}).prototype=p.fn,S=p(d);var I=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};function C(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}p.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&p(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),p.fn.extend({has:function(e){var t=p(e,this),n=t.length;return this.filter((function(){for(var e=0;n>e;e++)if(p.contains(this,t[e]))return!0}))},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=w.test(e)||"string"!=typeof e?p(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&p.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?p.unique(o):o)},index:function(e){return e?"string"==typeof e?a.call(p(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(p.unique(p.merge(this.get(),p(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),p.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return p.dir(e,"parentNode")},parentsUntil:function(e,t,n){return p.dir(e,"parentNode",n)},next:function(e){return C(e,"nextSibling")},prev:function(e){return C(e,"previousSibling")},nextAll:function(e){return p.dir(e,"nextSibling")},prevAll:function(e){return p.dir(e,"previousSibling")},nextUntil:function(e,t,n){return p.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return p.dir(e,"previousSibling",n)},siblings:function(e){return p.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return p.sibling(e.firstChild)},contents:function(e){return e.contentDocument||p.merge([],e.childNodes)}},(function(e,t){p.fn[e]=function(n,r){var i=p.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=p.filter(r,i)),this.length>1&&(E[e]||p.unique(i),I.test(e)&&i.reverse()),this.pushStack(i)}}));var O,M=/\S+/g,D={};function P(){d.removeEventListener("DOMContentLoaded",P,!1),e.removeEventListener("load",P,!1),p.ready()}p.Callbacks=function(e){e="string"==typeof e?D[e]||function(e){var t=D[e]={};return p.each(e.match(M)||[],(function(e,n){t[n]=!0})),t}(e):p.extend({},e);var t,n,r,i,o,a,s=[],l=!e.once&&[],c=function(d){for(t=e.memory&&d,n=!0,a=i||0,i=0,o=s.length,r=!0;s&&o>a;a++)if(!1===s[a].apply(d[0],d[1])&&e.stopOnFalse){t=!1;break}r=!1,s&&(l?l.length&&c(l.shift()):t?s=[]:u.disable())},u={add:function(){if(s){var n=s.length;!function t(n){p.each(n,(function(n,r){var i=p.type(r);"function"===i?e.unique&&u.has(r)||s.push(r):r&&r.length&&"string"!==i&&t(r)}))}(arguments),r?o=s.length:t&&(i=n,c(t))}return this},remove:function(){return s&&p.each(arguments,(function(e,t){for(var n;(n=p.inArray(t,s,n))>-1;)s.splice(n,1),r&&(o>=n&&o--,a>=n&&a--)})),this},has:function(e){return e?p.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],o=0,this},disable:function(){return s=l=t=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,t||u.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!s||n&&!l||(t=[e,(t=t||[]).slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},p.extend({Deferred:function(e){var t=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return p.Deferred((function(n){p.each(t,(function(t,o){var a=p.isFunction(e[t])&&e[t];i[o[1]]((function(){var e=a&&a.apply(this,arguments);e&&p.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?p.extend(e,r):r}},i={};return r.pipe=r.then,p.each(t,(function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,i,o=0,a=r.call(arguments),s=a.length,l=1!==s||e&&p.isFunction(e.promise)?s:0,c=1===l?e:p.Deferred(),u=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?r.call(arguments):o,i===t?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>o;o++)a[o]&&p.isFunction(a[o].promise)?a[o].promise().done(u(o,i,a)).fail(c.reject).progress(u(o,n,t)):--l;return l||c.resolveWith(i,a),c.promise()}}),p.fn.ready=function(e){return p.ready.promise().done(e),this},p.extend({isReady:!1,readyWait:1,holdReady:function(e){e?p.readyWait++:p.ready(!0)},ready:function(e){(!0===e?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==e&&--p.readyWait>0||(O.resolveWith(d,[p]),p.fn.triggerHandler&&(p(d).triggerHandler("ready"),p(d).off("ready"))))}}),p.ready.promise=function(t){return O||(O=p.Deferred(),"complete"===d.readyState?setTimeout(p.ready):(d.addEventListener("DOMContentLoaded",P,!1),e.addEventListener("load",P,!1))),O.promise(t)},p.ready.promise();var A=p.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,c=null==n;if("object"===p.type(n))for(s in i=!0,n)p.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,p.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(p(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):o};function N(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=p.expando+N.uid++}p.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},N.uid=1,N.accepts=p.acceptData,N.prototype={key:function(e){if(!N.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=N.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,p.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(p.isEmptyObject(o))p.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,p.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{p.isArray(t)?r=t.concat(t.map(p.camelCase)):(i=p.camelCase(t),t in a?r=[t,i]:r=(r=i)in a?[r]:r.match(M)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!p.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var R=new N,H=new N,L=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,j=/([A-Z])/g;function F(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(j,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:L.test(n)?p.parseJSON(n):n)}catch(e){}H.set(e,t,n)}else n=void 0;return n}p.extend({hasData:function(e){return H.hasData(e)||R.hasData(e)},data:function(e,t,n){return H.access(e,t,n)},removeData:function(e,t){H.remove(e,t)},_data:function(e,t,n){return R.access(e,t,n)},_removeData:function(e,t){R.remove(e,t)}}),p.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=H.get(o),1===o.nodeType&&!R.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(0===(r=a[n].name).indexOf("data-")&&(r=p.camelCase(r.slice(5)),F(o,r,i[r])));R.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){H.set(this,e)})):A(this,(function(t){var n,r=p.camelCase(e);if(o&&void 0===t){if(void 0!==(n=H.get(o,e)))return n;if(void 0!==(n=H.get(o,r)))return n;if(void 0!==(n=F(o,r,void 0)))return n}else this.each((function(){var n=H.get(this,r);H.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&H.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){H.remove(this,e)}))}}),p.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=R.get(e,t),n&&(!r||p.isArray(n)?r=R.access(e,t,p.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=p.queue(e,t),r=n.length,i=n.shift(),o=p._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){p.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return R.get(e,n)||R.access(e,n,{empty:p.Callbacks("once memory").add((function(){R.remove(e,[t+"queue",n])}))})}}),p.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?p.queue(this[0],e):void 0===t?this:this.each((function(){var n=p.queue(this,e,t);p._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&p.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){p.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=p.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=R.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var U=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,V=["Top","Right","Bottom","Left"],W=function(e,t){return e=t||e,"none"===p.css(e,"display")||!p.contains(e.ownerDocument,e)},$=/^(?:checkbox|radio)$/i;!function(){var e=d.createDocumentFragment().appendChild(d.createElement("div")),t=d.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),u.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",u.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var B="undefined";u.focusinBubbles="onfocusin"in e;var z=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,q=/^(?:focusinfocus|focusoutblur)$/,G=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function J(){return!1}function X(){try{return d.activeElement}catch(e){}}p.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,c,u,d,f,h,m,g,v=R.get(e);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=p.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return typeof p!==B&&p.event.triggered!==t.type?p.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(M)||[""]).length;c--;)h=g=(s=G.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),h&&(d=p.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=p.event.special[h]||{},u=p.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&p.expr.match.needsContext.test(i),namespace:m.join(".")},o),(f=l[h])||((f=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,m,a)||e.addEventListener&&e.addEventListener(h,a,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),p.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,c,u,d,f,h,m,g,v=R.hasData(e)&&R.get(e);if(v&&(l=v.events)){for(c=(t=(t||"").match(M)||[""]).length;c--;)if(h=g=(s=G.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),h){for(d=p.event.special[h]||{},f=l[h=(r?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!i&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,m,v.handle)||p.removeEvent(e,h,v.handle),delete l[h])}else for(h in l)p.event.remove(e,h+t[c],n,r,!0);p.isEmptyObject(l)&&(delete v.handle,R.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,f,h,m=[r||d],g=c.call(t,"type")?t.type:t,v=c.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||d,3!==r.nodeType&&8!==r.nodeType&&!q.test(g+p.event.triggered)&&(g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[p.expando]?t:new p.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=v.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:p.makeArray(n,[t]),h=p.event.special[g]||{},i||!h.trigger||!1!==h.trigger.apply(r,n))){if(!i&&!h.noBubble&&!p.isWindow(r)){for(l=h.delegateType||g,q.test(l+g)||(a=a.parentNode);a;a=a.parentNode)m.push(a),s=a;s===(r.ownerDocument||d)&&m.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=m[o++])&&!t.isPropagationStopped();)t.type=o>1?l:h.bindType||g,(f=(R.get(a,"events")||{})[t.type]&&R.get(a,"handle"))&&f.apply(a,n),(f=u&&a[u])&&f.apply&&p.acceptData(a)&&(t.result=f.apply(a,n),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),n)||!p.acceptData(r)||u&&p.isFunction(r[g])&&!p.isWindow(r)&&((s=r[u])&&(r[u]=null),p.event.triggered=g,r[g](),p.event.triggered=void 0,s&&(r[u]=s)),t.result}},dispatch:function(e){e=p.event.fix(e);var t,n,i,o,a,s=[],l=r.call(arguments),c=(R.get(this,"events")||{})[e.type]||[],u=p.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=p.event.handlers.call(this,e,c),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,void 0!==(i=((p.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(r=[],n=0;s>n;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?p(i,this).index(l)>=0:p.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||d).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[p.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Y.test(i)?this.mouseHooks:z.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new p.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=d),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==X()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===X()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&p.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return p.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=p.extend(new p.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?p.event.trigger(i,null,t):p.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},p.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},p.Event=function(e,t){return this instanceof p.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?K:J):this.type=e,t&&p.extend(this,t),this.timeStamp=e&&e.timeStamp||p.now(),void(this[p.expando]=!0)):new p.Event(e,t)},p.Event.prototype={isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=K,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=K,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=K,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){p.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!p.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),u.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){p.event.simulate(t,e.target,p.event.fix(e),!0)};p.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=R.access(r,t);i||r.addEventListener(e,n,!0),R.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=R.access(r,t)-1;i?R.access(r,t,i):(r.removeEventListener(e,n,!0),R.remove(r,t))}}})),p.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=J;else if(!r)return this;return 1===i&&(o=r,(r=function(e){return p().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=p.guid++)),this.each((function(){p.event.add(this,e,r,n,t)}))},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,p(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=J),this.each((function(){p.event.remove(this,e,n,t)}))},trigger:function(e,t){return this.each((function(){p.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];return n?p.event.trigger(e,t,n,!0):void 0}});var Q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Z=/<([\w:]+)/,ee=/<|&#?\w+;/,te=/<(?:script|style|link)/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/^$|\/(?:java|ecma)script/i,ie=/^true\/(.*)/,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ae={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function se(e,t){return p.nodeName(e,"table")&&p.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ce(e){var t=ie.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ue(e,t){for(var n=0,r=e.length;r>n;n++)R.set(e[n],"globalEval",!t||R.get(t[n],"globalEval"))}function de(e,t){var n,r,i,o,a,s,l,c;if(1===t.nodeType){if(R.hasData(e)&&(o=R.access(e),a=R.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;r>n;n++)p.event.add(t,i,c[i][n]);H.hasData(e)&&(s=H.access(e),l=p.extend({},s),H.set(t,l))}}function fe(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&p.nodeName(e,t)?p.merge([e],n):n}function pe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&$.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}ae.optgroup=ae.option,ae.tbody=ae.tfoot=ae.colgroup=ae.caption=ae.thead,ae.th=ae.td,p.extend({clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=p.contains(e.ownerDocument,e);if(!(u.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||p.isXMLDoc(e)))for(a=fe(s),r=0,i=(o=fe(e)).length;i>r;r++)pe(o[r],a[r]);if(t)if(n)for(o=o||fe(e),a=a||fe(s),r=0,i=o.length;i>r;r++)de(o[r],a[r]);else de(e,s);return(a=fe(s,"script")).length>0&&ue(a,!l&&fe(e,"script")),s},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,c,u=t.createDocumentFragment(),d=[],f=0,h=e.length;h>f;f++)if((i=e[f])||0===i)if("object"===p.type(i))p.merge(d,i.nodeType?[i]:i);else if(ee.test(i)){for(o=o||u.appendChild(t.createElement("div")),a=(Z.exec(i)||["",""])[1].toLowerCase(),s=ae[a]||ae._default,o.innerHTML=s[1]+i.replace(Q,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;p.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(t.createTextNode(i));for(u.textContent="",f=0;i=d[f++];)if((!r||-1===p.inArray(i,r))&&(l=p.contains(i.ownerDocument,i),o=fe(u.appendChild(i),"script"),l&&ue(o),n))for(c=0;i=o[c++];)re.test(i.type||"")&&n.push(i);return u},cleanData:function(e){for(var t,n,r,i,o=p.event.special,a=0;void 0!==(n=e[a]);a++){if(p.acceptData(n)&&((i=n[R.expando])&&(t=R.cache[i]))){if(t.events)for(r in t.events)o[r]?p.event.remove(n,r):p.removeEvent(n,r,t.handle);R.cache[i]&&delete R.cache[i]}delete H.cache[n[H.expando]]}}}),p.fn.extend({text:function(e){return A(this,(function(e){return void 0===e?p.text(this):this.empty().each((function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||se(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=se(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var n,r=e?p.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||p.cleanData(fe(n)),n.parentNode&&(t&&p.contains(n.ownerDocument,n)&&ue(fe(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(p.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return p.clone(this,e,t)}))},html:function(e){return A(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!te.test(e)&&!ae[(Z.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Q,"<$1></$2>");try{for(;r>n;n++)1===(t=this[n]||{}).nodeType&&(p.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){e=this.parentNode,p.cleanData(fe(this)),e&&e.replaceChild(t,this)})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,o,a,s,l,c=0,d=this.length,f=this,h=d-1,m=e[0],g=p.isFunction(m);if(g||d>1&&"string"==typeof m&&!u.checkClone&&ne.test(m))return this.each((function(n){var r=f.eq(n);g&&(e[0]=m.call(this,n,r.html())),r.domManip(e,t)}));if(d&&(r=(n=p.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(a=(o=p.map(fe(n,"script"),le)).length;d>c;c++)s=n,c!==h&&(s=p.clone(s,!0,!0),a&&p.merge(o,fe(s,"script"))),t.call(this[c],s,c);if(a)for(l=o[o.length-1].ownerDocument,p.map(o,ce),c=0;a>c;c++)s=o[c],re.test(s.type||"")&&!R.access(s,"globalEval")&&p.contains(l,s)&&(s.src?p._evalUrl&&p._evalUrl(s.src):p.globalEval(s.textContent.replace(oe,"")))}return this}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){p.fn[e]=function(e){for(var n,r=[],i=p(e),a=i.length-1,s=0;a>=s;s++)n=s===a?this:this.clone(!0),p(i[s])[t](n),o.apply(r,n.get());return this.pushStack(r)}}));var he,me={};function ge(t,n){var r,i=p(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:p.css(i[0],"display");return i.detach(),o}function ve(e){var t=d,n=me[e];return n||("none"!==(n=ge(e,t))&&n||((t=(he=(he||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ge(e,t),he.detach()),me[e]=n),n}var be=/^margin/,ye=new RegExp("^("+U+")(?!px)[a-z%]+$","i"),we=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};function xe(e,t,n){var r,i,o,a,s=e.style;return(n=n||we(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||p.contains(e.ownerDocument,e)||(a=p.style(e,t)),ye.test(a)&&be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){var t,n,r=d.documentElement,i=d.createElement("div"),o=d.createElement("div");if(o.style){function a(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(i);var a=e.getComputedStyle(o,null);t="1%"!==a.top,n="4px"===a.width,r.removeChild(i)}o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",u.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),e.getComputedStyle&&p.extend(u,{pixelPosition:function(){return a(),t},boxSizingReliable:function(){return null==n&&a(),n},reliableMarginRight:function(){var t,n=o.appendChild(d.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(i),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(i),o.removeChild(n),t}})}}(),p.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var ke=/^(none|table(?!-c[ea]).+)/,Se=new RegExp("^("+U+")(.*)$","i"),Te=new RegExp("^([+-])=("+U+")","i"),Ie={position:"absolute",visibility:"hidden",display:"block"},Ee={letterSpacing:"0",fontWeight:"400"},Ce=["Webkit","O","Moz","ms"];function Oe(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ce.length;i--;)if((t=Ce[i]+n)in e)return t;return r}function Me(e,t,n){var r=Se.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function De(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=p.css(e,n+V[o],!0,i)),r?("content"===n&&(a-=p.css(e,"padding"+V[o],!0,i)),"margin"!==n&&(a-=p.css(e,"border"+V[o]+"Width",!0,i))):(a+=p.css(e,"padding"+V[o],!0,i),"padding"!==n&&(a+=p.css(e,"border"+V[o]+"Width",!0,i)));return a}function Pe(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=we(e),a="border-box"===p.css(e,"boxSizing",!1,o);if(0>=i||null==i){if((0>(i=xe(e,t,o))||null==i)&&(i=e.style[t]),ye.test(i))return i;r=a&&(u.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+De(e,t,n||(a?"border":"content"),r,o)+"px"}function Ae(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)(r=e[a]).style&&(o[a]=R.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&W(r)&&(o[a]=R.access(r,"olddisplay",ve(r.nodeName)))):(i=W(r),"none"===n&&i||R.set(r,"olddisplay",i?n:p.css(r,"display"))));for(a=0;s>a;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function Ne(e,t,n,r,i){return new Ne.prototype.init(e,t,n,r,i)}p.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=xe(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=p.camelCase(t),l=e.style;return t=p.cssProps[s]||(p.cssProps[s]=Oe(l,s)),a=p.cssHooks[t]||p.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:("string"===(o=typeof n)&&(i=Te.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(p.css(e,t)),o="number"),void(null!=n&&n==n&&("number"!==o||p.cssNumber[s]||(n+="px"),u.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=p.camelCase(t);return t=p.cssProps[s]||(p.cssProps[s]=Oe(e.style,s)),(a=p.cssHooks[t]||p.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=xe(e,t,r)),"normal"===i&&t in Ee&&(i=Ee[t]),""===n||n?(o=parseFloat(i),!0===n||p.isNumeric(o)?o||0:i):i}}),p.each(["height","width"],(function(e,t){p.cssHooks[t]={get:function(e,n,r){return n?ke.test(p.css(e,"display"))&&0===e.offsetWidth?p.swap(e,Ie,(function(){return Pe(e,t,r)})):Pe(e,t,r):void 0},set:function(e,n,r){var i=r&&we(e);return Me(0,n,r?De(e,t,r,"border-box"===p.css(e,"boxSizing",!1,i),i):0)}}})),p.cssHooks.marginRight=_e(u.reliableMarginRight,(function(e,t){return t?p.swap(e,{display:"inline-block"},xe,[e,"marginRight"]):void 0})),p.each({margin:"",padding:"",border:"Width"},(function(e,t){p.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+V[r]+t]=o[r]||o[r-2]||o[0];return i}},be.test(e)||(p.cssHooks[e+t].set=Me)})),p.fn.extend({css:function(e,t){return A(this,(function(e,t,n){var r,i,o={},a=0;if(p.isArray(t)){for(r=we(e),i=t.length;i>a;a++)o[t[a]]=p.css(e,t[a],!1,r);return o}return void 0!==n?p.style(e,t,n):p.css(e,t)}),e,t,arguments.length>1)},show:function(){return Ae(this,!0)},hide:function(){return Ae(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){W(this)?p(this).show():p(this).hide()}))}}),p.Tween=Ne,Ne.prototype={constructor:Ne,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(p.cssNumber[n]?"":"px")},cur:function(){var e=Ne.propHooks[this.prop];return e&&e.get?e.get(this):Ne.propHooks._default.get(this)},run:function(e){var t,n=Ne.propHooks[this.prop];return this.options.duration?this.pos=t=p.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ne.propHooks._default.set(this),this}},Ne.prototype.init.prototype=Ne.prototype,Ne.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=p.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){p.fx.step[e.prop]?p.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[p.cssProps[e.prop]]||p.cssHooks[e.prop])?p.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ne.propHooks.scrollTop=Ne.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},p.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},p.fx=Ne.prototype.init,p.fx.step={};var Re,He,Le=/^(?:toggle|show|hide)$/,je=new RegExp("^(?:([+-])=|)("+U+")([a-z%]*)$","i"),Fe=/queueHooks$/,Ue=[function(e,t,n){var r,i,o,a,s,l,c,u=this,d={},f=e.style,h=e.nodeType&&W(e),m=R.get(e,"fxshow");for(r in n.queue||(null==(s=p._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always((function(){u.always((function(){s.unqueued--,p.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=p.css(e,"display"),"inline"===("none"===c?R.get(e,"olddisplay")||ve(e.nodeName):c)&&"none"===p.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",u.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),t)if(i=t[r],Le.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}d[r]=m&&m[r]||p.style(e,r)}else c=void 0;if(p.isEmptyObject(d))"inline"===("none"===c?ve(e.nodeName):c)&&(f.display=c);else for(r in m?"hidden"in m&&(h=m.hidden):m=R.access(e,"fxshow",{}),o&&(m.hidden=!h),h?p(e).show():u.done((function(){p(e).hide()})),u.done((function(){var t;for(t in R.remove(e,"fxshow"),d)p.style(e,t,d[t])})),d)a=Be(h?m[r]:0,r,u),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],Ve={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=je.exec(t),o=i&&i[3]||(p.cssNumber[e]?"":"px"),a=(p.cssNumber[e]||"px"!==o&&+r)&&je.exec(p.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",p.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function We(){return setTimeout((function(){Re=void 0})),Re=p.now()}function $e(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)i["margin"+(n=V[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Be(e,t,n){for(var r,i=(Ve[t]||[]).concat(Ve["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function ze(e,t,n){var r,i,o=0,a=Ue.length,s=p.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=Re||We(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;a>o;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),1>r&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:p.extend({},t),opts:p.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Re||We(),duration:n.duration,tweens:[],createTween:function(t,n){var r=p.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=p.camelCase(n)],o=e[n],p.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=p.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);a>o;o++)if(r=Ue[o].call(c,e,u,c.opts))return r;return p.map(u,Be,c),p.isFunction(c.opts.start)&&c.opts.start.call(e,c),p.fx.timer(p.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}p.Animation=p.extend(ze,{tweener:function(e,t){p.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],Ve[n]=Ve[n]||[],Ve[n].unshift(t)},prefilter:function(e,t){t?Ue.unshift(e):Ue.push(e)}}),p.speed=function(e,t,n){var r=e&&"object"==typeof e?p.extend({},e):{complete:n||!n&&t||p.isFunction(e)&&e,duration:e,easing:n&&t||t&&!p.isFunction(t)&&t};return r.duration=p.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in p.fx.speeds?p.fx.speeds[r.duration]:p.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){p.isFunction(r.old)&&r.old.call(this),r.queue&&p.dequeue(this,r.queue)},r},p.fn.extend({fadeTo:function(e,t,n,r){return this.filter(W).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=p.isEmptyObject(e),o=p.speed(t,n,r),a=function(){var t=ze(this,p.extend({},e),o);(i||R.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=p.timers,a=R.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Fe.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&p.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=R.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=p.timers,a=r?r.length:0;for(n.finish=!0,p.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),p.each(["toggle","show","hide"],(function(e,t){var n=p.fn[t];p.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate($e(t,!0),e,r,i)}})),p.each({slideDown:$e("show"),slideUp:$e("hide"),slideToggle:$e("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){p.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),p.timers=[],p.fx.tick=function(){var e,t=0,n=p.timers;for(Re=p.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||p.fx.stop(),Re=void 0},p.fx.timer=function(e){p.timers.push(e),e()?p.fx.start():p.timers.pop()},p.fx.interval=13,p.fx.start=function(){He||(He=setInterval(p.fx.tick,p.fx.interval))},p.fx.stop=function(){clearInterval(He),He=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(e,t){return e=p.fx&&p.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}}))},function(){var e=d.createElement("input"),t=d.createElement("select"),n=t.appendChild(d.createElement("option"));e.type="checkbox",u.checkOn=""!==e.value,u.optSelected=n.selected,t.disabled=!0,u.optDisabled=!n.disabled,(e=d.createElement("input")).value="t",e.type="radio",u.radioValue="t"===e.value}();var Ye,qe=p.expr.attrHandle;p.fn.extend({attr:function(e,t){return A(this,p.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){p.removeAttr(this,e)}))}}),p.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===B?p.prop(e,t,n):(1===o&&p.isXMLDoc(e)||(t=t.toLowerCase(),r=p.attrHooks[t]||(p.expr.match.bool.test(t)?Ye:undefined)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=p.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void p.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(M);if(o&&1===e.nodeType)for(;n=o[i++];)r=p.propFix[n]||n,p.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!u.radioValue&&"radio"===t&&p.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Ye={set:function(e,t,n){return!1===t?p.removeAttr(e,n):e.setAttribute(n,n),n}},p.each(p.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=qe[t]||p.find.attr;qe[t]=function(e,t,r){var i,o;return r||(o=qe[t],qe[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,qe[t]=o),i}}));var Ge=/^(?:input|select|textarea|button)$/i;p.fn.extend({prop:function(e,t){return A(this,p.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[p.propFix[e]||e]}))}}),p.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!p.isXMLDoc(e))&&(t=p.propFix[t]||t,i=p.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ge.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),u.optSelected||(p.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){p.propFix[this.toLowerCase()]=this}));var Ke=/[\t\r\n\f]/g;p.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,l=0,c=this.length;if(p.isFunction(e))return this.each((function(t){p(this).addClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(M)||[];c>l;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Ke," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=p.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(p.isFunction(e))return this.each((function(t){p(this).removeClass(e.call(this,t,this.className))}));if(s)for(t=(e||"").match(M)||[];c>l;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Ke," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?p.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(p.isFunction(e)?function(n){p(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=p(this),o=e.match(M)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===B||"boolean"===n)&&(this.className&&R.set(this,"__className__",this.className),this.className=this.className||!1===e?"":R.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ke," ").indexOf(t)>=0)return!0;return!1}});var Je=/\r/g;p.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=p.isFunction(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,p(this).val()):e)?i="":"number"==typeof i?i+="":p.isArray(i)&&(i=p.map(i,(function(e){return null==e?"":e+""}))),(t=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=p.valHooks[i.type]||p.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Je,""):null==n?"":n:void 0}}),p.extend({valHooks:{option:{get:function(e){var t=p.find.attr(e,"value");return null!=t?t:p.trim(p.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(!(!(n=r[l]).selected&&l!==i||(u.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&p.nodeName(n.parentNode,"optgroup"))){if(t=p(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=p.makeArray(t),a=i.length;a--;)((r=i[a]).selected=p.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),p.each(["radio","checkbox"],(function(){p.valHooks[this]={set:function(e,t){return p.isArray(t)?e.checked=p.inArray(p(e).val(),t)>=0:void 0}},u.checkOn||(p.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){p.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),p.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Xe=p.now(),Qe=/\?/;p.parseJSON=function(e){return JSON.parse(e+"")},p.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+e),t};var Ze=/#.*$/,et=/([?&])_=[^&]*/,tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,nt=/^(?:GET|HEAD)$/,rt=/^\/\//,it=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ot={},at={},st="*/".concat("*"),lt=e.location.href,ct=it.exec(lt.toLowerCase())||[];function ut(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(M)||[];if(p.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function dt(e,t,n,r){var i={},o=e===at;function a(s){var l;return i[s]=!0,p.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!i["*"]&&a("*")}function ft(e,t){var n,r,i=p.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&p.extend(!0,e,r),e}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:lt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ct[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":st,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ft(ft(e,p.ajaxSettings),t):ft(p.ajaxSettings,e)},ajaxPrefilter:ut(ot),ajaxTransport:ut(at),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,o,a,s,l,c,u=p.ajaxSetup({},t),d=u.context||u,f=u.context&&(d.nodeType||d.jquery)?p(d):p.event,h=p.Deferred(),m=p.Callbacks("once memory"),g=u.statusCode||{},v={},b={},y=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!o)for(o={};t=tt.exec(i);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return n&&n.abort(t),_(0,t),this}};if(h.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,u.url=((e||u.url||lt)+"").replace(Ze,"").replace(rt,ct[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=p.trim(u.dataType||"*").toLowerCase().match(M)||[""],null==u.crossDomain&&(s=it.exec(u.url.toLowerCase()),u.crossDomain=!(!s||s[1]===ct[1]&&s[2]===ct[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(ct[3]||("http:"===ct[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=p.param(u.data,u.traditional)),dt(ot,u,t,x),2===y)return x;for(c in(l=p.event&&u.global)&&0==p.active++&&p.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!nt.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(Qe.test(r)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=et.test(r)?r.replace(et,"$1_="+Xe++):r+(Qe.test(r)?"&":"?")+"_="+Xe++)),u.ifModified&&(p.lastModified[r]&&x.setRequestHeader("If-Modified-Since",p.lastModified[r]),p.etag[r]&&x.setRequestHeader("If-None-Match",p.etag[r])),(u.data&&u.hasContent&&!1!==u.contentType||t.contentType)&&x.setRequestHeader("Content-Type",u.contentType),x.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+st+"; q=0.01":""):u.accepts["*"]),u.headers)x.setRequestHeader(c,u.headers[c]);if(u.beforeSend&&(!1===u.beforeSend.call(d,x,u)||2===y))return x.abort();for(c in w="abort",{success:1,error:1,complete:1})x[c](u[c]);if(n=dt(at,u,t,x)){x.readyState=1,l&&f.trigger("ajaxSend",[x,u]),u.async&&u.timeout>0&&(a=setTimeout((function(){x.abort("timeout")}),u.timeout));try{y=1,n.send(v,_)}catch(e){if(!(2>y))throw e;_(-1,e)}}else _(-1,"No Transport");function _(e,t,o,s){var c,v,b,w,_,k=t;2!==y&&(y=2,a&&clearTimeout(a),n=void 0,i=s||"",x.readyState=e>0?4:0,c=e>=200&&300>e||304===e,o&&(w=function(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}(u,x,o)),w=function(e,t,n,r){var i,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(u,w,x,c),c?(u.ifModified&&((_=x.getResponseHeader("Last-Modified"))&&(p.lastModified[r]=_),(_=x.getResponseHeader("etag"))&&(p.etag[r]=_)),204===e||"HEAD"===u.type?k="nocontent":304===e?k="notmodified":(k=w.state,v=w.data,c=!(b=w.error))):(b=k,(e||!k)&&(k="error",0>e&&(e=0))),x.status=e,x.statusText=(t||k)+"",c?h.resolveWith(d,[v,k,x]):h.rejectWith(d,[x,k,b]),x.statusCode(g),g=void 0,l&&f.trigger(c?"ajaxSuccess":"ajaxError",[x,u,c?v:b]),m.fireWith(d,[x,k]),l&&(f.trigger("ajaxComplete",[x,u]),--p.active||p.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return p.get(e,t,n,"json")},getScript:function(e,t){return p.get(e,void 0,t,"script")}}),p.each(["get","post"],(function(e,t){p[t]=function(e,n,r,i){return p.isFunction(n)&&(i=i||r,r=n,n=void 0),p.ajax({url:e,type:t,dataType:i,data:n,success:r})}})),p._evalUrl=function(e){return p.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},p.fn.extend({wrapAll:function(e){var t;return p.isFunction(e)?this.each((function(t){p(this).wrapAll(e.call(this,t))})):(this[0]&&(t=p(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this)},wrapInner:function(e){return this.each(p.isFunction(e)?function(t){p(this).wrapInner(e.call(this,t))}:function(){var t=p(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=p.isFunction(e);return this.each((function(n){p(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(){return this.parent().each((function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)})).end()}}),p.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},p.expr.filters.visible=function(e){return!p.expr.filters.hidden(e)};var pt=/%20/g,ht=/\[\]$/,mt=/\r?\n/g,gt=/^(?:submit|button|image|reset|file)$/i,vt=/^(?:input|select|textarea|keygen)/i;function bt(e,t,n,r){var i;if(p.isArray(t))p.each(t,(function(t,i){n||ht.test(e)?r(e,i):bt(e+"["+("object"==typeof i?t:"")+"]",i,n,r)}));else if(n||"object"!==p.type(t))r(e,t);else for(i in t)bt(e+"["+i+"]",t[i],n,r)}p.param=function(e,t){var n,r=[],i=function(e,t){t=p.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(e)||e.jquery&&!p.isPlainObject(e))p.each(e,(function(){i(this.name,this.value)}));else for(n in e)bt(n,e[n],t,i);return r.join("&").replace(pt,"+")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=p.prop(this,"elements");return e?p.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!p(this).is(":disabled")&&vt.test(this.nodeName)&&!gt.test(e)&&(this.checked||!$.test(e))})).map((function(e,t){var n=p(this).val();return null==n?null:p.isArray(n)?p.map(n,(function(e){return{name:t.name,value:e.replace(mt,"\r\n")}})):{name:t.name,value:n.replace(mt,"\r\n")}})).get()}}),p.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var yt=0,wt={},xt={0:200,1223:204},_t=p.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",(function(){for(var e in wt)wt[e]()})),u.cors=!!_t&&"withCredentials"in _t,u.ajax=_t=!!_t,p.ajaxTransport((function(e){var t;return u.cors||_t&&!e.crossDomain?{send:function(n,r){var i,o=e.xhr(),a=++yt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete wt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(xt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=wt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0})),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return p.globalEval(e),e}}}),p.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),p.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=p("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),d.head.appendChild(t[0])},abort:function(){n&&n()}}}));var kt=[],St=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=kt.pop()||p.expando+"_"+Xe++;return this[e]=!0,e}}),p.ajaxPrefilter("json jsonp",(function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(St.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&St.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=p.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(St,"$1"+i):!1!==t.jsonp&&(t.url+=(Qe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||p.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always((function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,kt.push(i)),a&&p.isFunction(o)&&o(a[0]),a=o=void 0})),"script"):void 0})),p.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||d;var r=x.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=p.buildFragment([e],t,i),i&&i.length&&p(i).remove(),p.merge([],r.childNodes))};var Tt=p.fn.load;p.fn.load=function(e,t,n){if("string"!=typeof e&&Tt)return Tt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=p.trim(e.slice(s)),e=e.slice(0,s)),p.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&p.ajax({url:e,type:i,dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?p("<div>").append(p.parseHTML(e)).find(r):e)})).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){p.fn[t]=function(e){return this.on(t,e)}})),p.expr.filters.animated=function(e){return p.grep(p.timers,(function(t){return e===t.elem})).length};var It=e.document.documentElement;function Et(e){return p.isWindow(e)?e:9===e.nodeType&&e.defaultView}p.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,c=p.css(e,"position"),u=p(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=p.css(e,"top"),l=p.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(r=u.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),p.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},p.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){p.offset.setOffset(this,e,t)}));var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,p.contains(t,r)?(typeof r.getBoundingClientRect!==B&&(i=r.getBoundingClientRect()),n=Et(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===p.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),p.nodeName(e[0],"html")||(r=e.offset()),r.top+=p.css(e[0],"borderTopWidth",!0),r.left+=p.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-p.css(n,"marginTop",!0),left:t.left-r.left-p.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||It;e&&!p.nodeName(e,"html")&&"static"===p.css(e,"position");)e=e.offsetParent;return e||It}))}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,n){var r="pageYOffset"===n;p.fn[t]=function(i){return A(this,(function(t,i,o){var a=Et(t);return void 0===o?a?a[n]:t[i]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)}),t,i,arguments.length,null)}})),p.each(["top","left"],(function(e,t){p.cssHooks[t]=_e(u.pixelPosition,(function(e,n){return n?(n=xe(e,t),ye.test(n)?p(e).position()[t]+"px":n):void 0}))})),p.each({Height:"height",Width:"width"},(function(e,t){p.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){p.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return A(this,(function(t,n,r){var i;return p.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?p.css(t,n,a):p.style(t,n,r,a)}),t,o?r:void 0,o,null)}}))})),p.fn.size=function(){return this.length},p.fn.andSelf=p.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return p}));var Ct=e.jQuery,Ot=e.$;return p.noConflict=function(t){return e.$===p&&(e.$=Ot),t&&e.jQuery===p&&(e.jQuery=Ct),p},typeof t===B&&(e.jQuery=e.$=p),p})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return gt(e,t,n,r,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var n=f(e),r=t.call(n.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&r);if(e._strict&&(i=i&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function h(e){var t=d(NaN);return null!=e?u(f(t),e):f(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var m=n.momentProperties=[];function g(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),0<m.length)for(n=0;n<m.length;n++)o(i=t[r=m[n]])||(e[r]=i);return e}var v=!1;function b(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function y(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function _(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&x(e[r])!==x(t[r]))&&a++;return a+o}function k(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var r=!0;return u((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var s in i+="\n["+a+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}k(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var T,I={};function E(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),I[e]||(k(t),I[e]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e,t){var n,r=u({},e);for(n in t)c(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},u(r[n],e[n]),u(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)c(e,n)&&!c(t,n)&&i(e[n])&&(r[n]=u({},r[n]));return r}function M(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var D={};function P(e,t){var n=e.toLowerCase();D[n]=D[n+"s"]=D[t]=e}function A(e){return"string"==typeof e?D[e]||D[e.toLowerCase()]:void 0}function N(e){var t,n,r={};for(n in e)c(e,n)&&(t=A(n))&&(r[t]=e[n]);return r}var R={};function H(e,t){R[e]=t}function L(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var j=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},V={};function W(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(V[e]=i),t&&(V[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&(V[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function $(e,t){return e.isValid()?(t=B(t,e.localeData()),U[t]=U[t]||function(e){var t,n,r,i=e.match(j);for(t=0,n=i.length;t<n;t++)V[i[t]]?i[t]=V[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=C(i[r])?i[r].call(t,e):i[r];return o}}(t),U[t](e)):e.localeData().invalidDate()}function B(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;0<=n&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var z=/\d/,Y=/\d\d/,q=/\d{3}/,G=/\d{4}/,K=/[+-]?\d{6}/,J=/\d\d?/,X=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,Z=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,re=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se={};function le(e,t,n){se[e]=C(t)?t:function(e,r){return e&&n?n:t}}function ce(e,t){return c(se,e)?se[e](t._strict,t._locale):new RegExp(ue(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i}))))}function ue(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function fe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),a(t)&&(r=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)de[e[n]]=r}function pe(e,t){fe(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function he(e){return me(e)?366:365}function me(e){return e%4==0&&e%100!=0||e%400==0}W("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),W(0,["YY",2],0,(function(){return this.year()%100})),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),P("year","y"),H("year",1),le("Y",re),le("YY",J,Y),le("YYYY",ee,G),le("YYYYY",te,K),le("YYYYYY",te,K),fe(["YYYYY","YYYYYY"],0),fe("YYYY",(function(e,t){t[0]=2===e.length?n.parseTwoDigitYear(e):x(e)})),fe("YY",(function(e,t){t[0]=n.parseTwoDigitYear(e)})),fe("Y",(function(e,t){t[0]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return x(e)+(68<x(e)?1900:2e3)};var ge,ve=be("FullYear",!0);function be(e,t){return function(r){return null!=r?(we(this,e,r),n.updateOffset(this,t),this):ye(this,e)}}function ye(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function we(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&me(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),xe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?me(e)?29:28:31-n%7%2}ge=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},W("M",["MM",2],"Mo",(function(){return this.month()+1})),W("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),W("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),P("month","M"),H("month",8),le("M",J),le("MM",J,Y),le("MMM",(function(e,t){return t.monthsShortRegex(e)})),le("MMMM",(function(e,t){return t.monthsRegex(e)})),fe(["M","MM"],(function(e,t){t[1]=x(e)-1})),fe(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:f(n).invalidMonth=e}));var _e=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ke="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Se="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Te(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ie(e){return null!=e?(Te(this,e),n.updateOffset(this,!0),this):ye(this,"Month")}var Ee=ae,Ce=ae;function Oe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=ue(r[t]),i[t]=ue(i[t]);for(t=0;t<24;t++)o[t]=ue(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Me(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function De(e,t,n){var r=7+t-n;return-(7+Me(e,0,r).getUTCDay()-t)%7+r-1}function Pe(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+De(e,r,i);return s<=0?a=he(o=e-1)+s:s>he(e)?(o=e+1,a=s-he(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Ae(e,t,n){var r,i,o=De(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Ne(i=e.year()-1,t,n):a>Ne(e.year(),t,n)?(r=a-Ne(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Ne(e,t,n){var r=De(e,t,n),i=De(e+1,t,n);return(he(e)-r+i)/7}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),H("week",5),H("isoWeek",5),le("w",J),le("ww",J,Y),le("W",J),le("WW",J,Y),pe(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=x(e)})),W("d",0,"do","day"),W("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),W("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),W("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),le("d",J),le("e",J),le("E",J),le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),le("dddd",(function(e,t){return t.weekdaysRegex(e)})),pe(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e})),pe(["d","e","E"],(function(e,t,n,r){t[r]=x(e)}));var Re="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),He="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Le="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),je=ae,Fe=ae,Ue=ae;function Ve(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=ue(s[t]),l[t]=ue(l[t]),c[t]=ue(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function We(){return this.hours()%12||12}function $e(e,t){W(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Be(e,t){return t._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,We),W("k",["kk",2],0,(function(){return this.hours()||24})),W("hmm",0,0,(function(){return""+We.apply(this)+L(this.minutes(),2)})),W("hmmss",0,0,(function(){return""+We.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)})),W("Hmm",0,0,(function(){return""+this.hours()+L(this.minutes(),2)})),W("Hmmss",0,0,(function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)})),$e("a",!0),$e("A",!1),P("hour","h"),H("hour",13),le("a",Be),le("A",Be),le("H",J),le("h",J),le("k",J),le("HH",J,Y),le("hh",J,Y),le("kk",J,Y),le("hmm",X),le("hmmss",Q),le("Hmm",X),le("Hmmss",Q),fe(["H","HH"],3),fe(["k","kk"],(function(e,t,n){var r=x(e);t[3]=24===r?0:r})),fe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),fe(["h","hh"],(function(e,t,n){t[3]=x(e),f(n).bigHour=!0})),fe("hmm",(function(e,t,n){var r=e.length-2;t[3]=x(e.substr(0,r)),t[4]=x(e.substr(r)),f(n).bigHour=!0})),fe("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=x(e.substr(0,r)),t[4]=x(e.substr(r,2)),t[5]=x(e.substr(i)),f(n).bigHour=!0})),fe("Hmm",(function(e,t,n){var r=e.length-2;t[3]=x(e.substr(0,r)),t[4]=x(e.substr(r))})),fe("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=x(e.substr(0,r)),t[4]=x(e.substr(r,2)),t[5]=x(e.substr(i))}));var ze,Ye=be("Hours",!0),qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ke,monthsShort:Se,week:{dow:0,doy:6},weekdays:Re,weekdaysMin:Le,weekdaysShort:He,meridiemParse:/[ap]\.?m?\.?/i},Ge={},Ke={};function Je(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){var t=null;if(!Ge[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=ze._abbr,require("./locale/"+e),Qe(t)}catch(e){}return Ge[e]}function Qe(e,t){var n;return e&&((n=o(t)?et(e):Ze(e,t))?ze=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ze._abbr}function Ze(e,t){if(null!==t){var n,r=qe;if(t.abbr=e,null!=Ge[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ge[e]._config;else if(null!=t.parentLocale)if(null!=Ge[t.parentLocale])r=Ge[t.parentLocale]._config;else{if(null==(n=Xe(t.parentLocale)))return Ke[t.parentLocale]||(Ke[t.parentLocale]=[]),Ke[t.parentLocale].push({name:e,config:t}),null;r=n._config}return Ge[e]=new M(O(r,t)),Ke[e]&&Ke[e].forEach((function(e){Ze(e.name,e.config)})),Qe(e),Ge[e]}return delete Ge[e],null}function et(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ze;if(!r(e)){if(t=Xe(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=Je(e[o]).split("-")).length,n=(n=Je(e[o+1]))?n.split("-"):null;0<t;){if(r=Xe(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&_(i,n,!0)>=t-1)break;t--}o++}return ze}(e)}function tt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[1]<0||11<n[1]?1:n[2]<1||n[2]>xe(n[0],n[1])?2:n[3]<0||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||59<n[4]?4:n[5]<0||59<n[5]?5:n[6]<0||999<n[6]?6:-1,f(e)._overflowDayOfYear&&(t<0||2<t)&&(t=2),f(e)._overflowWeeks&&-1===t&&(t=7),f(e)._overflowWeekday&&-1===t&&(t=8),f(e).overflow=t),e}function nt(e,t,n){return null!=e?e:null!=t?t:n}function rt(e){var t,r,i,o,a,s=[];if(!e._d){var l,c;for(l=e,c=new Date(n.now()),i=l._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=nt(t.GG,e._a[0],Ae(vt(),1,4).year),r=nt(t.W,1),((i=nt(t.E,1))<1||7<i)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=Ae(vt(),o,a);n=nt(t.gg,e._a[0],c.year),r=nt(t.w,c.week),null!=t.d?((i=t.d)<0||6<i)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||6<t.e)&&(l=!0)):i=o}r<1||r>Ne(n,o,a)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=Pe(n,r,i,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=nt(e._a[0],i[0]),(e._dayOfYear>he(a)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),r=Me(a,0,e._dayOfYear),e._a[1]=r.getUTCMonth(),e._a[2]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Me:function(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&0<=e&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(f(e).weekdayMismatch=!0)}}var it=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ot=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,at=/Z|[+-]\d\d(?::?\d\d)?/,st=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],lt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ct=/^\/?Date\((\-?\d+)/i;function ut(e){var t,n,r,i,o,a,s=e._i,l=it.exec(s)||ot.exec(s);if(l){for(f(e).iso=!0,t=0,n=st.length;t<n;t++)if(st[t][1].exec(l[1])){i=st[t][0],r=!1!==st[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=lt.length;t<n;t++)if(lt[t][1].exec(l[3])){o=(l[2]||" ")+lt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!at.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),ht(e)}else e._isValid=!1}var dt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var ft={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function pt(e){var t,n,r,i=dt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var o=function(e,t,n,r,i,o){var a=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Se.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}(i[4],i[3],i[2],i[5],i[6],i[7]);if(n=o,r=e,(t=i[1])&&He.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(f(r).weekdayMismatch=!0,!(r._isValid=!1)))return;e._a=o,e._tzm=function(e,t,n){if(e)return ft[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(i[8],i[9],i[10]),e._d=Me.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function ht(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],f(e).empty=!0;var t,r,i,o,a,s,l,u,d=""+e._i,p=d.length,h=0;for(i=B(e._f,e._locale).match(j)||[],t=0;t<i.length;t++)o=i[t],(r=(d.match(ce(o,e))||[])[0])&&(0<(a=d.substr(0,d.indexOf(r))).length&&f(e).unusedInput.push(a),d=d.slice(d.indexOf(r)+r.length),h+=r.length),V[o]?(r?f(e).empty=!1:f(e).unusedTokens.push(o),s=o,u=e,null!=(l=r)&&c(de,s)&&de[s](l,u._a,u,s)):e._strict&&!r&&f(e).unusedTokens.push(o);f(e).charsLeftOver=p-h,0<d.length&&f(e).unusedInput.push(d),e._a[3]<=12&&!0===f(e).bigHour&&0<e._a[3]&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0)),t)}(e._locale,e._a[3],e._meridiem),rt(e),tt(e)}else pt(e);else ut(e)}function mt(e){var t,c,d,m,v=e._i,w=e._f;return e._locale=e._locale||et(e._l),null===v||void 0===w&&""===v?h({nullInput:!0}):("string"==typeof v&&(e._i=v=e._locale.preparse(v)),y(v)?new b(tt(v)):(s(v)?e._d=v:r(w)?function(e){var t,n,r,i,o;if(0===e._f.length)return f(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ht(t),p(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==r||o<r)&&(r=o,n=t));u(e,n||t)}(e):w?ht(e):o(c=(t=e)._i)?t._d=new Date(n.now()):s(c)?t._d=new Date(c.valueOf()):"string"==typeof c?(d=t,null===(m=ct.exec(d._i))?(ut(d),!1===d._isValid&&(delete d._isValid,pt(d),!1===d._isValid&&(delete d._isValid,n.createFromInputFallback(d)))):d._d=new Date(+m[1])):r(c)?(t._a=l(c.slice(0),(function(e){return parseInt(e,10)})),rt(t)):i(c)?function(e){if(!e._d){var t=N(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),rt(e)}}(t):a(c)?t._d=new Date(c):n.createFromInputFallback(t),p(e)||(e._d=null),e))}function gt(e,t,n,o,a){var s,l={};return!0!==n&&!1!==n||(o=n,n=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||r(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=n,l._i=e,l._f=t,l._strict=o,(s=new b(tt(mt(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function vt(e,t,n,r){return gt(e,t,n,r,!1)}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var bt=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:h()})),yt=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:h()}));function wt(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return vt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var xt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _t(e){var t=N(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ge.call(xt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<xt.length;++r)if(e[xt[r]]){if(n)return!1;parseFloat(e[xt[r]])!==x(e[xt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=et(),this._bubble()}function kt(e){return e instanceof _t}function St(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Tt(e,t){W(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+L(~~(e/60),2)+t+L(~~e%60,2)}))}Tt("Z",":"),Tt("ZZ",""),le("Z",oe),le("ZZ",oe),fe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Et(oe,e)}));var It=/([\+\-]|\d\d)/gi;function Et(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(It)||["-",0,0],i=60*r[1]+x(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Ct(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(y(e)||s(e)?e.valueOf():vt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):vt(e).local()}function Ot(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Mt(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Dt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Pt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function At(e,t){var n,r,i,o=e,s=null;return kt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Dt.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:x(s[2])*n,h:x(s[3])*n,m:x(s[4])*n,s:x(s[5])*n,ms:x(St(1e3*s[6]))*n}):(s=Pt.exec(e))?(n="-"===s[1]?-1:(s[1],1),o={y:Nt(s[2],n),M:Nt(s[3],n),w:Nt(s[4],n),d:Nt(s[5],n),h:Nt(s[6],n),m:Nt(s[7],n),s:Nt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Ct(t,e),e.isBefore(t)?n=Rt(e,t):((n=Rt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(vt(o.from),vt(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new _t(o),kt(e)&&c(e,"_locale")&&(r._locale=e._locale),r}function Nt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Rt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ht(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Lt(this,At(n="string"==typeof n?+n:n,r),e),this}}function Lt(e,t,r,i){var o=t._milliseconds,a=St(t._days),s=St(t._months);e.isValid()&&(i=null==i||i,s&&Te(e,ye(e,"Month")+s*r),a&&we(e,"Date",ye(e,"Date")+a*r),o&&e._d.setTime(e._d.valueOf()+o*r),i&&n.updateOffset(e,a||s))}At.fn=_t.prototype,At.invalid=function(){return At(NaN)};var jt=Ht(1,"add"),Ft=Ht(-1,"subtract");function Ut(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Vt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=et(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Wt=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function $t(){return this._locale}function Bt(e,t){W(0,[e,e.length],0,t)}function zt(e,t,n,r,i){var o;return null==e?Ae(this,r,i).year:((o=Ne(e,r,i))<t&&(t=o),function(e,t,n,r,i){var o=Pe(e,t,n,r,i),a=Me(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,r,i))}W(0,["gg",2],0,(function(){return this.weekYear()%100})),W(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Bt("gggg","weekYear"),Bt("ggggg","weekYear"),Bt("GGGG","isoWeekYear"),Bt("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),le("G",re),le("g",re),le("GG",J,Y),le("gg",J,Y),le("GGGG",ee,G),le("gggg",ee,G),le("GGGGG",te,K),le("ggggg",te,K),pe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=x(e)})),pe(["gg","GG"],(function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)})),W("Q",0,"Qo","quarter"),P("quarter","Q"),H("quarter",7),le("Q",z),fe("Q",(function(e,t){t[1]=3*(x(e)-1)})),W("D",["DD",2],"Do","date"),P("date","D"),H("date",9),le("D",J),le("DD",J,Y),le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),fe(["D","DD"],2),fe("Do",(function(e,t){t[2]=x(e.match(J)[0])}));var Yt=be("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),H("dayOfYear",4),le("DDD",Z),le("DDDD",q),fe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=x(e)})),W("m",["mm",2],0,"minute"),P("minute","m"),H("minute",14),le("m",J),le("mm",J,Y),fe(["m","mm"],4);var qt=be("Minutes",!1);W("s",["ss",2],0,"second"),P("second","s"),H("second",15),le("s",J),le("ss",J,Y),fe(["s","ss"],5);var Gt,Kt=be("Seconds",!1);for(W("S",0,0,(function(){return~~(this.millisecond()/100)})),W(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),W(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),W(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),W(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),W(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),W(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),P("millisecond","ms"),H("millisecond",16),le("S",Z,z),le("SS",Z,Y),le("SSS",Z,q),Gt="SSSS";Gt.length<=9;Gt+="S")le(Gt,ne);function Jt(e,t){t[6]=x(1e3*("0."+e))}for(Gt="S";Gt.length<=9;Gt+="S")fe(Gt,Jt);var Xt=be("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var Qt=b.prototype;function Zt(e){return e}Qt.add=jt,Qt.calendar=function(e,t){var r=e||vt(),i=Ct(r,this).startOf("day"),o=n.calendarFormat(this,i)||"sameElse",a=t&&(C(t[o])?t[o].call(this,r):t[o]);return this.format(a||this.localeData().calendar(o,this,vt(r)))},Qt.clone=function(){return new b(this)},Qt.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Ct(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=A(t)){case"year":o=Ut(this,r)/12;break;case"month":o=Ut(this,r);break;case"quarter":o=Ut(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:w(o)},Qt.endOf=function(e){return void 0===(e=A(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},Qt.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=$(this,e);return this.localeData().postformat(t)},Qt.from=function(e,t){return this.isValid()&&(y(e)&&e.isValid()||vt(e).isValid())?At({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Qt.fromNow=function(e){return this.from(vt(),e)},Qt.to=function(e,t){return this.isValid()&&(y(e)&&e.isValid()||vt(e).isValid())?At({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Qt.toNow=function(e){return this.to(vt(),e)},Qt.get=function(e){return C(this[e=A(e)])?this[e]():this},Qt.invalidAt=function(){return f(this).overflow},Qt.isAfter=function(e,t){var n=y(e)?e:vt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(o(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Qt.isBefore=function(e,t){var n=y(e)?e:vt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(o(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Qt.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},Qt.isSame=function(e,t){var n,r=y(e)?e:vt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=A(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Qt.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Qt.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Qt.isValid=function(){return p(this)},Qt.lang=Wt,Qt.locale=Vt,Qt.localeData=$t,Qt.max=yt,Qt.min=bt,Qt.parsingFlags=function(){return u({},f(this))},Qt.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:R[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=N(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(C(this[e=A(e)]))return this[e](t);return this},Qt.startOf=function(e){switch(e=A(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},Qt.subtract=Ft,Qt.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Qt.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Qt.toDate=function(){return new Date(this.valueOf())},Qt.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?$(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(n,"Z")):$(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Qt.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},Qt.toJSON=function(){return this.isValid()?this.toISOString():null},Qt.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Qt.unix=function(){return Math.floor(this.valueOf()/1e3)},Qt.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Qt.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Qt.year=ve,Qt.isLeapYear=function(){return me(this.year())},Qt.weekYear=function(e){return zt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Qt.isoWeekYear=function(e){return zt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Qt.quarter=Qt.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Qt.month=Ie,Qt.daysInMonth=function(){return xe(this.year(),this.month())},Qt.week=Qt.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Qt.isoWeek=Qt.isoWeeks=function(e){var t=Ae(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Qt.weeksInYear=function(){var e=this.localeData()._week;return Ne(this.year(),e.dow,e.doy)},Qt.isoWeeksInYear=function(){return Ne(this.year(),1,4)},Qt.date=Yt,Qt.day=Qt.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-r,"d")):r},Qt.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Qt.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=(n=e,r=this.localeData(),"string"==typeof n?r.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?t:t-7)}return this.day()||7;var n,r},Qt.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Qt.hour=Qt.hours=Ye,Qt.minute=Qt.minutes=qt,Qt.second=Qt.seconds=Kt,Qt.millisecond=Qt.milliseconds=Xt,Qt.utcOffset=function(e,t,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Et(oe,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=Ot(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Lt(this,At(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ot(this)},Qt.utc=function(e){return this.utcOffset(0,e)},Qt.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ot(this),"m")),this},Qt.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Et(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Qt.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?vt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Qt.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Qt.isLocal=function(){return!!this.isValid()&&!this._isUTC},Qt.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Qt.isUtc=Mt,Qt.isUTC=Mt,Qt.zoneAbbr=function(){return this._isUTC?"UTC":""},Qt.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Qt.dates=S("dates accessor is deprecated. Use date instead.",Yt),Qt.months=S("months accessor is deprecated. Use month instead",Ie),Qt.years=S("years accessor is deprecated. Use year instead",ve),Qt.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Qt.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=mt(e))._a){var t=e._isUTC?d(e._a):vt(e._a);this._isDSTShifted=this.isValid()&&0<_(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var en=M.prototype;function tn(e,t,n,r){var i=et(),o=d().set(r,t);return i[n](o,e)}function nn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return tn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=tn(e,r,n,"month");return i}function rn(e,t,n,r){"boolean"==typeof e?a(t)&&(n=t,t=void 0):(t=e,e=!1,a(n=t)&&(n=t,t=void 0)),t=t||"";var i,o=et(),s=e?o._week.dow:0;if(null!=n)return tn(t,(n+s)%7,r,"day");var l=[];for(i=0;i<7;i++)l[i]=tn(t,(i+s)%7,r,"day");return l}en.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r},en.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},en.invalidDate=function(){return this._invalidDate},en.ordinal=function(e){return this._ordinal.replace("%d",e)},en.preparse=Zt,en.postformat=Zt,en.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)},en.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)},en.set=function(e){var t,n;for(n in e)C(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},en.months=function(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||_e).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone},en.monthsShort=function(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[_e.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},en.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ge.call(this._shortMonthsParse,a))?i:null:-1!==(i=ge.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=ge.call(this._shortMonthsParse,a))||-1!==(i=ge.call(this._longMonthsParse,a))?i:null:-1!==(i=ge.call(this._longMonthsParse,a))||-1!==(i=ge.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},en.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Oe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Ce),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},en.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Oe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Ee),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},en.week=function(e){return Ae(e,this._week.dow,this._week.doy).week},en.firstDayOfYear=function(){return this._week.doy},en.firstDayOfWeek=function(){return this._week.dow},en.weekdays=function(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone},en.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},en.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},en.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ge.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=ge.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=ge.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=ge.call(this._weekdaysParse,a))||-1!==(i=ge.call(this._shortWeekdaysParse,a))||-1!==(i=ge.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=ge.call(this._shortWeekdaysParse,a))||-1!==(i=ge.call(this._weekdaysParse,a))||-1!==(i=ge.call(this._minWeekdaysParse,a))?i:null:-1!==(i=ge.call(this._minWeekdaysParse,a))||-1!==(i=ge.call(this._weekdaysParse,a))||-1!==(i=ge.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},en.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},en.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Fe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},en.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ue),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},en.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},en.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},Qe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",Qe),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",et);var on=Math.abs;function an(e,t,n,r){var i=At(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function sn(e){return e<0?Math.floor(e):Math.ceil(e)}function ln(e){return 4800*e/146097}function cn(e){return 146097*e/4800}function un(e){return function(){return this.as(e)}}var dn=un("ms"),fn=un("s"),pn=un("m"),hn=un("h"),mn=un("d"),gn=un("w"),vn=un("M"),bn=un("y");function yn(e){return function(){return this.isValid()?this._data[e]:NaN}}var wn=yn("milliseconds"),xn=yn("seconds"),_n=yn("minutes"),kn=yn("hours"),Sn=yn("days"),Tn=yn("months"),In=yn("years"),En=Math.round,Cn={ss:44,s:45,m:45,h:22,d:26,M:11},On=Math.abs;function Mn(e){return(0<e)-(e<0)||+e}function Dn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=On(this._milliseconds)/1e3,r=On(this._days),i=On(this._months);t=w((e=w(n/60))/60),n%=60,e%=60;var o=w(i/12),a=i%=12,s=r,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=Mn(this._months)!==Mn(d)?"-":"",h=Mn(this._days)!==Mn(d)?"-":"",m=Mn(this._milliseconds)!==Mn(d)?"-":"";return f+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?h+s+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var Pn=_t.prototype;return Pn.isValid=function(){return this._isValid},Pn.abs=function(){var e=this._data;return this._milliseconds=on(this._milliseconds),this._days=on(this._days),this._months=on(this._months),e.milliseconds=on(e.milliseconds),e.seconds=on(e.seconds),e.minutes=on(e.minutes),e.hours=on(e.hours),e.months=on(e.months),e.years=on(e.years),this},Pn.add=function(e,t){return an(this,e,t,1)},Pn.subtract=function(e,t){return an(this,e,t,-1)},Pn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=A(e))||"year"===e)return t=this._days+r/864e5,n=this._months+ln(t),"month"===e?n:n/12;switch(t=this._days+Math.round(cn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Pn.asMilliseconds=dn,Pn.asSeconds=fn,Pn.asMinutes=pn,Pn.asHours=hn,Pn.asDays=mn,Pn.asWeeks=gn,Pn.asMonths=vn,Pn.asYears=bn,Pn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},Pn._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*sn(cn(s)+a),s=a=0),l.milliseconds=o%1e3,e=w(o/1e3),l.seconds=e%60,t=w(e/60),l.minutes=t%60,n=w(t/60),l.hours=n%24,s+=i=w(ln(a+=w(n/24))),a-=sn(cn(i)),r=w(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},Pn.clone=function(){return At(this)},Pn.get=function(e){return e=A(e),this.isValid()?this[e+"s"]():NaN},Pn.milliseconds=wn,Pn.seconds=xn,Pn.minutes=_n,Pn.hours=kn,Pn.days=Sn,Pn.weeks=function(){return w(this.days()/7)},Pn.months=Tn,Pn.years=In,Pn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,r,i,o,a,s,l,c,u,d=this.localeData(),f=(t=!e,n=d,r=At(this).abs(),i=En(r.as("s")),o=En(r.as("m")),a=En(r.as("h")),s=En(r.as("d")),l=En(r.as("M")),c=En(r.as("y")),(u=i<=Cn.ss&&["s",i]||i<Cn.s&&["ss",i]||o<=1&&["m"]||o<Cn.m&&["mm",o]||a<=1&&["h"]||a<Cn.h&&["hh",a]||s<=1&&["d"]||s<Cn.d&&["dd",s]||l<=1&&["M"]||l<Cn.M&&["MM",l]||c<=1&&["y"]||["yy",c])[2]=t,u[3]=0<+this,u[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,u));return e&&(f=d.pastFuture(+this,f)),d.postformat(f)},Pn.toISOString=Dn,Pn.toString=Dn,Pn.toJSON=Dn,Pn.locale=Vt,Pn.localeData=$t,Pn.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dn),Pn.lang=Wt,W("X",0,0,"unix"),W("x",0,0,"valueOf"),le("x",re),le("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),fe("x",(function(e,t,n){n._d=new Date(x(e))})),n.version="2.22.2",e=vt,n.fn=Qt,n.min=function(){return wt("isBefore",[].slice.call(arguments,0))},n.max=function(){return wt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(e){return vt(1e3*e)},n.months=function(e,t){return nn(e,t,"months")},n.isDate=s,n.locale=Qe,n.invalid=h,n.duration=At,n.isMoment=y,n.weekdays=function(e,t,n){return rn(e,t,n,"weekdays")},n.parseZone=function(){return vt.apply(null,arguments).parseZone()},n.localeData=et,n.isDuration=kt,n.monthsShort=function(e,t){return nn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return rn(e,t,n,"weekdaysMin")},n.defineLocale=Ze,n.updateLocale=function(e,t){if(null!=t){var n,r,i=qe;null!=(r=Xe(e))&&(i=r._config),(n=new M(t=O(i,t))).parentLocale=Ge[e],Ge[e]=n,Qe(e)}else null!=Ge[e]&&(null!=Ge[e].parentLocale?Ge[e]=Ge[e].parentLocale:null!=Ge[e]&&delete Ge[e]);return Ge[e]},n.locales=function(){return T(Ge)},n.weekdaysShort=function(e,t,n){return rn(e,t,n,"weekdaysShort")},n.normalizeUnits=A,n.relativeTimeRounding=function(e){return void 0===e?En:"function"==typeof e&&(En=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Cn[e]&&(void 0===t?Cn[e]:(Cn[e]=t,"s"===e&&(Cn.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=Qt,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},n})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.R={})}(this,(function(e){"use strict";function t(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function n(e){return function n(r){return 0===arguments.length||t(r)?n:e.apply(this,arguments)}}function r(e){return function r(i,o){switch(arguments.length){case 0:return r;case 1:return t(i)?r:n((function(t){return e(i,t)}));default:return t(i)&&t(o)?r:t(i)?n((function(t){return e(t,o)})):t(o)?n((function(t){return e(i,t)})):e(i,o)}}}function i(e,t){t=t||[];var n,r=(e=e||[]).length,i=t.length,o=[];for(n=0;r>n;)o[o.length]=e[n],n+=1;for(n=0;i>n;)o[o.length]=t[n],n+=1;return o}function o(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,a){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,a,s){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,a,s,l){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,a,s,l,c){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,a,s,l,c,u){return t.apply(this,arguments)};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten")}}function a(e,n,r){return function(){for(var i=[],s=0,l=e,c=0;n.length>c||arguments.length>s;){var u;c>=n.length||t(n[c])&&arguments.length>s?(u=arguments[s],s+=1):u=n[c],i[c]=u,t(u)||(l-=1),c+=1}return l>0?o(l,a(e,i,r)):r.apply(this,i)}}function s(e){return function i(o,a,s){switch(arguments.length){case 0:return i;case 1:return t(o)?i:r((function(t,n){return e(o,t,n)}));case 2:return t(o)&&t(a)?i:t(o)?r((function(t,n){return e(t,a,n)})):t(a)?r((function(t,n){return e(o,t,n)})):n((function(t){return e(o,a,t)}));default:return t(o)&&t(a)&&t(s)?i:t(o)&&t(a)?r((function(t,n){return e(t,n,s)})):t(o)&&t(s)?r((function(t,n){return e(t,a,n)})):t(a)&&t(s)?r((function(t,n){return e(o,t,n)})):t(o)?n((function(t){return e(t,a,s)})):t(a)?n((function(t){return e(o,t,s)})):t(s)?n((function(t){return e(o,a,t)})):e(o,a,s)}}}function l(e){return"function"==typeof e["@@transducer/step"]}function c(e,t,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!ve(i)){for(var o=0;e.length>o;){if("function"==typeof i[e[o]])return i[e[o]].apply(i,r);o+=1}if(l(i))return t.apply(null,r)(i)}return n.apply(this,arguments)}}function u(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}function d(e,t){this.xf=t,this.f=e,this.all=!0}function f(e,t){for(var n=0,r=t.length,i=Array(r);r>n;)i[n]=e(t[n]),n+=1;return i}function p(e){return"[object String]"===Object.prototype.toString.call(e)}function h(e){this.f=e}function m(e){return new h(e)}function g(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function v(e,t,n,r){return e["@@transducer/result"](n[r](_e(e["@@transducer/step"],e),t))}function b(e,t,n){if("function"==typeof e&&(e=m(e)),xe(n))return function(e,t,n){for(var r=0,i=n.length;i>r;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return v(e,t,n,"fantasy-land/reduce");if(null!=n[ke])return g(e,t,n[ke]());if("function"==typeof n.next)return g(e,t,n);if("function"==typeof n.reduce)return v(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}function y(e,t){this.xf=t,this.f=e}function w(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function x(e,t){this.xf=t,this.f=e,this.any=!1}function _(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=Array(e)}function k(e){return"[object Function]"===Object.prototype.toString.call(e)}function S(e){return function t(n){for(var r,i,o,a=[],s=0,l=n.length;l>s;){if(xe(n[s]))for(o=0,i=(r=e?t(n[s]):n[s]).length;i>o;)a[a.length]=r[o],o+=1;else a[a.length]=n[s];s+=1}return a}}function T(e){return RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}function I(e,t,n,r){var i=function(i){for(var o=t.length,a=0;o>a;){if(e===t[a])return n[a];a+=1}for(var s in t[a+1]=e,n[a+1]=i,e)i[s]=r?I(e[s],t,n,!0):e[s];return i};switch(ut(e)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return T(e);default:return e}}function E(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function C(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return ve(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}function O(){if(0===arguments.length)throw Error("pipe requires at least one argument");return o(arguments[0].length,He(E,arguments[0],gt(arguments)))}function M(){if(0===arguments.length)throw Error("compose requires at least one argument");return O.apply(this,vt(arguments))}function D(){if(0===arguments.length)throw Error("composeK requires at least one argument");var e=Array.prototype.slice.call(arguments),t=e.pop();return M(M.apply(this,Pe(lt,e)),t)}function P(e,t){return function(){var n=this;return e.apply(n,arguments).then((function(e){return t.call(n,e)}))}}function A(){if(0===arguments.length)throw Error("pipeP requires at least one argument");return o(arguments[0].length,He(P,arguments[0],gt(arguments)))}function N(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function R(e,t,n){for(var r=0,i=n.length;i>r;){if(e(t,n[r]))return!0;r+=1}return!1}function H(e,t,n,r){function i(e,t){return L(e,t,n.slice(),r.slice())}var o=N(e);return!R((function(e,t){return!R(i,t,e)}),N(t),o)}function L(e,t,n,r){if(bt(e,t))return!0;var i=ut(e);if(i!==ut(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=(e+"").match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!bt(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!bt(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===e)return r[o]===t;o-=1}switch(i){case"Map":return e.size===t.size&&H(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&H(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=De(e);if(a.length!==De(t).length)return!1;var s=n.concat([e]),l=r.concat([t]);for(o=a.length-1;o>=0;){var c=a[o];if(!w(c,t)||!L(t[c],e[c],s,l))return!1;o-=1}return!0}function j(e,t,n){var r,i;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;e.length>n;){if(0===(i=e[n])&&1/i===r)return n;n+=1}return-1}if(t!=t){for(;e.length>n;){if("number"==typeof(i=e[n])&&i!=i)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;e.length>n;){if(yt(e[n],t))return n;n+=1}return-1}function F(e,t){return j(t,e,0)>=0}function U(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}function V(e){return function(){return!e.apply(this,arguments)}}function W(e,t){for(var n=0,r=t.length,i=[];r>n;)e(t[n])&&(i[i.length]=t[n]),n+=1;return i}function $(e){return"[object Object]"===Object.prototype.toString.call(e)}function B(e,t){this.xf=t,this.f=e}function z(e,t){var n=function(n){var r=t.concat([e]);return F(n,r)?"<Circular>":z(n,r)},r=function(e,t){return f((function(t){return U(t)+": "+n(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+f(n,e).join(", ")+"))";case"[object Array]":return"["+f(n,e).concat(r(e,kt((function(e){return/^\d+$/.test(e)}),De(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+n(e.valueOf())+")":""+e;case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):U(xt(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+n(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+n(e.valueOf())+")":U(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var i=""+e;if("[object Object]"!==i)return i}return"{"+r(e,De(e)).join(", ")+"}"}}function Y(e,t,n,r){this.valueFn=e,this.valueAcc=t,this.keyFn=n,this.xf=r,this.inputs={}}function q(e,t){this.xf=t,this.n=e}function G(e,t){this.xf=t,this.n=e,this.i=0}function K(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=Array(e)}function J(e,t){this.f=e,this.retained=[],this.xf=t}function X(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}function Q(e,t){this.xf=t,this.f=e}function Z(e,t){this.xf=t,this.f=e,this.found=!1}function ee(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}function te(e,t){this.xf=t,this.f=e}function ne(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}function re(e){return e}function ie(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}function oe(e,t,n){var r,i=typeof e;switch(i){case"string":case"number":return 0===e&&1/e==-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?e in n._items[i]||(t&&(n._items[i][e]=!0),!1):(t&&(n._items[i]={},n._items[i][e]=!0),!1);case"boolean":if(i in n._items){var o=e?1:0;return!!n._items[i][o]||(t&&(n._items[i][o]=!0),!1)}return t&&(n._items[i]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?!!F(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1);case"undefined":return!!n._items[i]||(t&&(n._items[i]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(e))in n._items?!!F(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1)}}function ae(e){return"[object Number]"===Object.prototype.toString.call(e)}function se(e){return r((function(t,n){return o(Math.max(0,t.length-n.length),(function(){return t.apply(this,e(n,arguments))}))}))}function le(e,t){this.xf=t,this.f=e}function ce(e,t){this.xf=t,this.f=e}var ue=n((function(e){return function(){return e}})),de=ue(!1),fe=ue(!0),pe=r((function(e,t){return+e+ +t})),he=r((function(e,t){return 1===e?n(t):o(e,a(e,[],t))})),me=n((function(e){return he(e.length,(function(){var t=0,n=arguments[0],r=arguments[arguments.length-1],o=Array.prototype.slice.call(arguments,0);return o[0]=function(){var e=n.apply(this,i(arguments,[t,r]));return t+=1,e},e.apply(this,o)}))})),ge=s((function(e,t,n){if(t>=n.length||-n.length>t)return n;var r=(0>t?n.length:0)+t,o=i(n);return o[r]=e(n[r]),o})),ve=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)},be={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};d.prototype["@@transducer/init"]=be.init,d.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},d.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=u(this.xf["@@transducer/step"](e,!1))),e};var ye=r(c(["all"],r((function(e,t){return new d(e,t)})),(function(e,t){for(var n=0;t.length>n;){if(!e(t[n]))return!1;n+=1}return!0}))),we=r((function(e,t){return t>e?t:e})),xe=n((function(e){return!!ve(e)||!!e&&"object"==typeof e&&!p(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}));h.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap")},h.prototype["@@transducer/result"]=function(e){return e},h.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)};var _e=r((function(e,t){return o(e.length,(function(){return e.apply(t,arguments)}))})),ke="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";y.prototype["@@transducer/init"]=be.init,y.prototype["@@transducer/result"]=be.result,y.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))};var Se=r((function(e,t){return new y(e,t)})),Te=Object.prototype.toString,Ie=function(){return"[object Arguments]"===Te.call(arguments)?function(e){return"[object Arguments]"===Te.call(e)}:function(e){return w("callee",e)}},Ee=!{toString:null}.propertyIsEnumerable("toString"),Ce=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Oe=function(){return arguments.propertyIsEnumerable("length")}(),Me=function(e,t){for(var n=0;e.length>n;){if(e[n]===t)return!0;n+=1}return!1},De=n("function"!=typeof Object.keys||Oe?function(e){if(Object(e)!==e)return[];var t,n,r=[],i=Oe&&Ie(e);for(t in e)!w(t,e)||i&&"length"===t||(r[r.length]=t);if(Ee)for(n=6;n>=0;)w(t=Ce[n],e)&&!Me(r,t)&&(r[r.length]=t),n-=1;return r}:function(e){return Object(e)!==e?[]:Object.keys(e)}),Pe=r(c(["fantasy-land/map","map"],Se,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return he(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return b((function(n,r){return n[r]=e(t[r]),n}),{},De(t));default:return f(e,t)}}))),Ae=r((function(e,t){for(var n=t,r=0;e.length>r;){if(null==n)return;n=n[e[r]],r+=1}return n})),Ne=r((function(e,t){return Ae([e],t)})),Re=r((function(e,t){return Pe(Ne(e),t)})),He=s(b),Le=n((function(e){return he(He(we,0,Re("length",e)),(function(){for(var t=0,n=e.length;n>t;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0}))})),je=r((function(e,t){return e&&t}));x.prototype["@@transducer/init"]=be.init,x.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},x.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=u(this.xf["@@transducer/step"](e,!0))),e};var Fe=r((function(e,t){return new x(e,t)})),Ue=r(c(["any"],Fe,(function(e,t){for(var n=0;t.length>n;){if(e(t[n]))return!0;n+=1}return!1}))),Ve=n((function(e){return he(He(we,0,Re("length",e)),(function(){for(var t=0,n=e.length;n>t;){if(e[t].apply(this,arguments))return!0;t+=1}return!1}))})),We=r((function(e,t){return"function"==typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"==typeof e.ap?e.ap(t):"function"==typeof e?function(n){return e(n)(t(n))}:b((function(e,n){return i(e,Pe(n,t))}),[],e)}));_.prototype["@@transducer/init"]=be.init,_.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},_.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},_.prototype.store=function(e){this.acc[this.pos]=e,(this.pos+=1)===this.acc.length&&(this.pos=0,this.full=!0)},_.prototype.getCopy=function(){return i(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))};var $e=r(c([],r((function(e,t){return new _(e,t)})),(function(e,t){for(var n=0,r=t.length-(e-1),i=Array(0>r?0:r);r>n;)i[n]=Array.prototype.slice.call(t,n,n+e),n+=1;return i}))),Be=r((function(e,t){return i(t,[e])})),ze=r((function(e,t){return e.apply(this,t)})),Ye=n((function(e){for(var t=De(e),n=t.length,r=[],i=0;n>i;)r[i]=e[t[i]],i+=1;return r})),qe=n((function e(t){return t=Pe((function(t){return"function"==typeof t?t:e(t)}),t),he(He(we,0,Re("length",Ye(t))),(function(){var e=arguments;return Pe((function(t){return ze(t,e)}),t)}))})),Ge=r((function(e,t){return t(e)})),Ke=s((function(e,t,n){var r=e(t),i=e(n);return i>r?-1:r>i?1:0})),Je=s((function(e,t,n){var r={};for(var i in n)r[i]=n[i];return r[e]=t,r})),Xe=Number.isInteger||function(e){return e<<0===e},Qe=n((function(e){return null==e})),Ze=s((function e(t,n,r){if(0===t.length)return n;var i=t[0];if(t.length>1){var o=!Qe(r)&&w(i,r)?r[i]:Xe(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,o)}if(Xe(i)&&ve(r)){var a=[].concat(r);return a[i]=n,a}return Je(i,n,r)})),et=r((function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,n){return t.call(this,e,n)};case 3:return function(e,n,r){return t.call(this,e,n,r)};case 4:return function(e,n,r,i){return t.call(this,e,n,r,i)};case 5:return function(e,n,r,i,o){return t.call(this,e,n,r,i,o)};case 6:return function(e,n,r,i,o,a){return t.call(this,e,n,r,i,o,a)};case 7:return function(e,n,r,i,o,a,s){return t.call(this,e,n,r,i,o,a,s)};case 8:return function(e,n,r,i,o,a,s,l){return t.call(this,e,n,r,i,o,a,s,l)};case 9:return function(e,n,r,i,o,a,s,l,c){return t.call(this,e,n,r,i,o,a,s,l,c)};case 10:return function(e,n,r,i,o,a,s,l,c,u){return t.call(this,e,n,r,i,o,a,s,l,c,u)};default:throw Error("First argument to nAry must be a non-negative integer no greater than ten")}})),tt=n((function(e){return et(2,e)})),nt=r((function(e,t){var n=he(e,t);return he(e,(function(){return b(We,Pe(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),rt=n((function(e){return nt(e.length,e)})),it=r((function(e,t){return k(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:rt(je)(e,t)})),ot=n((function(e){return he(e.length,e)})),at=ot((function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))})),st=function(e){var t=function(e){return{"@@transducer/init":be.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var r=e["@@transducer/step"](t,n);return r["@@transducer/reduced"]?function(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}(r):r}}}(e);return{"@@transducer/init":be.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){return xe(n)?b(t,e,n):b(t,e,[n])}}},lt=r(c(["fantasy-land/chain","chain"],r((function(e,t){return Pe(e,st(t))})),(function(e,t){return"function"==typeof t?function(n){return e(t(n))(n)}:S(!1)(Pe(e,t))}))),ct=s((function(e,t,n){if(e>t)throw Error("min must not be greater than max in clamp(min, max, value)");return e>n?e:n>t?t:n})),ut=n((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)})),dt=n((function(e){return null!=e&&"function"==typeof e.clone?e.clone():I(e,[],[],!0)})),ft=n((function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}})),pt=n((function(e){return!e})),ht=rt(pt),mt=s(C("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)}))),gt=n(C("tail",mt(1,1/0))),vt=n((function(e){return p(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()})),bt=r((function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t})),yt=r((function(e,t){return L(e,t,[],[])})),wt=function(e){return(10>e?"0":"")+e},xt="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+wt(e.getUTCMonth()+1)+"-"+wt(e.getUTCDate())+"T"+wt(e.getUTCHours())+":"+wt(e.getUTCMinutes())+":"+wt(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};B.prototype["@@transducer/init"]=be.init,B.prototype["@@transducer/result"]=be.result,B.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e};var _t=r(c(["filter"],r((function(e,t){return new B(e,t)})),(function(e,t){return $(t)?b((function(n,r){return e(t[r])&&(n[r]=t[r]),n}),{},De(t)):W(e,t)}))),kt=r((function(e,t){return _t(V(e),t)})),St=n((function(e){return z(e,[])})),Tt=r((function(e,t){if(ve(e)){if(ve(t))return e.concat(t);throw new TypeError(St(t)+" is not an array")}if(p(e)){if(p(t))return e+t;throw new TypeError(St(t)+" is not a string")}if(null!=e&&k(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&k(e.concat))return e.concat(t);throw new TypeError(St(e)+' does not have a method named "concat" or "fantasy-land/concat"')})),It=n((function(e){return o(He(we,0,Pe((function(e){return e[0].length}),e)),(function(){for(var t=0;e.length>t;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}}))})),Et=r((function(e,t){if(e>10)throw Error("Constructor with greater than ten arguments");return 0===e?function(){return new t}:ot(et(e,(function(e,n,r,i,o,a,s,l,c,u){switch(arguments.length){case 1:return new t(e);case 2:return new t(e,n);case 3:return new t(e,n,r);case 4:return new t(e,n,r,i);case 5:return new t(e,n,r,i,o);case 6:return new t(e,n,r,i,o,a);case 7:return new t(e,n,r,i,o,a,s);case 8:return new t(e,n,r,i,o,a,s,l);case 9:return new t(e,n,r,i,o,a,s,l,c);case 10:return new t(e,n,r,i,o,a,s,l,c,u)}})))})),Ct=n((function(e){return Et(e.length,e)})),Ot=r(F),Mt=r((function(e,t){return he(He(we,0,Re("length",t)),(function(){var n=arguments,r=this;return e.apply(r,f((function(e){return e.apply(r,n)}),t))}))}));Y.prototype["@@transducer/init"]=be.init,Y.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(w(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},Y.prototype["@@transducer/step"]=function(e,t){var n=this.keyFn(t);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],t),e};var Dt=a(4,[],c([],a(4,[],(function(e,t,n,r){return new Y(e,t,n,r)})),(function(e,t,n,r){return b((function(r,i){var o=n(i);return r[o]=e(w(o,r)?r[o]:t,i),r}),{},r)}))),Pt=Dt((function(e,t){return e+1}),0),At=pe(-1),Nt=r((function(e,t){return null==t||t!=t?e:t})),Rt=s((function(e,t,n){var r=e(t),i=e(n);return r>i?-1:i>r?1:0})),Ht=r((function(e,t){for(var n=[],r=0,i=e.length;i>r;)F(e[r],t)||F(e[r],n)||(n[n.length]=e[r]),r+=1;return n})),Lt=s((function(e,t,n){for(var r=[],i=0,o=t.length;o>i;)R(e,t[i],n)||R(e,t[i],r)||r.push(t[i]),i+=1;return r})),jt=r((function(e,t){var n={};for(var r in t)n[r]=t[r];return delete n[e],n})),Ft=s((function(e,t,n){var r=Array.prototype.slice.call(n,0);return r.splice(e,t),r})),Ut=s((function(e,t,n){return ge(ue(t),e,n)})),Vt=r((function e(t,n){switch(t.length){case 0:return n;case 1:return Xe(t[0])?Ft(t[0],1,n):jt(t[0],n);default:var r=t[0],i=Array.prototype.slice.call(t,1);return null==n[r]?n:Xe(t[0])?Ut(r,e(i,n[r]),n):Je(r,e(i,n[r]),n)}})),Wt=r((function(e,t){return e/t}));q.prototype["@@transducer/init"]=be.init,q.prototype["@@transducer/result"]=be.result,q.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)};var $t=r(c(["drop"],r((function(e,t){return new q(e,t)})),(function(e,t){return mt(Math.max(0,e),1/0,t)})));G.prototype["@@transducer/init"]=be.init,G.prototype["@@transducer/result"]=be.result,G.prototype["@@transducer/step"]=function(e,t){this.i+=1;var n=0===this.n?e:this.xf["@@transducer/step"](e,t);return 0>this.n||this.n>this.i?n:u(n)};var Bt=r(c(["take"],r((function(e,t){return new G(e,t)})),(function(e,t){return mt(0,0>e?1/0:e,t)})));K.prototype["@@transducer/init"]=be.init,K.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},K.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},K.prototype.store=function(e){this.acc[this.pos]=e,(this.pos+=1)===this.acc.length&&(this.pos=0,this.full=!0)};var zt=r(c([],r((function(e,t){return new K(e,t)})),(function(e,t){return Bt(t.length>e?t.length-e:0,t)})));J.prototype["@@transducer/init"]=be.init,J.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},J.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},J.prototype.flush=function(e,t){return e=b(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},J.prototype.retain=function(e,t){return this.retained.push(t),e};var Yt=r(c([],r((function(e,t){return new J(e,t)})),(function(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return mt(0,n+1,t)})));X.prototype["@@transducer/init"]=be.init,X.prototype["@@transducer/result"]=be.result,X.prototype["@@transducer/step"]=function(e,t){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(n=!0):this.seenFirstValue=!0,this.lastValue=t,n?e:this.xf["@@transducer/step"](e,t)};var qt=r((function(e,t){return new X(e,t)})),Gt=r((function(e,t){var n=0>e?t.length+e:e;return p(t)?t.charAt(n):t[n]})),Kt=Gt(-1),Jt=r(c([],qt,(function(e,t){var n=[],r=1,i=t.length;if(0!==i)for(n[0]=t[0];i>r;)e(Kt(n),t[r])||(n[n.length]=t[r]),r+=1;return n}))),Xt=n(c([],qt(yt),Jt(yt)));Q.prototype["@@transducer/init"]=be.init,Q.prototype["@@transducer/result"]=be.result,Q.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)};var Qt=r(c(["dropWhile"],r((function(e,t){return new Q(e,t)})),(function(e,t){for(var n=0,r=t.length;r>n&&e(t[n]);)n+=1;return mt(n,1/0,t)}))),Zt=r((function(e,t){return e||t})),en=r((function(e,t){return k(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:rt(Zt)(e,t)})),tn=n((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():ve(e)?[]:p(e)?"":$(e)?{}:Ie(e)?function(){return arguments}():void 0})),nn=r((function(e,t){return $t(0>e?0:t.length-e,t)})),rn=r((function(e,t){return yt(nn(e.length,t),e)})),on=s((function(e,t,n){return yt(e(t),e(n))})),an=s((function(e,t,n){return yt(t[e],n[e])})),sn=r((function e(t,n){var r,i,o,a={};for(i in n)o=typeof(r=t[i]),a[i]="function"===o?r(n[i]):r&&"object"===o?e(r,n[i]):n[i];return a}));Z.prototype["@@transducer/init"]=be.init,Z.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},Z.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=u(this.xf["@@transducer/step"](e,t))),e};var ln=r(c(["find"],r((function(e,t){return new Z(e,t)})),(function(e,t){for(var n=0,r=t.length;r>n;){if(e(t[n]))return t[n];n+=1}})));ee.prototype["@@transducer/init"]=be.init,ee.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},ee.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=u(this.xf["@@transducer/step"](e,this.idx))),e};var cn=r(c([],r((function(e,t){return new ee(e,t)})),(function(e,t){for(var n=0,r=t.length;r>n;){if(e(t[n]))return n;n+=1}return-1})));te.prototype["@@transducer/init"]=be.init,te.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},te.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e};var un=r(c([],r((function(e,t){return new te(e,t)})),(function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return t[n];n-=1}})));ne.prototype["@@transducer/init"]=be.init,ne.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},ne.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e};var dn=r(c([],r((function(e,t){return new ne(e,t)})),(function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return n;n-=1}return-1}))),fn=n(S(!0)),pn=n((function(e){return he(e.length,(function(t,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=t,e.apply(this,r)}))})),hn=r(C("forEach",(function(e,t){for(var n=t.length,r=0;n>r;)e(t[r]),r+=1;return t}))),mn=r((function(e,t){for(var n=De(t),r=0;n.length>r;){var i=n[r];e(t[i],i,t),r+=1}return t})),gn=n((function(e){for(var t={},n=0;e.length>n;)t[e[n][0]]=e[n][1],n+=1;return t})),vn=r(C("groupBy",Dt((function(e,t){return null==e&&(e=[]),e.push(t),e}),null))),bn=r((function(e,t){for(var n=[],r=0,i=t.length;i>r;){for(var o=r+1;i>o&&e(t[o-1],t[o]);)o+=1;n.push(t.slice(r,o)),r=o}return n})),yn=r((function(e,t){return e>t})),wn=r((function(e,t){return e>=t})),xn=r(w),_n=r((function(e,t){return e in t})),kn=Gt(0),Sn=n(re),Tn=s((function(e,t,n){return he(Math.max(e.length,t.length,n.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}))})),In=pe(1),En=Dt((function(e,t){return t}),null),Cn=r((function(e,t){return"function"!=typeof t.indexOf||ve(t)?j(t,e,0):t.indexOf(e)})),On=mt(0,-1),Mn=s((function(e,t,n){return W((function(t){return R(e,t,n)}),t)})),Dn=s((function(e,t,n){e=n.length>e&&e>=0?e:n.length;var r=Array.prototype.slice.call(n,0);return r.splice(e,0,t),r})),Pn=s((function(e,t,n){return e=n.length>e&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),t,Array.prototype.slice.call(n,e))}));ie.prototype.add=function(e){return!oe(e,!0,this)},ie.prototype.has=function(e){return oe(e,!1,this)};var An=r((function(e,t){for(var n,r,i=new ie,o=[],a=0;t.length>a;)n=e(r=t[a]),i.add(n)&&o.push(r),a+=1;return o})),Nn=An(Sn),Rn=r((function(e,t){var n,r;return e.length>t.length?(n=e,r=t):(n=t,r=e),Nn(W(pn(F)(n),r))})),Hn=r(C("intersperse",(function(e,t){for(var n=[],r=0,i=t.length;i>r;)r===i-1?n.push(t[r]):n.push(t[r],e),r+=1;return n}))),Ln="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,r=arguments.length;r>n;){var i=arguments[n];if(null!=i)for(var o in i)w(o,i)&&(t[o]=i[o]);n+=1}return t},jn=r((function(e,t){var n={};return n[e]=t,n})),Fn={"@@transducer/init":Array,"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":re},Un={"@@transducer/init":String,"@@transducer/step":function(e,t){return e+t},"@@transducer/result":re},Vn={"@@transducer/init":Object,"@@transducer/step":function(e,t){return Ln(e,xe(t)?jn(t[0],t[1]):t)},"@@transducer/result":re},Wn=s((function(e,t,n){return l(e)?b(t(e),e["@@transducer/init"](),n):b(t(function(e){if(l(e))return e;if(xe(e))return Fn;if("string"==typeof e)return Un;if("object"==typeof e)return Vn;throw Error("Cannot create transformer for "+e)}(e)),I(e,[],[],!1),n)})),$n=n((function(e){for(var t=De(e),n=t.length,r=0,i={};n>r;){var o=t[r],a=e[o],s=w(a,i)?i[a]:i[a]=[];s[s.length]=o,r+=1}return i})),Bn=n((function(e){for(var t=De(e),n=t.length,r=0,i={};n>r;){var o=t[r];i[e[o]]=o,r+=1}return i})),zn=r((function(e,t){return he(e+1,(function(){var n=arguments[e];if(null!=n&&k(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(St(n)+' does not have a method named "'+t+'"')}))})),Yn=r((function(e,t){return null!=t&&t.constructor===e||t instanceof e})),qn=n((function(e){return null!=e&&yt(e,tn(e))})),Gn=zn(1,"join"),Kn=n((function(e){return Mt((function(){return Array.prototype.slice.call(arguments,0)}),e)})),Jn=n((function(e){var t,n=[];for(t in e)n[n.length]=t;return n})),Xn=r((function(e,t){if("function"!=typeof t.lastIndexOf||ve(t)){for(var n=t.length-1;n>=0;){if(yt(t[n],e))return n;n-=1}return-1}return t.lastIndexOf(e)})),Qn=n((function(e){return null!=e&&ae(e.length)?e.length:NaN})),Zn=r((function(e,t){return function(n){return function(r){return Pe((function(e){return t(e,r)}),n(e(r)))}}})),er=n((function(e){return Zn(Gt(e),Ut(e))})),tr=n((function(e){return Zn(Ae(e),Ze(e))})),nr=n((function(e){return Zn(Ne(e),Je(e))})),rr=r((function(e,t){return t>e})),ir=r((function(e,t){return t>=e})),or=s((function(e,t,n){for(var r=0,i=n.length,o=[],a=[t];i>r;)a=e(a[0],n[r]),o[r]=a[1],r+=1;return[a[0],o]})),ar=s((function(e,t,n){for(var r=n.length-1,i=[],o=[t];r>=0;)o=e(n[r],o[0]),i[r]=o[1],r-=1;return[i,o[0]]})),sr=r((function(e,t){return b((function(n,r){return n[r]=e(t[r],r,t),n}),{},De(t))})),lr=r((function(e,t){return t.match(e)||[]})),cr=r((function(e,t){return Xe(e)?!Xe(t)||1>t?NaN:(e%t+t)%t:NaN})),ur=s((function(e,t,n){return e(n)>e(t)?n:t})),dr=He(pe,0),fr=n((function(e){return dr(e)/e.length})),pr=n((function(e){var t=e.length;if(0===t)return NaN;var n=2-t%2,r=(t-n)/2;return fr(Array.prototype.slice.call(e,0).sort((function(e,t){return t>e?-1:e>t?1:0})).slice(r,r+n))})),hr=r((function(e,t){var n={};return o(t.length,(function(){var r=e.apply(this,arguments);return w(r,n)||(n[r]=t.apply(this,arguments)),n[r]}))})),mr=hr((function(){return St(arguments)})),gr=r((function(e,t){return Ln({},e,t)})),vr=n((function(e){return Ln.apply(null,[{}].concat(e))})),br=s((function(e,t,n){var r,i={};for(r in t)w(r,t)&&(i[r]=w(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)w(r,n)&&!w(r,i)&&(i[r]=n[r]);return i})),yr=s((function e(t,n,r){return br((function(n,r,i){return $(r)&&$(i)?e(t,r,i):t(n,r,i)}),n,r)})),wr=r((function(e,t){return yr((function(e,t,n){return t}),e,t)})),xr=r((function(e,t){return yr((function(e,t,n){return n}),e,t)})),_r=s((function(e,t,n){return yr((function(t,n,r){return e(n,r)}),t,n)})),kr=s((function(e,t,n){return br((function(t,n,r){return e(n,r)}),t,n)})),Sr=r((function(e,t){return e>t?t:e})),Tr=s((function(e,t,n){return e(n)<e(t)?n:t})),Ir=r((function(e,t){return e%t})),Er=r((function(e,t){return e*t})),Cr=n((function(e){return-e})),Or=r(V(c(["any"],Fe,Ue))),Mr=n((function(e){return he(0>e?1:e+1,(function(){return Gt(e,arguments)}))})),Dr=s((function(e,t,n){return e(t(n))})),Pr=n((function(e){return[e]})),Ar=r((function(e,t){for(var n={},r={},i=0,o=e.length;o>i;)r[e[i]]=1,i+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n})),Nr=n((function(e){var t,n=!1;return o(e.length,(function(){return n?t:(n=!0,t=e.apply(this,arguments))}))})),Rr=function(e){return{value:e,map:function(t){return Rr(t(e))}}},Hr=s((function(e,t,n){return e((function(e){return Rr(t(e))}))(n).value})),Lr=r((function(e,t){return[e,t]})),jr=se(i),Fr=se(pn(i)),Ur=Kn([_t,kt]),Vr=s((function(e,t,n){return yt(Ae(e,n),t)})),Wr=s((function(e,t,n){return Nt(e,Ae(t,n))})),$r=s((function(e,t,n){return t.length>0&&e(Ae(t,n))})),Br=r((function(e,t){for(var n={},r=0;e.length>r;)e[r]in t&&(n[e[r]]=t[e[r]]),r+=1;return n})),zr=r((function(e,t){for(var n={},r=0,i=e.length;i>r;){var o=e[r];n[o]=t[o],r+=1}return n})),Yr=r((function(e,t){var n={};for(var r in t)e(t[r],r,t)&&(n[r]=t[r]);return n})),qr=r((function(e,t){return i([e],t)})),Gr=He(Er,1),Kr=r((function(e,t){return he(t.length,(function(){for(var n=[],r=0;t.length>r;)n.push(t[r].call(this,arguments[r])),r+=1;return e.apply(this,n.concat(Array.prototype.slice.call(arguments,t.length)))}))})),Jr=Kr(f,[zr,Sn]),Xr=s((function(e,t,n){return yt(t,n[e])})),Qr=s((function(e,t,n){return Yn(e,n[t])})),Zr=s((function(e,t,n){return null!=n&&w(t,n)?n[t]:e})),ei=s((function(e,t,n){return e(n[t])})),ti=r((function(e,t){for(var n=e.length,r=[],i=0;n>i;)r[i]=t[e[i]],i+=1;return r})),ni=r((function(e,t){if(!ae(e)||!ae(t))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=e;t>r;)n.push(r),r+=1;return n})),ri=s((function(e,t,n){for(var r=n.length-1;r>=0;)t=e(n[r],t),r-=1;return t})),ii=a(4,[],(function(e,t,n,r){return b((function(n,r){return e(n,r)?t(n,r):u(n)}),n,r)})),oi=n(u),ai=r((function(e,t){var n,r=+t,i=0;if(0>r||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=Array(r);r>i;)n[i]=e(i),i+=1;return n})),si=r((function(e,t){return ai(ue(e),t)})),li=s((function(e,t,n){return n.replace(e,t)})),ci=s((function(e,t,n){for(var r=0,i=n.length,o=[t];i>r;)t=e(t,n[r]),o[r+1]=t,r+=1;return o})),ui=r((function(e,t){return"function"==typeof t.sequence?t.sequence(e):ri((function(e,t){return We(Pe(qr,e),t)}),e([]),t)})),di=s((function(e,t,n){return Hr(e,ue(t),n)})),fi=r((function(e,t){return Array.prototype.slice.call(t,0).sort(e)})),pi=r((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,n){var r=e(t),i=e(n);return i>r?-1:r>i?1:0}))})),hi=r((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,n){for(var r=0,i=0;0===r&&e.length>i;)r=e[i](t,n),i+=1;return r}))})),mi=zn(1,"split"),gi=r((function(e,t){return[mt(0,e,t),mt(e,Qn(t),t)]})),vi=r((function(e,t){if(0>=e)throw Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;t.length>r;)n.push(mt(r,r+=e,t));return n})),bi=r((function(e,t){for(var n=0,r=t.length,i=[];r>n&&!e(t[n]);)i.push(t[n]),n+=1;return[i,Array.prototype.slice.call(t,n)]})),yi=r((function(e,t){return yt(Bt(e.length,t),e)})),wi=r((function(e,t){return+e-+t})),xi=r((function(e,t){return Tt(Ht(e,t),Ht(t,e))})),_i=s((function(e,t,n){return Tt(Lt(e,t,n),Lt(e,n,t))})),ki=r((function(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return mt(n+1,1/0,t)}));le.prototype["@@transducer/init"]=be.init,le.prototype["@@transducer/result"]=be.result,le.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):u(e)};var Si=r(c(["takeWhile"],r((function(e,t){return new le(e,t)})),(function(e,t){for(var n=0,r=t.length;r>n&&e(t[n]);)n+=1;return mt(0,n,t)})));ce.prototype["@@transducer/init"]=be.init,ce.prototype["@@transducer/result"]=be.result,ce.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)};var Ti=r(c([],r((function(e,t){return new ce(e,t)})),(function(e,t){return e(t),t}))),Ii=r((function(e,t){if(!function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(e))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+St(e));return T(e).test(t)})),Ei=zn(0,"toLowerCase"),Ci=n((function(e){var t=[];for(var n in e)w(n,e)&&(t[t.length]=[n,e[n]]);return t})),Oi=n((function(e){var t=[];for(var n in e)t[t.length]=[n,e[n]];return t})),Mi=zn(0,"toUpperCase"),Di=he(4,(function(e,t,n,r){return b(e("function"==typeof t?m(t):t),n,r)})),Pi=n((function(e){for(var t=0,n=[];e.length>t;){for(var r=e[t],i=0;r.length>i;)void 0===n[i]&&(n[i]=[]),n[i].push(r[i]),i+=1;t+=1}return n})),Ai=s((function(e,t,n){return"function"==typeof n["fantasy-land/traverse"]?n["fantasy-land/traverse"](t,e):ui(e,Pe(t,n))})),Ni="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",Ri=n("function"!=typeof String.prototype.trim||Ni.trim()?function(e){var t=RegExp("^["+Ni+"]["+Ni+"]*"),n=RegExp("["+Ni+"]["+Ni+"]*$");return e.replace(t,"").replace(n,"")}:function(e){return e.trim()}),Hi=r((function(e,t){return o(e.length,(function(){try{return e.apply(this,arguments)}catch(e){return t.apply(this,i([e],arguments))}}))})),Li=n((function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}})),ji=n((function(e){return et(1,e)})),Fi=r((function(e,t){return he(e,(function(){for(var n,r=1,i=t,o=0;e>=r&&"function"==typeof i;)n=r===e?arguments.length:o+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,o,n)),r+=1,o=n;return i}))})),Ui=r((function(e,t){for(var n=e(t),r=[];n&&n.length;)r[r.length]=n[0],n=e(n[1]);return r})),Vi=r(M(Nn,i)),Wi=r((function(e,t){for(var n,r=0,i=t.length,o=[];i>r;)R(e,n=t[r],o)||(o[o.length]=n),r+=1;return o})),$i=s((function(e,t,n){return Wi(e,i(t,n))})),Bi=s((function(e,t,n){return e(n)?n:t(n)})),zi=lt(re),Yi=s((function(e,t,n){for(var r=n;!e(r);)r=t(r);return r})),qi=n((function(e){var t,n=[];for(t in e)n[n.length]=e[t];return n})),Gi=function(e){return{value:e,"fantasy-land/map":function(){return this}}},Ki=r((function(e,t){return e(Gi)(t).value})),Ji=s((function(e,t,n){return e(n)?t(n):n})),Xi=r((function(e,t){for(var n in e)if(w(n,e)&&!e[n](t[n]))return!1;return!0})),Qi=r((function(e,t){return Xi(Pe(yt,e),t)})),Zi=r((function(e,t){return kt(pn(F)(e),t)})),eo=r((function(e,t){for(var n,r=0,i=e.length,o=t.length,a=[];i>r;){for(n=0;o>n;)a[a.length]=[e[r],t[n]],n+=1;r+=1}return a})),to=r((function(e,t){for(var n=[],r=0,i=Math.min(e.length,t.length);i>r;)n[r]=[e[r],t[r]],r+=1;return n})),no=r((function(e,t){for(var n=0,r=Math.min(e.length,t.length),i={};r>n;)i[e[n]]=t[n],n+=1;return i})),ro=s((function(e,t,n){for(var r=[],i=0,o=Math.min(t.length,n.length);o>i;)r[i]=e(t[i],n[i]),i+=1;return r}));e.F=de,e.T=fe,e.__={"@@functional/placeholder":!0},e.add=pe,e.addIndex=me,e.adjust=ge,e.all=ye,e.allPass=Le,e.always=ue,e.and=je,e.any=Ue,e.anyPass=Ve,e.ap=We,e.aperture=$e,e.append=Be,e.apply=ze,e.applySpec=qe,e.applyTo=Ge,e.ascend=Ke,e.assoc=Je,e.assocPath=Ze,e.binary=tt,e.bind=_e,e.both=it,e.call=at,e.chain=lt,e.clamp=ct,e.clone=dt,e.comparator=ft,e.complement=ht,e.compose=M,e.composeK=D,e.composeP=function(){if(0===arguments.length)throw Error("composeP requires at least one argument");return A.apply(this,vt(arguments))},e.concat=Tt,e.cond=It,e.construct=Ct,e.constructN=Et,e.contains=Ot,e.converge=Mt,e.countBy=Pt,e.curry=ot,e.curryN=he,e.dec=At,e.defaultTo=Nt,e.descend=Rt,e.difference=Ht,e.differenceWith=Lt,e.dissoc=jt,e.dissocPath=Vt,e.divide=Wt,e.drop=$t,e.dropLast=zt,e.dropLastWhile=Yt,e.dropRepeats=Xt,e.dropRepeatsWith=Jt,e.dropWhile=Qt,e.either=en,e.empty=tn,e.endsWith=rn,e.eqBy=on,e.eqProps=an,e.equals=yt,e.evolve=sn,e.filter=_t,e.find=ln,e.findIndex=cn,e.findLast=un,e.findLastIndex=dn,e.flatten=fn,e.flip=pn,e.forEach=hn,e.forEachObjIndexed=mn,e.fromPairs=gn,e.groupBy=vn,e.groupWith=bn,e.gt=yn,e.gte=wn,e.has=xn,e.hasIn=_n,e.head=kn,e.identical=bt,e.identity=Sn,e.ifElse=Tn,e.inc=In,e.indexBy=En,e.indexOf=Cn,e.init=On,e.innerJoin=Mn,e.insert=Dn,e.insertAll=Pn,e.intersection=Rn,e.intersperse=Hn,e.into=Wn,e.invert=$n,e.invertObj=Bn,e.invoker=zn,e.is=Yn,e.isEmpty=qn,e.isNil=Qe,e.join=Gn,e.juxt=Kn,e.keys=De,e.keysIn=Jn,e.last=Kt,e.lastIndexOf=Xn,e.length=Qn,e.lens=Zn,e.lensIndex=er,e.lensPath=tr,e.lensProp=nr,e.lift=rt,e.liftN=nt,e.lt=rr,e.lte=ir,e.map=Pe,e.mapAccum=or,e.mapAccumRight=ar,e.mapObjIndexed=sr,e.match=lr,e.mathMod=cr,e.max=we,e.maxBy=ur,e.mean=fr,e.median=pr,e.memoize=mr,e.memoizeWith=hr,e.merge=gr,e.mergeAll=vr,e.mergeDeepLeft=wr,e.mergeDeepRight=xr,e.mergeDeepWith=_r,e.mergeDeepWithKey=yr,e.mergeWith=kr,e.mergeWithKey=br,e.min=Sr,e.minBy=Tr,e.modulo=Ir,e.multiply=Er,e.nAry=et,e.negate=Cr,e.none=Or,e.not=pt,e.nth=Gt,e.nthArg=Mr,e.o=Dr,e.objOf=jn,e.of=Pr,e.omit=Ar,e.once=Nr,e.or=Zt,e.over=Hr,e.pair=Lr,e.partial=jr,e.partialRight=Fr,e.partition=Ur,e.path=Ae,e.pathEq=Vr,e.pathOr=Wr,e.pathSatisfies=$r,e.pick=Br,e.pickAll=zr,e.pickBy=Yr,e.pipe=O,e.pipeK=function(){if(0===arguments.length)throw Error("pipeK requires at least one argument");return D.apply(this,vt(arguments))},e.pipeP=A,e.pluck=Re,e.prepend=qr,e.product=Gr,e.project=Jr,e.prop=Ne,e.propEq=Xr,e.propIs=Qr,e.propOr=Zr,e.propSatisfies=ei,e.props=ti,e.range=ni,e.reduce=He,e.reduceBy=Dt,e.reduceRight=ri,e.reduceWhile=ii,e.reduced=oi,e.reject=kt,e.remove=Ft,e.repeat=si,e.replace=li,e.reverse=vt,e.scan=ci,e.sequence=ui,e.set=di,e.slice=mt,e.sort=fi,e.sortBy=pi,e.sortWith=hi,e.split=mi,e.splitAt=gi,e.splitEvery=vi,e.splitWhen=bi,e.startsWith=yi,e.subtract=wi,e.sum=dr,e.symmetricDifference=xi,e.symmetricDifferenceWith=_i,e.tail=gt,e.take=Bt,e.takeLast=nn,e.takeLastWhile=ki,e.takeWhile=Si,e.tap=Ti,e.test=Ii,e.times=ai,e.toLower=Ei,e.toPairs=Ci,e.toPairsIn=Oi,e.toString=St,e.toUpper=Mi,e.transduce=Di,e.transpose=Pi,e.traverse=Ai,e.trim=Ri,e.tryCatch=Hi,e.type=ut,e.unapply=Li,e.unary=ji,e.uncurryN=Fi,e.unfold=Ui,e.union=Vi,e.unionWith=$i,e.uniq=Nn,e.uniqBy=An,e.uniqWith=Wi,e.unless=Bi,e.unnest=zi,e.until=Yi,e.update=Ut,e.useWith=Kr,e.values=Ye,e.valuesIn=qi,e.view=Ki,e.when=Ji,e.where=Xi,e.whereEq=Qi,e.without=Zi,e.xprod=eo,e.zip=to,e.zipObj=no,e.zipWith=ro,Object.defineProperty(e,"__esModule",{value:!0})})),function(e){var t=this||(0,eval)("this"),n=t.document,r=t.navigator,i=t.jQuery,o=t.JSON;!function(e){"function"==typeof define&&define.amd?define(["exports","require"],e):"object"==typeof exports&&"object"==typeof module?e(module.exports||exports):e(t.ko={})}((function(a,s){function l(e,t){return(null===e||typeof e in _)&&e===t}function c(t,n){var r;return function(){r||(r=x.a.setTimeout((function(){r=e,t()}),n))}}function u(e,t){var n;return function(){clearTimeout(n),n=x.a.setTimeout(e,t)}}function d(e,t){t&&t!==k?"beforeChange"===t?this.Ob(e):this.Ja(e,t):this.Pb(e)}function f(e,t){null!==t&&t.k&&t.k()}function p(e,t){var n=this.Mc,r=n[C];r.T||(this.ob&&this.Oa[t]?(n.Sb(t,e,this.Oa[t]),this.Oa[t]=null,--this.ob):r.s[t]||n.Sb(t,e,r.t?{$:e}:n.yc(e)),e.Ha&&e.Hc())}function h(e,t,n,r){x.d[e]={init:function(e,i,o,a,s){var l,c;return x.m((function(){var o=i(),a=x.a.c(o),u=(a=!n!=!a,!c);(u||t||a!==l)&&(u&&x.xa.Ca()&&(c=x.a.wa(x.f.childNodes(e),!0)),a?(u||x.f.fa(e,x.a.wa(c)),x.hb(r?r(s,o):s,e)):x.f.za(e),l=a)}),null,{i:e}),{controlsDescendantBindings:!0}}},x.h.va[e]=!1,x.f.aa[e]=!0}var m,g,v,b,y,w,x=void 0!==a?a:{};x.b=function(e,t){for(var n=e.split("."),r=x,i=0;i<n.length-1;i++)r=r[n[i]];r[n[n.length-1]]=t},x.H=function(e,t,n){e[t]=n},x.version="3.4.2",x.b("version",x.version),x.options={deferUpdates:!1,useOnlyNativeEvents:!1},x.a=function(){function a(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function s(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function l(e,t){return e.__proto__=t,e}function c(e,t,n,r){var i=e[t].match(g)||[];x.a.r(n.match(g),(function(e){x.a.ra(i,e,r)})),e[t]=i.join(" ")}var u={__proto__:[]}instanceof Array,d="function"==typeof Symbol,f={},p={};f[r&&/Firefox\/2/i.test(r.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],f.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),a(f,(function(e,t){if(t.length)for(var n=0,r=t.length;n<r;n++)p[t[n]]=e}));var h={propertychange:!0},m=n&&function(){for(var t=3,r=n.createElement("div"),i=r.getElementsByTagName("i");r.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",i[0];);return 4<t?t:e}(),g=/\S+/g;return{gc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},o:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Vb:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r))return e[r];return null},Na:function(e,t){var n=x.a.o(e,t);0<n?e.splice(n,1):0===n&&e.shift()},Wb:function(e){for(var t=[],n=0,r=(e=e||[]).length;n<r;n++)0>x.a.o(t,e[n])&&t.push(e[n]);return t},ib:function(e,t){for(var n=[],r=0,i=(e=e||[]).length;r<i;r++)n.push(t(e[r],r));return n},Ma:function(e,t){for(var n=[],r=0,i=(e=e||[]).length;r<i;r++)t(e[r],r)&&n.push(e[r]);return n},ta:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},ra:function(e,t,n){var r=x.a.o(x.a.Bb(e),t);0>r?n&&e.push(t):n||e.splice(r,1)},la:u,extend:s,$a:l,ab:u?l:s,D:a,Ea:function(e,t){if(!e)return e;var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n],n,e));return r},rb:function(e){for(;e.firstChild;)x.removeNode(e.firstChild)},nc:function(e){for(var t=((e=x.a.W(e))[0]&&e[0].ownerDocument||n).createElement("div"),r=0,i=e.length;r<i;r++)t.appendChild(x.ba(e[r]));return t},wa:function(e,t){for(var n=0,r=e.length,i=[];n<r;n++){var o=e[n].cloneNode(!0);i.push(t?x.ba(o):o)}return i},fa:function(e,t){if(x.a.rb(e),t)for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])},uc:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var r=n[0],i=r.parentNode,o=0,a=t.length;o<a;o++)i.insertBefore(t[o],r);for(o=0,a=n.length;o<a;o++)x.removeNode(n[o])}},Ba:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],r=e[e.length-1];for(e.length=0;n!==r;)e.push(n),n=n.nextSibling;e.push(r)}}return e},wc:function(e,t){7>m?e.setAttribute("selected",t):e.selected=t},cb:function(t){return null===t||t===e?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},sd:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},Rc:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},qb:function(e){return x.a.Rc(e,e.ownerDocument.documentElement)},Tb:function(e){return!!x.a.Vb(e,x.a.qb)},A:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Zb:function(e){return x.onError?function(){try{return e.apply(this,arguments)}catch(e){throw x.onError&&x.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(x.a.Zb(e),t)},dc:function(e){setTimeout((function(){throw x.onError&&x.onError(e),e}),0)},q:function(e,t,n){var r=x.a.Zb(n);if(n=m&&h[t],x.options.useOnlyNativeEvents||n||!i)if(n||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var o=function(t){r.call(e,t)},a="on"+t;e.attachEvent(a,o),x.a.G.qa(e,(function(){e.detachEvent(a,o)}))}else e.addEventListener(t,r,!1);else i(e).bind(t,r)},Fa:function(e,r){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var o;if(o=!("input"!==x.a.A(e)||!e.type||"click"!=r.toLowerCase())&&("checkbox"==(o=e.type)||"radio"==o),x.options.useOnlyNativeEvents||!i||o)if("function"==typeof n.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(o=n.createEvent(p[r]||"HTMLEvents")).initEvent(r,!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(o)}else if(o&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+r)}else i(e).trigger(r)},c:function(e){return x.I(e)?e():e},Bb:function(e){return x.I(e)?e.p():e},fb:function(e,t,n){var r;t&&("object"==typeof e.classList?(r=e.classList[n?"add":"remove"],x.a.r(t.match(g),(function(t){r.call(e.classList,t)}))):"string"==typeof e.className.baseVal?c(e.className,"baseVal",t,n):c(e,"className",t,n))},bb:function(t,n){var r=x.a.c(n);null!==r&&r!==e||(r="");var i=x.f.firstChild(t);!i||3!=i.nodeType||x.f.nextSibling(i)?x.f.fa(t,[t.ownerDocument.createTextNode(r)]):i.data=r,x.a.Wc(t)},vc:function(e,t){if(e.name=t,7>=m)try{e.mergeAttributes(n.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},Wc:function(e){9<=m&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},Sc:function(e){if(m){var t=e.style.width;e.style.width=0,e.style.width=t}},nd:function(e,t){e=x.a.c(e),t=x.a.c(t);for(var n=[],r=e;r<=t;r++)n.push(r);return n},W:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},bc:function(e){return d?Symbol(e):e},xd:6===m,yd:7===m,C:m,ic:function(e,t){for(var n=x.a.W(e.getElementsByTagName("input")).concat(x.a.W(e.getElementsByTagName("textarea"))),r="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[],o=n.length-1;0<=o;o--)r(n[o])&&i.push(n[o]);return i},kd:function(e){return"string"==typeof e&&(e=x.a.cb(e))?o&&o.parse?o.parse(e):new Function("return "+e)():null},Gb:function(e,t,n){if(!o||!o.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return o.stringify(x.a.c(e),t,n)},ld:function(e,t,r){var i=(r=r||{}).params||{},o=r.includeFields||this.gc,s=e;if("object"==typeof e&&"form"===x.a.A(e)){s=e.action;for(var l=o.length-1;0<=l;l--)for(var c=x.a.ic(e,o[l]),u=c.length-1;0<=u;u--)i[c[u].name]=c[u].value}t=x.a.c(t);var d=n.createElement("form");for(var f in d.style.display="none",d.action=s,d.method="post",t)(e=n.createElement("input")).type="hidden",e.name=f,e.value=x.a.Gb(x.a.c(t[f])),d.appendChild(e);a(i,(function(e,t){var r=n.createElement("input");r.type="hidden",r.name=e,r.value=t,d.appendChild(r)})),n.body.appendChild(d),r.submitter?r.submitter(d):d.submit(),setTimeout((function(){d.parentNode.removeChild(d)}),0)}}}(),x.b("utils",x.a),x.b("utils.arrayForEach",x.a.r),x.b("utils.arrayFirst",x.a.Vb),x.b("utils.arrayFilter",x.a.Ma),x.b("utils.arrayGetDistinctValues",x.a.Wb),x.b("utils.arrayIndexOf",x.a.o),x.b("utils.arrayMap",x.a.ib),x.b("utils.arrayPushAll",x.a.ta),x.b("utils.arrayRemoveItem",x.a.Na),x.b("utils.extend",x.a.extend),x.b("utils.fieldsIncludedWithJsonPost",x.a.gc),x.b("utils.getFormFields",x.a.ic),x.b("utils.peekObservable",x.a.Bb),x.b("utils.postJson",x.a.ld),x.b("utils.parseJson",x.a.kd),x.b("utils.registerEventHandler",x.a.q),x.b("utils.stringifyJson",x.a.Gb),x.b("utils.range",x.a.nd),x.b("utils.toggleDomNodeCssClass",x.a.fb),x.b("utils.triggerEvent",x.a.Fa),x.b("utils.unwrapObservable",x.a.c),x.b("utils.objectForEach",x.a.D),x.b("utils.addOrRemoveItem",x.a.ra),x.b("utils.setTextContent",x.a.bb),x.b("unwrap",x.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice(0);return r.push.apply(r,arguments),t.apply(e,r)}}),x.a.e=new function(){function t(t,o){var a=t[r];if(!a||"null"===a||!i[a]){if(!o)return e;a=t[r]="ko"+n++,i[a]={}}return i[a]}var n=0,r="__ko__"+(new Date).getTime(),i={};return{get:function(n,r){var i=t(n,!1);return i===e?e:i[r]},set:function(n,r,i){i===e&&t(n,!1)===e||(t(n,!0)[r]=i)},clear:function(e){var t=e[r];return!!t&&(delete i[t],e[r]=null,!0)},J:function(){return n+++r}}},x.b("utils.domData",x.a.e),x.b("utils.domData.clear",x.a.e.clear),x.a.G=new function(){function t(t,n){var i=x.a.e.get(t,r);return i===e&&n&&(i=[],x.a.e.set(t,r,i)),i}function n(e){if(r=t(e,!1))for(var r=r.slice(0),i=0;i<r.length;i++)r[i](e);if(x.a.e.clear(e),x.a.G.cleanExternalData(e),a[e.nodeType])for(r=e.firstChild;e=r;)r=e.nextSibling,8===e.nodeType&&n(e)}var r=x.a.e.J(),o={1:!0,8:!0,9:!0},a={1:!0,9:!0};return{qa:function(e,n){if("function"!=typeof n)throw Error("Callback must be a function");t(e,!0).push(n)},tc:function(n,i){var o=t(n,!1);o&&(x.a.Na(o,i),0==o.length&&x.a.e.set(n,r,e))},ba:function(e){if(o[e.nodeType]&&(n(e),a[e.nodeType])){var t=[];x.a.ta(t,e.getElementsByTagName("*"));for(var r=0,i=t.length;r<i;r++)n(t[r])}return e},removeNode:function(e){x.ba(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){i&&"function"==typeof i.cleanData&&i.cleanData([e])}}},x.ba=x.a.G.ba,x.removeNode=x.a.G.removeNode,x.b("cleanNode",x.ba),x.b("removeNode",x.removeNode),x.b("utils.domNodeDisposal",x.a.G),x.b("utils.domNodeDisposal.addDisposeCallback",x.a.G.qa),x.b("utils.domNodeDisposal.removeDisposeCallback",x.a.G.tc),m=[0,"",""],y={thead:g=[1,"<table>","</table>"],tbody:g,tfoot:g,tr:[2,"<table><tbody>","</tbody></table>"],td:v=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:v,option:b=[1,"<select multiple='multiple'>","</select>"],optgroup:b},w=8>=x.a.C,x.a.na=function(e,r){var o;if(i){if(i.parseHTML)o=i.parseHTML(e,r)||[];else if((o=i.clean([e],r))&&o[0]){for(var a=o[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}}else{(o=r)||(o=n),a=o.parentWindow||o.defaultView||t;var s,l=x.a.cb(e).toLowerCase(),c=o.createElement("div");for(s=(l=l.match(/^<([a-z]+)[ >]/))&&y[l[1]]||m,l=s[0],s="ignored<div>"+s[1]+e+s[2]+"</div>","function"==typeof a.innerShiv?c.appendChild(a.innerShiv(s)):(w&&o.appendChild(c),c.innerHTML=s,w&&c.parentNode.removeChild(c));l--;)c=c.lastChild;o=x.a.W(c.lastChild.childNodes)}return o},x.a.Eb=function(t,n){if(x.a.rb(t),null!==(n=x.a.c(n))&&n!==e)if("string"!=typeof n&&(n=n.toString()),i)i(t).html(n);else for(var r=x.a.na(n,t.ownerDocument),o=0;o<r.length;o++)t.appendChild(r[o])},x.b("utils.parseHtmlFragment",x.a.na),x.b("utils.setHtml",x.a.Eb),x.N=function(){function t(e,n){if(e)if(8==e.nodeType)null!=(r=x.N.pc(e.nodeValue))&&n.push({Qc:e,hd:r});else if(1==e.nodeType)for(var r=0,i=e.childNodes,o=i.length;r<o;r++)t(i[r],n)}var n={};return{yb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return n[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},Bc:function(t,r){var i=n[t];if(i===e)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return i.apply(null,r||[]),!0}finally{delete n[t]}},Cc:function(e,n){var r=[];t(e,r);for(var i=0,o=r.length;i<o;i++){var a=r[i].Qc,s=[a];n&&x.a.ta(s,n),x.N.Bc(r[i].hd,s),a.nodeValue="",a.parentNode&&a.parentNode.removeChild(a)}},pc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),x.b("memoization",x.N),x.b("memoization.memoize",x.N.yb),x.b("memoization.unmemoize",x.N.Bc),x.b("memoization.parseMemoText",x.N.pc),x.b("memoization.unmemoizeDomNodeAndDescendants",x.N.Cc),x.Z=function(){function e(){if(o)for(var e,t=o,n=0;s<o;)if(e=i[s++]){if(s>t){if(5e3<=++n){s=o,x.a.dc(Error("'Too much recursion' after processing "+n+" task groups."));break}t=o}try{e()}catch(e){x.a.dc(e)}}}function r(){e(),s=o=i.length=0}var i=[],o=0,a=1,s=0;return{scheduler:t.MutationObserver?function(e){var t=n.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(r):n&&"onreadystatechange"in n.createElement("script")?function(e){var t=n.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,n.documentElement.removeChild(t),t=null,e()},n.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},Za:function(e){return o||x.Z.scheduler(r),i[o++]=e,a++},cancel:function(e){(e-=a-o)>=s&&e<o&&(i[e]=null)},resetForTesting:function(){var e=o-s;return s=o=i.length=0,e},rd:e}}(),x.b("tasks",x.Z),x.b("tasks.schedule",x.Z.Za),x.b("tasks.runEarly",x.Z.rd),x.Aa={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return x.B({read:e,write:function(r){clearTimeout(n),n=x.a.setTimeout((function(){e(r)}),t)}})},rateLimit:function(e,t){var n,r,i;"number"==typeof t?n=t:(n=t.timeout,r=t.method),e.gb=!1,i="notifyWhenChangesStop"==r?u:c,e.Wa((function(e){return i(e,n)}))},deferred:function(t,n){if(!0!==n)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");t.gb||(t.gb=!0,t.Wa((function(n){var r,i=!1;return function(){if(!i){x.Z.cancel(r),r=x.Z.Za(n);try{i=!0,t.notifySubscribers(e,"dirty")}finally{i=!1}}}})))},notify:function(e,t){e.equalityComparer="always"==t?null:l}};var _={undefined:1,boolean:1,number:1,string:1};x.b("extenders",x.Aa),x.zc=function(e,t,n){this.$=e,this.jb=t,this.Pc=n,this.T=!1,x.H(this,"dispose",this.k)},x.zc.prototype.k=function(){this.T=!0,this.Pc()},x.K=function(){x.a.ab(this,S),S.ub(this)};var k="change",S={ub:function(e){e.F={change:[]},e.Qb=1},Y:function(e,t,n){var r=this;n=n||k;var i=new x.zc(r,t?e.bind(t):e,(function(){x.a.Na(r.F[n],i),r.Ka&&r.Ka(n)}));return r.ua&&r.ua(n),r.F[n]||(r.F[n]=[]),r.F[n].push(i),i},notifySubscribers:function(e,t){if((t=t||k)===k&&this.Kb(),this.Ra(t)){var n=t===k&&this.Fc||this.F[t].slice(0);try{x.l.Xb();for(var r,i=0;r=n[i];++i)r.T||r.jb(e)}finally{x.l.end()}}},Pa:function(){return this.Qb},Zc:function(e){return this.Pa()!==e},Kb:function(){++this.Qb},Wa:function(e){var t,n,r,i,o=this,a=x.I(o);o.Ja||(o.Ja=o.notifySubscribers,o.notifySubscribers=d);var s=e((function(){o.Ha=!1,a&&i===o&&(i=o.Mb?o.Mb():o());var e=n||o.Ua(r,i);n=t=!1,e&&o.Ja(r=i)}));o.Pb=function(e){o.Fc=o.F[k].slice(0),o.Ha=t=!0,i=e,s()},o.Ob=function(e){t||(r=e,o.Ja(e,"beforeChange"))},o.Hc=function(){o.Ua(r,o.p(!0))&&(n=!0)}},Ra:function(e){return this.F[e]&&this.F[e].length},Xc:function(e){if(e)return this.F[e]&&this.F[e].length||0;var t=0;return x.a.D(this.F,(function(e,n){"dirty"!==e&&(t+=n.length)})),t},Ua:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var t=this;return e&&x.a.D(e,(function(e,n){var r=x.Aa[e];"function"==typeof r&&(t=r(t,n)||t)})),t}};x.H(S,"subscribe",S.Y),x.H(S,"extend",S.extend),x.H(S,"getSubscriptionsCount",S.Xc),x.a.la&&x.a.$a(S,Function.prototype),x.K.fn=S,x.lc=function(e){return null!=e&&"function"==typeof e.Y&&"function"==typeof e.notifySubscribers},x.b("subscribable",x.K),x.b("isSubscribable",x.lc),x.xa=x.l=function(){function e(e){r.push(n),n=e}function t(){n=r.pop()}var n,r=[],i=0;return{Xb:e,end:t,sc:function(e){if(n){if(!x.lc(e))throw Error("Only subscribable things can act as dependencies");n.jb.call(n.Lc,e,e.Gc||(e.Gc=++i))}},w:function(n,r,i){try{return e(),n.apply(r,i||[])}finally{t()}},Ca:function(){if(n)return n.m.Ca()},Va:function(){if(n)return n.Va}}}(),x.b("computedContext",x.xa),x.b("computedContext.getDependenciesCount",x.xa.Ca),x.b("computedContext.isInitial",x.xa.Va),x.b("ignoreDependencies",x.wd=x.l.w);var T=x.a.bc("_latestValue");x.O=function(e){function t(){return 0<arguments.length?(t.Ua(t[T],arguments[0])&&(t.ia(),t[T]=arguments[0],t.ha()),this):(x.l.sc(t),t[T])}return t[T]=e,x.a.la||x.a.extend(t,x.K.fn),x.K.fn.ub(t),x.a.ab(t,I),x.options.deferUpdates&&x.Aa.deferred(t,!0),t};var I={equalityComparer:l,p:function(){return this[T]},ha:function(){this.notifySubscribers(this[T])},ia:function(){this.notifySubscribers(this[T],"beforeChange")}};x.a.la&&x.a.$a(I,x.K.fn);var E=x.O.md="__ko_proto__";I[E]=x.O,x.Qa=function(t,n){return null!==t&&t!==e&&t[E]!==e&&(t[E]===n||x.Qa(t[E],n))},x.I=function(e){return x.Qa(e,x.O)},x.Da=function(e){return!!("function"==typeof e&&e[E]===x.O||"function"==typeof e&&e[E]===x.B&&e.$c)},x.b("observable",x.O),x.b("isObservable",x.I),x.b("isWriteableObservable",x.Da),x.b("isWritableObservable",x.Da),x.b("observable.fn",I),x.H(I,"peek",I.p),x.H(I,"valueHasMutated",I.ha),x.H(I,"valueWillMutate",I.ia),x.ma=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=x.O(e),x.a.ab(e,x.ma.fn),e.extend({trackArrayChanges:!0})},x.ma.fn={remove:function(e){for(var t=this.p(),n=[],r="function"!=typeof e||x.I(e)?function(t){return t===e}:e,i=0;i<t.length;i++){var o=t[i];r(o)&&(0===n.length&&this.ia(),n.push(o),t.splice(i,1),i--)}return n.length&&this.ha(),n},removeAll:function(t){if(t===e){var n=this.p(),r=n.slice(0);return this.ia(),n.splice(0,n.length),this.ha(),r}return t?this.remove((function(e){return 0<=x.a.o(t,e)})):[]},destroy:function(e){var t=this.p(),n="function"!=typeof e||x.I(e)?function(t){return t===e}:e;this.ia();for(var r=t.length-1;0<=r;r--)n(t[r])&&(t[r]._destroy=!0);this.ha()},destroyAll:function(t){return t===e?this.destroy((function(){return!0})):t?this.destroy((function(e){return 0<=x.a.o(t,e)})):[]},indexOf:function(e){var t=this();return x.a.o(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.ia(),this.p()[n]=t,this.ha())}},x.a.la&&x.a.$a(x.ma.fn,x.O.fn),x.a.r("pop push reverse shift sort splice unshift".split(" "),(function(e){x.ma.fn[e]=function(){var t=this.p();this.ia(),this.Yb(t,e,arguments);var n=t[e].apply(t,arguments);return this.ha(),n===t?this:n}})),x.a.r(["slice"],(function(e){x.ma.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}})),x.b("observableArray",x.ma),x.Aa.trackArrayChanges=function(t,n){function r(){if(!a){a=!0,o=t.notifySubscribers,t.notifySubscribers=function(e,t){return t&&t!==k||++l,o.apply(this,arguments)};var e=[].concat(t.p()||[]);s=null,i=t.Y((function(n){var r;n=[].concat(n||[]),t.Ra("arrayChange")&&((!s||1<l)&&(s=x.a.lb(e,n,t.kb)),r=s),e=n,s=null,l=0,r&&r.length&&t.notifySubscribers(r,"arrayChange")}))}}if(t.kb={},n&&"object"==typeof n&&x.a.extend(t.kb,n),t.kb.sparse=!0,!t.Yb){var i,o,a=!1,s=null,l=0,c=t.ua,u=t.Ka;t.ua=function(e){c&&c.call(t,e),"arrayChange"===e&&r()},t.Ka=function(n){u&&u.call(t,n),"arrayChange"!==n||t.Ra("arrayChange")||(o&&(t.notifySubscribers=o,o=e),i.k(),a=!1)},t.Yb=function(e,t,n){function r(e,t,n){return i[i.length]={status:e,value:t,index:n}}if(a&&!l){var i=[],o=e.length,c=n.length,u=0;switch(t){case"push":u=o;case"unshift":for(t=0;t<c;t++)r("added",n[t],u+t);break;case"pop":u=o-1;case"shift":o&&r("deleted",e[u],u);break;case"splice":t=Math.min(Math.max(0,0>n[0]?o+n[0]:n[0]),o),o=1===c?o:Math.min(t+(n[1]||0),o),c=t+c-2,u=Math.max(o,c);for(var d=[],f=[],p=2;t<u;++t,++p)t<o&&f.push(r("deleted",e[t],t)),t<c&&d.push(r("added",n[p],t));x.a.hc(f,d);break;default:return}s=i}}}};var C=x.a.bc("_state");x.m=x.B=function(t,n,r){function i(){if(0<arguments.length){if("function"!=typeof o)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return o.apply(a.sb,arguments),this}return x.l.sc(i),(a.V||a.t&&i.Sa())&&i.U(),a.M}if("object"==typeof t?r=t:(r=r||{},t&&(r.read=t)),"function"!=typeof r.read)throw Error("Pass a function that returns the value of the ko.computed");var o=r.write,a={M:e,da:!0,V:!0,Ta:!1,Hb:!1,T:!1,Ya:!1,t:!1,od:r.read,sb:n||r.owner,i:r.disposeWhenNodeIsRemoved||r.i||null,ya:r.disposeWhen||r.ya,pb:null,s:{},L:0,fc:null};return i[C]=a,i.$c="function"==typeof o,x.a.la||x.a.extend(i,x.K.fn),x.K.fn.ub(i),x.a.ab(i,O),r.pure?(a.Ya=!0,a.t=!0,x.a.extend(i,M)):r.deferEvaluation&&x.a.extend(i,D),x.options.deferUpdates&&x.Aa.deferred(i,!0),a.i&&(a.Hb=!0,a.i.nodeType||(a.i=null)),a.t||r.deferEvaluation||i.U(),a.i&&i.ca()&&x.a.G.qa(a.i,a.pb=function(){i.k()}),i};var O={equalityComparer:l,Ca:function(){return this[C].L},Sb:function(e,t,n){if(this[C].Ya&&t===this)throw Error("A 'pure' computed must not be called recursively");this[C].s[e]=n,n.Ia=this[C].L++,n.pa=t.Pa()},Sa:function(){var e,t,n=this[C].s;for(e in n)if(n.hasOwnProperty(e)&&(t=n[e],this.oa&&t.$.Ha||t.$.Zc(t.pa)))return!0},gd:function(){this.oa&&!this[C].Ta&&this.oa(!1)},ca:function(){var e=this[C];return e.V||0<e.L},qd:function(){this.Ha?this[C].V&&(this[C].da=!0):this.ec()},yc:function(e){if(e.gb&&!this[C].i){var t=e.Y(this.gd,this,"dirty"),n=e.Y(this.qd,this);return{$:e,k:function(){t.k(),n.k()}}}return e.Y(this.ec,this)},ec:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[C].fc),this[C].fc=x.a.setTimeout((function(){e.U(!0)}),t)):e.oa?e.oa(!0):e.U(!0)},U:function(e){var t=this[C],n=t.ya,r=!1;if(!t.Ta&&!t.T){if(t.i&&!x.a.qb(t.i)||n&&n()){if(!t.Hb)return void this.k()}else t.Hb=!1;t.Ta=!0;try{r=this.Vc(e)}finally{t.Ta=!1}return t.L||this.k(),r}},Vc:function(t){var n=this[C],r=!1,i=n.Ya?e:!n.L,o={Mc:this,Oa:n.s,ob:n.L};return x.l.Xb({Lc:o,jb:p,m:this,Va:i}),n.s={},n.L=0,o=this.Uc(n,o),this.Ua(n.M,o)&&(n.t||this.notifySubscribers(n.M,"beforeChange"),n.M=o,n.t?this.Kb():t&&this.notifySubscribers(n.M),r=!0),i&&this.notifySubscribers(n.M,"awake"),r},Uc:function(e,t){try{var n=e.od;return e.sb?n.call(e.sb):n()}finally{x.l.end(),t.ob&&!e.t&&x.a.D(t.Oa,f),e.da=e.V=!1}},p:function(e){var t=this[C];return(t.V&&(e||!t.L)||t.t&&this.Sa())&&this.U(),t.M},Wa:function(e){x.K.fn.Wa.call(this,e),this.Mb=function(){return this[C].da?this.U():this[C].V=!1,this[C].M},this.oa=function(e){this.Ob(this[C].M),this[C].V=!0,e&&(this[C].da=!0),this.Pb(this)}},k:function(){var e=this[C];!e.t&&e.s&&x.a.D(e.s,(function(e,t){t.k&&t.k()})),e.i&&e.pb&&x.a.G.tc(e.i,e.pb),e.s=null,e.L=0,e.T=!0,e.da=!1,e.V=!1,e.t=!1,e.i=null}},M={ua:function(e){var t=this,n=t[C];if(!n.T&&n.t&&"change"==e){if(n.t=!1,n.da||t.Sa())n.s=null,n.L=0,t.U()&&t.Kb();else{var r=[];x.a.D(n.s,(function(e,t){r[t.Ia]=e})),x.a.r(r,(function(e,r){var i=n.s[e],o=t.yc(i.$);o.Ia=r,o.pa=i.pa,n.s[e]=o}))}n.T||t.notifySubscribers(n.M,"awake")}},Ka:function(t){var n=this[C];n.T||"change"!=t||this.Ra("change")||(x.a.D(n.s,(function(e,t){t.k&&(n.s[e]={$:t.$,Ia:t.Ia,pa:t.pa},t.k())})),n.t=!0,this.notifySubscribers(e,"asleep"))},Pa:function(){var e=this[C];return e.t&&(e.da||this.Sa())&&this.U(),x.K.fn.Pa.call(this)}},D={ua:function(e){"change"!=e&&"beforeChange"!=e||this.p()}};x.a.la&&x.a.$a(O,x.K.fn);var P=x.O.md;x.m[P]=x.O,O[P]=x.m,x.bd=function(e){return x.Qa(e,x.m)},x.cd=function(e){return x.Qa(e,x.m)&&e[C]&&e[C].Ya},x.b("computed",x.m),x.b("dependentObservable",x.m),x.b("isComputed",x.bd),x.b("isPureComputed",x.cd),x.b("computed.fn",O),x.H(O,"peek",O.p),x.H(O,"dispose",O.k),x.H(O,"isActive",O.ca),x.H(O,"getDependenciesCount",O.Ca),x.rc=function(e,t){return"function"==typeof e?x.m(e,t,{pure:!0}):((e=x.a.extend({},e)).pure=!0,x.m(e,t))},x.b("pureComputed",x.rc),function(){function t(r,i,o){if(o=o||new n,"object"!=typeof(r=i(r))||null===r||r===e||r instanceof RegExp||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var a=r instanceof Array?[]:{};return o.save(r,a),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}(r,(function(n){var s=i(r[n]);switch(typeof s){case"boolean":case"number":case"string":case"function":a[n]=s;break;case"object":case"undefined":var l=o.get(s);a[n]=l!==e?l:t(s,i,o)}})),a}function n(){this.keys=[],this.Lb=[]}x.Ac=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return t(e,(function(e){for(var t=0;x.I(e)&&10>t;t++)e=e();return e}))},x.toJSON=function(e,t,n){return e=x.Ac(e),x.a.Gb(e,t,n)},n.prototype={save:function(e,t){var n=x.a.o(this.keys,e);0<=n?this.Lb[n]=t:(this.keys.push(e),this.Lb.push(t))},get:function(t){return 0<=(t=x.a.o(this.keys,t))?this.Lb[t]:e}}}(),x.b("toJS",x.Ac),x.b("toJSON",x.toJSON),x.j={u:function(t){switch(x.a.A(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?x.a.e.get(t,x.d.options.zb):7>=x.a.C?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?x.j.u(t.options[t.selectedIndex]):e;default:return t.value}},ja:function(t,n,r){switch(x.a.A(t)){case"option":switch(typeof n){case"string":x.a.e.set(t,x.d.options.zb,e),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=n;break;default:x.a.e.set(t,x.d.options.zb,n),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof n?n:""}break;case"select":""!==n&&null!==n||(n=e);for(var i,o=-1,a=0,s=t.options.length;a<s;++a)if((i=x.j.u(t.options[a]))==n||""==i&&n===e){o=a;break}(r||0<=o||n===e&&1<t.size)&&(t.selectedIndex=o);break;default:null!==n&&n!==e||(n=""),t.value=n}}},x.b("selectExtensions",x.j),x.b("selectExtensions.readValue",x.j.u),x.b("selectExtensions.writeValue",x.j.ja),x.h=function(){function e(e){123===(e=x.a.cb(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],a=e.match(r),s=[],l=0;if(a){a.push(",");for(var c,u=0;c=a[u];++u){var d=c.charCodeAt(0);if(44===d){if(0>=l){n.push(t&&s.length?{key:t,value:s.join("")}:{unknown:t||s.join("")}),t=l=0,s=[];continue}}else if(58===d){if(!l&&!t&&1===s.length){t=s.pop();continue}}else 47===d&&u&&1<c.length?(d=a[u-1].match(i))&&!o[d[0]]&&((a=(e=e.substr(e.indexOf(c)+1)).match(r)).push(","),u=-1,c="/"):40===d||123===d||91===d?++l:41===d||125===d||93===d?--l:t||s.length||34!==d&&39!==d||(c=c.slice(1,-1));s.push(c)}}return n}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,r=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),i=/[\])"'A-Za-z0-9_$]+$/,o={in:1,return:1,typeof:1},a={};return{va:[],ga:a,Ab:e,Xa:function(r,i){function o(e,r){var i;if(!u){var d=x.getBindingHandler(e);if(d&&d.preprocess&&!(r=d.preprocess(r,e,o)))return;(d=a[e])&&(i=r,0<=x.a.o(t,i)?i=!1:(d=i.match(n),i=null!==d&&(d[1]?"Object("+d[1]+")"+d[2]:i)),d=i),d&&l.push("'"+e+"':function(_z){"+i+"=_z}")}c&&(r="function(){return "+r+" }"),s.push("'"+e+"':"+r)}var s=[],l=[],c=(i=i||{}).valueAccessors,u=i.bindingParams,d="string"==typeof r?e(r):r;return x.a.r(d,(function(e){o(e.key||e.unknown,e.value)})),l.length&&o("_ko_property_writers","{"+l.join(",")+" }"),s.join(",")},fd:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},Ga:function(e,t,n,r,i){e&&x.I(e)?!x.Da(e)||i&&e.p()===r||e(r):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](r)}}}(),x.b("expressionRewriting",x.h),x.b("expressionRewriting.bindingRewriteValidators",x.h.va),x.b("expressionRewriting.parseObjectLiteral",x.h.Ab),x.b("expressionRewriting.preProcessBindings",x.h.Xa),x.b("expressionRewriting._twoWayBindings",x.h.ga),x.b("jsonExpressionRewriting",x.h),x.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",x.h.Xa),function(){function e(e){return 8==e.nodeType&&a.test(o?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&s.test(o?e.text:e.nodeValue)}function r(n,r){for(var i=n,o=1,a=[];i=i.nextSibling;){if(t(i)&&0==--o)return a;a.push(i),e(i)&&o++}if(!r)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){var n=r(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:null}var o=n&&"\x3c!--test--\x3e"===n.createComment("test").text,a=o?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=o?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};x.f={aa:{},childNodes:function(t){return e(t)?r(t):t.childNodes},za:function(t){if(e(t))for(var n=0,r=(t=x.f.childNodes(t)).length;n<r;n++)x.removeNode(t[n]);else x.a.rb(t)},fa:function(t,n){if(e(t)){x.f.za(t);for(var r=t.nextSibling,i=0,o=n.length;i<o;i++)r.parentNode.insertBefore(n[i],r)}else x.a.fa(t,n)},qc:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},kc:function(t,n,r){r?e(t)?t.parentNode.insertBefore(n,r.nextSibling):r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):x.f.qc(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},Yc:e,vd:function(e){return(e=(o?e.text:e.nodeValue).match(a))?e[1]:null},oc:function(n){if(l[x.a.A(n)]){var r=n.firstChild;if(r)do{if(1===r.nodeType){var o,a=null;if(o=r.firstChild)do{if(a)a.push(o);else if(e(o)){var s=i(o,!0);s?o=s:a=[o]}else t(o)&&(a=[o])}while(o=o.nextSibling);if(o=a)for(a=r.nextSibling,s=0;s<o.length;s++)a?n.insertBefore(o[s],a):n.appendChild(o[s])}}while(r=r.nextSibling)}}}}(),x.b("virtualElements",x.f),x.b("virtualElements.allowedBindings",x.f.aa),x.b("virtualElements.emptyNode",x.f.za),x.b("virtualElements.insertAfter",x.f.kc),x.b("virtualElements.prepend",x.f.qc),x.b("virtualElements.setDomNodeChildren",x.f.fa),x.S=function(){this.Kc={}},x.a.extend(x.S.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||x.g.getComponentNameForNode(e);case 8:return x.f.Yc(e);default:return!1}},getBindings:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e):null;return x.g.Rb(n,e,t,!1)},getBindingAccessors:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return x.g.Rb(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return x.f.vd(e);default:return null}},parseBindingsString:function(e,t,n,r){try{var i,o=this.Kc,a=e+(r&&r.valueAccessors||"");if(!(i=o[a])){var s,l="with($context){with($data||{}){return{"+x.h.Xa(e,r)+"}}}";s=new Function("$context","$element",l),i=o[a]=s}return i(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),x.S.instance=new x.S,x.b("bindingProvider",x.S),function(){function n(e){return function(){return e}}function r(e){return e()}function o(e){return x.a.Ea(x.l.w(e),(function(t,n){return function(){return e()[n]}}))}function a(e,t,r){return"function"==typeof e?o(e.bind(null,t,r)):x.a.Ea(e,n)}function s(e,t){return o(this.getBindings.bind(this,e,t))}function l(e,t,n){var r,i=x.f.firstChild(t),o=x.S.instance,a=o.preprocessNode;if(a){for(;r=i;)i=x.f.nextSibling(r),a.call(o,r);i=x.f.firstChild(t)}for(;r=i;)i=x.f.nextSibling(r),c(e,r,n)}function c(e,t,n){var r=!0,i=1===t.nodeType;i&&x.f.oc(t),(i&&n||x.S.instance.nodeHasBindings(t))&&(r=u(t,null,e,n).shouldBindDescendants),r&&!f[x.a.A(t)]&&l(e,t,!i)}function u(t,n,i,o){var a,l,c=x.a.e.get(t,p);if(!n){if(c)throw Error("You cannot apply bindings multiple times to the same element.");x.a.e.set(t,p,!0)}if(!c&&o&&x.xc(t,i),n&&"function"!=typeof n)a=n;else{var u=x.S.instance,d=u.getBindingAccessors||s,f=x.B((function(){return(a=n?n(i,t):d.call(u,t,i))&&i.Q&&i.Q(),a}),null,{i:t});a&&f.ca()||(f=null)}if(a){var h=f?function(e){return function(){return r(f()[e])}}:function(e){return a[e]},m=function(){return x.a.Ea(f?f():a,r)};m.get=function(e){return a[e]&&r(h(e))},m.has=function(e){return e in a},o=function(e){var t=[],n={},r=[];return x.a.D(e,(function i(o){if(!n[o]){var a=x.getBindingHandler(o);a&&(a.after&&(r.push(o),x.a.r(a.after,(function(t){if(e[t]){if(-1!==x.a.o(r,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+r.join(", "));i(t)}})),r.length--),t.push({key:o,jc:a})),n[o]=!0}})),t}(a),x.a.r(o,(function(n){var r=n.jc.init,o=n.jc.update,s=n.key;if(8===t.nodeType&&!x.f.aa[s])throw Error("The binding '"+s+"' cannot be used with virtual elements");try{"function"==typeof r&&x.l.w((function(){var n=r(t,h(s),m,i.$data,i);if(n&&n.controlsDescendantBindings){if(l!==e)throw Error("Multiple bindings ("+l+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");l=s}})),"function"==typeof o&&x.B((function(){o(t,h(s),m,i.$data,i)}),null,{i:t})}catch(e){throw e.message='Unable to process binding "'+s+": "+a[s]+'"\nMessage: '+e.message,e}}))}return{shouldBindDescendants:l===e}}function d(e){return e&&e instanceof x.R?e:new x.R(e)}x.d={};var f={script:!0,textarea:!0,template:!0};x.getBindingHandler=function(e){return x.d[e]},x.R=function(t,n,r,i,o){function a(){var e=u?t():t,o=x.a.c(e);return n?(n.Q&&n.Q(),x.a.extend(c,n),c.Q=l):(c.$parents=[],c.$root=o,c.ko=x),c.$rawData=e,c.$data=o,r&&(c[r]=o),i&&i(c,n,o),c.$data}var s,l,c=this,u="function"==typeof t&&!x.I(t);o&&o.exportDependencies?a():(l=x.B(a,null,{ya:function(){return s&&!x.a.Tb(s)},i:!0})).ca()&&(c.Q=l,l.equalityComparer=null,s=[],l.Dc=function(t){s.push(t),x.a.G.qa(t,(function(t){x.a.Na(s,t),s.length||(l.k(),c.Q=l=e)}))})},x.R.prototype.createChildContext=function(e,t,n,r){return new x.R(e,this,t,(function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)}),r)},x.R.prototype.extend=function(e){return new x.R(this.Q||this.$data,this,null,(function(t,n){t.$rawData=n.$rawData,x.a.extend(t,"function"==typeof e?e():e)}))},x.R.prototype.ac=function(e,t){return this.createChildContext(e,t,null,{exportDependencies:!0})};var p=x.a.e.J(),h=x.a.e.J();x.xc=function(e,t){if(2!=arguments.length)return x.a.e.get(e,h);x.a.e.set(e,h,t),t.Q&&t.Q.Dc(e)},x.La=function(e,t,n){return 1===e.nodeType&&x.f.oc(e),u(e,t,d(n),!0)},x.Ic=function(e,t,n){return n=d(n),x.La(e,a(t,n,e),n)},x.hb=function(e,t){1!==t.nodeType&&8!==t.nodeType||l(d(e),t,!0)},x.Ub=function(e,n){if(!i&&t.jQuery&&(i=t.jQuery),n&&1!==n.nodeType&&8!==n.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");n=n||t.document.body,c(d(e),n,!0)},x.nb=function(t){switch(t.nodeType){case 1:case 8:var n=x.xc(t);if(n)return n;if(t.parentNode)return x.nb(t.parentNode)}return e},x.Oc=function(t){return(t=x.nb(t))?t.$data:e},x.b("bindingHandlers",x.d),x.b("applyBindings",x.Ub),x.b("applyBindingsToDescendants",x.hb),x.b("applyBindingAccessorsToNode",x.La),x.b("applyBindingsToNode",x.Ic),x.b("contextFor",x.nb),x.b("dataFor",x.Oc)}(),function(e){function t(t,r){var a,s=i.hasOwnProperty(t)?i[t]:e;s?s.Y(r):((s=i[t]=new x.K).Y(r),n(t,(function(e,n){var r=!(!n||!n.synchronous);o[t]={definition:e,dd:r},delete i[t],a||r?s.notifySubscribers(e):x.Z.Za((function(){s.notifySubscribers(e)}))})),a=!0)}function n(e,t){r("getConfig",[e],(function(n){n?r("loadComponent",[e,n],(function(e){t(e,n)})):t(null,null)}))}function r(t,n,i,o){o||(o=x.g.loaders.slice(0));var a=o.shift();if(a){var s=a[t];if(s){var l=!1;if(s.apply(a,n.concat((function(e){l?i(null):null!==e?i(e):r(t,n,i,o)})))!==e&&(l=!0,!a.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else r(t,n,i,o)}else i(null)}var i={},o={};x.g={get:function(n,r){var i=o.hasOwnProperty(n)?o[n]:e;i?i.dd?x.l.w((function(){r(i.definition)})):x.Z.Za((function(){r(i.definition)})):t(n,r)},$b:function(e){delete o[e]},Nb:r},x.g.loaders=[],x.b("components",x.g),x.b("components.get",x.g.get),x.b("components.clearCachedDefinition",x.g.$b)}(),function(){function e(e,t,n,r){function i(){0==--s&&r(o)}var o={},s=2,l=n.template;n=n.viewModel,l?a(t,l,(function(t){x.g.Nb("loadTemplate",[e,t],(function(e){o.template=e,i()}))})):i(),n?a(t,n,(function(t){x.g.Nb("loadViewModel",[e,t],(function(e){o[u]=e,i()}))})):i()}function r(e,t,n){if("function"==typeof t)n((function(e){return new t(e)}));else if("function"==typeof t[u])n(t[u]);else if("instance"in t){var i=t.instance;n((function(){return i}))}else"viewModel"in t?r(e,t.viewModel,n):e("Unknown viewModel value: "+t)}function i(e){switch(x.a.A(e)){case"script":return x.a.na(e.text);case"textarea":return x.a.na(e.value);case"template":if(o(e.content))return x.a.wa(e.content.childNodes)}return x.a.wa(e.childNodes)}function o(e){return t.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function a(e,n,r){"string"==typeof n.require?s||t.require?(s||t.require)([n.require],r):e("Uses require, but no AMD loader is present"):r(n)}function l(e){return function(t){throw Error("Component '"+e+"': "+t)}}var c={};x.g.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(x.g.wb(e))throw Error("Component "+e+" is already registered");c[e]=t},x.g.wb=function(e){return c.hasOwnProperty(e)},x.g.ud=function(e){delete c[e],x.g.$b(e)},x.g.cc={getConfig:function(e,t){t(c.hasOwnProperty(e)?c[e]:null)},loadComponent:function(t,n,r){var i=l(t);a(i,n,(function(n){e(t,i,n,r)}))},loadTemplate:function(e,r,a){if(e=l(e),"string"==typeof r)a(x.a.na(r));else if(r instanceof Array)a(r);else if(o(r))a(x.a.W(r.childNodes));else if(r.element)if(r=r.element,t.HTMLElement?r instanceof HTMLElement:r&&r.tagName&&1===r.nodeType)a(i(r));else if("string"==typeof r){var s=n.getElementById(r);s?a(i(s)):e("Cannot find element with ID "+r)}else e("Unknown element type: "+r);else e("Unknown template value: "+r)},loadViewModel:function(e,t,n){r(l(e),t,n)}};var u="createViewModel";x.b("components.register",x.g.register),x.b("components.isRegistered",x.g.wb),x.b("components.unregister",x.g.ud),x.b("components.defaultLoader",x.g.cc),x.g.loaders.push(x.g.cc),x.g.Ec=c}(),function(){function e(e,n){if(r=e.getAttribute("params")){var r=t.parseBindingsString(r,n,e,{valueAccessors:!0,bindingParams:!0}),i=(r=x.a.Ea(r,(function(t){return x.m(t,null,{i:e})})),x.a.Ea(r,(function(t){var n=t.p();return t.ca()?x.m({read:function(){return x.a.c(t())},write:x.Da(n)&&function(e){t()(e)},i:e}):n})));return i.hasOwnProperty("$raw")||(i.$raw=r),i}return{$raw:{}}}x.g.getComponentNameForNode=function(e){var t=x.a.A(e);if(x.g.wb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=x.a.C&&e.tagName===t))return t},x.g.Rb=function(t,n,r,i){if(1===n.nodeType){var o=x.g.getComponentNameForNode(n);if(o){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var a={name:o,params:e(n,r)};t.component=i?function(){return a}:a}}return t};var t=new x.S;9>x.a.C&&(x.g.register=function(e){return function(t){return n.createElement(t),e.apply(this,arguments)}}(x.g.register),n.createDocumentFragment=function(e){return function(){var t,n=e(),r=x.g.Ec;for(t in r)r.hasOwnProperty(t)&&n.createElement(t);return n}}(n.createDocumentFragment))}(),function(e){var t=0;x.d.component={init:function(e,n,r,i,o){function a(){var e=s&&s.dispose;"function"==typeof e&&e.call(s),l=s=null}var s,l,c=x.a.W(x.f.childNodes(e));return x.a.G.qa(e,a),x.m((function(){var r,i,u=x.a.c(n());if("string"==typeof u?r=u:(r=x.a.c(u.name),i=x.a.c(u.params)),!r)throw Error("No component name specified");var d=l=++t;x.g.get(r,(function(t){if(l===d){if(a(),!t)throw Error("Unknown component '"+r+"'");!function(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=x.a.wa(t),x.f.fa(n,e)}(r,t,e);var n=function(e,t,n,r){var i=e.createViewModel;return i?i.call(e,r,{element:t,templateNodes:n}):r}(t,e,c,i);t=o.createChildContext(n,void 0,(function(e){e.$component=n,e.$componentTemplateNodes=c})),s=n,x.hb(t,e)}}))}),null,{i:e}),{controlsDescendantBindings:!0}}},x.f.aa.component=!0}();var A={class:"className",for:"htmlFor"};x.d.attr={update:function(t,n){var r=x.a.c(n())||{};x.a.D(r,(function(n,r){var i=!1===(r=x.a.c(r))||null===r||r===e;i&&t.removeAttribute(n),8>=x.a.C&&n in A?(n=A[n],i?t.removeAttribute(n):t[n]=r):i||t.setAttribute(n,r.toString()),"name"===n&&x.a.vc(t,i?"":r.toString())}))}},x.d.checked={after:["value","attr"],init:function(t,n,r){function i(){var e=t.checked,i=f?o():e;if(!x.xa.Va()&&(!s||e)){var a=x.l.w(n);if(c){var l=u?a.p():a;d!==i?(e&&(x.a.ra(l,i,!0),x.a.ra(l,d,!1)),d=i):x.a.ra(l,i,e),u&&x.Da(a)&&a(l)}else x.h.Ga(a,r,"checked",i,!0)}}var o=x.rc((function(){return r.has("checkedValue")?x.a.c(r.get("checkedValue")):r.has("value")?x.a.c(r.get("value")):t.value})),a="checkbox"==t.type,s="radio"==t.type;if(a||s){var l=n(),c=a&&x.a.c(l)instanceof Array,u=!(c&&l.push&&l.splice),d=c?o():e,f=s||c;s&&!t.name&&x.d.uniqueName.init(t,(function(){return!0})),x.m(i,null,{i:t}),x.a.q(t,"click",i),x.m((function(){var e=x.a.c(n());t.checked=c?0<=x.a.o(e,o()):a?e:o()===e}),null,{i:t}),l=e}}},x.h.ga.checked=!0,x.d.checkedValue={update:function(e,t){e.value=x.a.c(t())}},x.d.css={update:function(e,t){var n=x.a.c(t());null!==n&&"object"==typeof n?x.a.D(n,(function(t,n){n=x.a.c(n),x.a.fb(e,t,n)})):(n=x.a.cb(String(n||"")),x.a.fb(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,x.a.fb(e,n,!0))}},x.d.enable={update:function(e,t){var n=x.a.c(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},x.d.disable={update:function(e,t){x.d.enable.update(e,(function(){return!x.a.c(t())}))}},x.d.event={init:function(e,t,n,r,i){var o=t()||{};x.a.D(o,(function(o){"string"==typeof o&&x.a.q(e,o,(function(e){var a,s=t()[o];if(s){try{var l=x.a.W(arguments);r=i.$data,l.unshift(r),a=s.apply(r,l)}finally{!0!==a&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(o+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}}))}))}},x.d.foreach={mc:function(e){return function(){var t=e(),n=x.a.Bb(t);return n&&"number"!=typeof n.length?(x.a.c(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:x.X.vb}):{foreach:t,templateEngine:x.X.vb}}},init:function(e,t){return x.d.template.init(e,x.d.foreach.mc(t))},update:function(e,t,n,r,i){return x.d.template.update(e,x.d.foreach.mc(t),n,r,i)}},x.h.va.foreach=!1,x.f.aa.foreach=!0,x.d.hasfocus={init:function(e,t,n){function r(r){e.__ko_hasfocusUpdating=!0;var i=e.ownerDocument;if("activeElement"in i){var o;try{o=i.activeElement}catch(e){o=i.body}r=o===e}i=t(),x.h.Ga(i,n,"hasfocus",r,!0),e.__ko_hasfocusLastValue=r,e.__ko_hasfocusUpdating=!1}var i=r.bind(null,!0),o=r.bind(null,!1);x.a.q(e,"focus",i),x.a.q(e,"focusin",i),x.a.q(e,"blur",o),x.a.q(e,"focusout",o)},update:function(e,t){var n=!!x.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),!n&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),x.l.w(x.a.Fa,null,[e,n?"focusin":"focusout"]))}},x.h.ga.hasfocus=!0,x.d.hasFocus=x.d.hasfocus,x.h.ga.hasFocus=!0,x.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){x.a.Eb(e,t())}},h("if"),h("ifnot",!1,!0),h("with",!0,!1,(function(e,t){return e.ac(t)}));var N={};x.d.options={init:function(e){if("select"!==x.a.A(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(t,n,r){function i(){return x.a.Ma(t.options,(function(e){return e.selected}))}function o(e,t,n){var r=typeof t;return"function"==r?t(e):"string"==r?e[t]:n}function a(e,n){if(h&&u)x.j.ja(t,x.a.c(r.get("value")),!0);else if(p.length){var i=0<=x.a.o(p,x.j.u(n[0]));x.a.wc(n[0],i),h&&!i&&x.l.w(x.a.Fa,null,[t,"change"])}}var s=t.multiple,l=0!=t.length&&s?t.scrollTop:null,c=x.a.c(n()),u=r.get("valueAllowUnset")&&r.has("value"),d=r.get("optionsIncludeDestroyed");n={};var f,p=[];u||(s?p=x.a.ib(i(),x.j.u):0<=t.selectedIndex&&p.push(x.j.u(t.options[t.selectedIndex]))),c&&(void 0===c.length&&(c=[c]),f=x.a.Ma(c,(function(t){return d||t===e||null===t||!x.a.c(t._destroy)})),r.has("optionsCaption")&&null!==(c=x.a.c(r.get("optionsCaption")))&&c!==e&&f.unshift(N));var h=!1;n.beforeRemove=function(e){t.removeChild(e)},c=a,r.has("optionsAfterRender")&&"function"==typeof r.get("optionsAfterRender")&&(c=function(t,n){a(0,n),x.l.w(r.get("optionsAfterRender"),null,[n[0],t!==N?t:e])}),x.a.Db(t,f,(function(n,i,a){return a.length&&(p=!u&&a[0].selected?[x.j.u(a[0])]:[],h=!0),i=t.ownerDocument.createElement("option"),n===N?(x.a.bb(i,r.get("optionsCaption")),x.j.ja(i,e)):(a=o(n,r.get("optionsValue"),n),x.j.ja(i,x.a.c(a)),n=o(n,r.get("optionsText"),a),x.a.bb(i,n)),[i]}),n,c),x.l.w((function(){u?x.j.ja(t,x.a.c(r.get("value")),!0):(s?p.length&&i().length<p.length:p.length&&0<=t.selectedIndex?x.j.u(t.options[t.selectedIndex])!==p[0]:p.length||0<=t.selectedIndex)&&x.a.Fa(t,"change")})),x.a.Sc(t),l&&20<Math.abs(l-t.scrollTop)&&(t.scrollTop=l)}},x.d.options.zb=x.a.e.J(),x.d.selectedOptions={after:["options","foreach"],init:function(e,t,n){x.a.q(e,"change",(function(){var r=t(),i=[];x.a.r(e.getElementsByTagName("option"),(function(e){e.selected&&i.push(x.j.u(e))})),x.h.Ga(r,n,"selectedOptions",i)}))},update:function(e,t){if("select"!=x.a.A(e))throw Error("values binding applies only to SELECT elements");var n=x.a.c(t()),r=e.scrollTop;n&&"number"==typeof n.length&&x.a.r(e.getElementsByTagName("option"),(function(e){var t=0<=x.a.o(n,x.j.u(e));e.selected!=t&&x.a.wc(e,t)})),e.scrollTop=r}},x.h.ga.selectedOptions=!0,x.d.style={update:function(t,n){var r=x.a.c(n()||{});x.a.D(r,(function(n,r){null!==(r=x.a.c(r))&&r!==e&&!1!==r||(r=""),t.style[n]=r}))}},x.d.submit={init:function(e,t,n,r,i){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");x.a.q(e,"submit",(function(n){var r,o=t();try{r=o.call(i.$data,e)}finally{!0!==r&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}}))}},x.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){x.a.bb(e,t())}},x.f.aa.text=!0,function(){if(t&&t.navigator)var n=function(e){if(e)return parseFloat(e[1])},r=t.opera&&t.opera.version&&parseInt(t.opera.version()),i=t.navigator.userAgent,o=n(i.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),a=n(i.match(/Firefox\/([^ ]*)/));if(10>x.a.C)var s=x.a.e.J(),l=x.a.e.J(),c=function(e){var t=this.activeElement;(t=t&&x.a.e.get(t,l))&&t(e)},u=function(e,t){var n=e.ownerDocument;x.a.e.get(n,s)||(x.a.e.set(n,s,!0),x.a.q(n,"selectionchange",c)),x.a.e.set(e,l,t)};x.d.textInput={init:function(t,n,i){function s(e,n){x.a.q(t,e,n)}function l(){d||(f=t.value,d=x.a.setTimeout(c,4))}function c(){clearTimeout(d),f=d=e;var r=t.value;p!==r&&(p=r,x.h.Ga(n(),i,"textInput",r))}var d,f,p=t.value,h=9==x.a.C?l:c;10>x.a.C?(s("propertychange",(function(e){"value"===e.propertyName&&h(e)})),8==x.a.C&&(s("keyup",c),s("keydown",c)),8<=x.a.C&&(u(t,h),s("dragend",l))):(s("input",c),5>o&&"textarea"===x.a.A(t)?(s("keydown",l),s("paste",l),s("cut",l)):11>r?s("keydown",l):4>a&&(s("DOMAutoComplete",c),s("dragdrop",c),s("drop",c))),s("change",c),x.m((function r(){var i=x.a.c(n());null!==i&&i!==e||(i=""),f!==e&&i===f?x.a.setTimeout(r,4):t.value!==i&&(p=i,t.value=i)}),null,{i:t})}},x.h.ga.textInput=!0,x.d.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),x.d.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++x.d.uniqueName.Nc;x.a.vc(e,n)}}},x.d.uniqueName.Nc=0,x.d.value={after:["options","foreach"],init:function(e,t,n){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var r=["change"],i=n.get("valueUpdate"),o=!1,a=null;i&&("string"==typeof i&&(i=[i]),x.a.ta(r,i),r=x.a.Wb(r));var s=function(){a=null,o=!1;var r=t(),i=x.j.u(e);x.h.Ga(r,n,"value",i)};!x.a.C||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=x.a.o(r,"propertychange")||(x.a.q(e,"propertychange",(function(){o=!0})),x.a.q(e,"focus",(function(){o=!1})),x.a.q(e,"blur",(function(){o&&s()}))),x.a.r(r,(function(t){var n=s;x.a.sd(t,"after")&&(n=function(){a=x.j.u(e),x.a.setTimeout(s,0)},t=t.substring(5)),x.a.q(e,t,n)}));var l=function(){var r=x.a.c(t()),i=x.j.u(e);if(null!==a&&r===a)x.a.setTimeout(l,0);else if(r!==i)if("select"===x.a.A(e)){var o=n.get("valueAllowUnset");(i=function(){x.j.ja(e,r,o)})(),o||r===x.j.u(e)?x.a.setTimeout(i,0):x.l.w(x.a.Fa,null,[e,"change"])}else x.j.ja(e,r)};x.m(l,null,{i:e})}else x.La(e,{checkedValue:t})},update:function(){}},x.h.ga.value=!0,x.d.visible={update:function(e,t){var n=x.a.c(t()),r="none"!=e.style.display;n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},function(e){x.d[e]={init:function(t,n,r,i,o){return x.d.event.init.call(this,t,(function(){var t={};return t[e]=n(),t}),r,i,o)}}}("click"),x.P=function(){},x.P.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},x.P.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},x.P.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var r=(t=t||n).getElementById(e);if(!r)throw Error("Cannot find template with ID "+e);return new x.v.n(r)}if(1==e.nodeType||8==e.nodeType)return new x.v.sa(e);throw Error("Unknown template type: "+e)},x.P.prototype.renderTemplate=function(e,t,n,r){return e=this.makeTemplateSource(e,r),this.renderTemplateSource(e,t,n,r)},x.P.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},x.P.prototype.rewriteTemplate=function(e,t,n){t=t((e=this.makeTemplateSource(e,n)).text()),e.text(t),e.data("isRewritten",!0)},x.b("templateEngine",x.P),x.Ib=function(){function e(e,t,n,r){e=x.h.Ab(e);for(var i=x.h.va,o=0;o<e.length;o++){var a=e[o].key;if(i.hasOwnProperty(a)){var s=i[a];if("function"==typeof s){if(a=s(e[o].value))throw Error(a)}else if(!s)throw Error("This template engine does not support the '"+a+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+x.h.Xa(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",r.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Tc:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,(function(e){return x.Ib.jd(e,t)}),n)},jd:function(r,i){return r.replace(t,(function(t,n,r,o,a){return e(a,n,r,i)})).replace(n,(function(t,n){return e(n,"\x3c!-- ko --\x3e","#comment",i)}))},Jc:function(e,t){return x.N.yb((function(n,r){var i=n.nextSibling;i&&i.nodeName.toLowerCase()===t&&x.La(i,e,r)}))}}}(),x.b("__tr_ambtns",x.Ib.Jc),function(){x.v={},x.v.n=function(e){if(this.n=e){var t=x.a.A(e);this.eb="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},x.v.n.prototype.text=function(){var e=1===this.eb?"text":2===this.eb?"value":"innerHTML";if(0==arguments.length)return this.n[e];var t=arguments[0];"innerHTML"===e?x.a.Eb(this.n,t):this.n[e]=t};var t=x.a.e.J()+"_";x.v.n.prototype.data=function(e){if(1===arguments.length)return x.a.e.get(this.n,t+e);x.a.e.set(this.n,t+e,arguments[1])};var n=x.a.e.J();x.v.n.prototype.nodes=function(){var t=this.n;if(0==arguments.length)return(x.a.e.get(t,n)||{}).mb||(3===this.eb?t.content:4===this.eb?t:e);x.a.e.set(t,n,{mb:arguments[0]})},x.v.sa=function(e){this.n=e},x.v.sa.prototype=new x.v.n,x.v.sa.prototype.text=function(){if(0==arguments.length){var t=x.a.e.get(this.n,n)||{};return t.Jb===e&&t.mb&&(t.Jb=t.mb.innerHTML),t.Jb}x.a.e.set(this.n,n,{Jb:arguments[0]})},x.b("templateSources",x.v),x.b("templateSources.domElement",x.v.n),x.b("templateSources.anonymousTemplate",x.v.sa)}(),function(){function t(e,t,n){var r;for(t=x.f.nextSibling(t);e&&(r=e)!==t;)n(r,e=x.f.nextSibling(r))}function n(e,n){if(e.length){var r=e[0],i=e[e.length-1],o=r.parentNode,a=x.S.instance,s=a.preprocessNode;if(s){if(t(r,i,(function(e,t){var n=e.previousSibling,o=s.call(a,e);o&&(e===r&&(r=o[0]||t),e===i&&(i=o[o.length-1]||n))})),e.length=0,!r)return;r===i?e.push(r):(e.push(r,i),x.a.Ba(e,o))}t(r,i,(function(e){1!==e.nodeType&&8!==e.nodeType||x.Ub(n,e)})),t(r,i,(function(e){1!==e.nodeType&&8!==e.nodeType||x.N.Cc(e,[n])})),x.a.Ba(e,o)}}function r(e){return e.nodeType?e:0<e.length?e[0]:null}function i(e,t,i,o,s){s=s||{};var l=(e&&r(e)||i||{}).ownerDocument,c=s.templateEngine||a;if(x.Ib.Tc(i,c,l),"number"!=typeof(i=c.renderTemplate(i,o,s,l)).length||0<i.length&&"number"!=typeof i[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,t){case"replaceChildren":x.f.fa(e,i),l=!0;break;case"replaceNode":x.a.uc(e,i),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return l&&(n(i,o),s.afterRender&&x.l.w(s.afterRender,null,[i,o.$data])),i}function o(e,t,n){return x.I(e)?e():"function"==typeof e?e(t,n):e}var a;x.Fb=function(t){if(t!=e&&!(t instanceof x.P))throw Error("templateEngine must inherit from ko.templateEngine");a=t},x.Cb=function(t,n,s,l,c){if(((s=s||{}).templateEngine||a)==e)throw Error("Set a template engine before calling renderTemplate");if(c=c||"replaceChildren",l){var u=r(l);return x.B((function(){var e=n&&n instanceof x.R?n:new x.R(n,null,null,null,{exportDependencies:!0}),a=o(t,e.$data,e);e=i(l,c,a,e,s),"replaceNode"==c&&(u=r(l=e))}),null,{ya:function(){return!u||!x.a.qb(u)},i:u&&"replaceNode"==c?u.parentNode:u})}return x.N.yb((function(e){x.Cb(t,n,s,e,"replaceNode")}))},x.pd=function(t,r,a,s,l){function c(e,t){n(t,d),a.afterRender&&a.afterRender(t,e),d=null}function u(e,n){return d=l.createChildContext(e,a.as,(function(e){e.$index=n})),i(null,"ignoreTargetNode",o(t,e,d),d,a)}var d;return x.B((function(){var t=x.a.c(r)||[];void 0===t.length&&(t=[t]),t=x.a.Ma(t,(function(t){return a.includeDestroyed||t===e||null===t||!x.a.c(t._destroy)})),x.l.w(x.a.Db,null,[s,t,u,a,c])}),null,{i:s})};var s=x.a.e.J();x.d.template={init:function(e,t){var n=x.a.c(t());if("string"==typeof n||n.name)x.f.za(e);else{if("nodes"in n){if(n=n.nodes||[],x.I(n))throw Error('The "nodes" option must be a plain, non-observable array.')}else n=x.f.childNodes(e);n=x.a.nc(n),new x.v.sa(e).nodes(n)}return{controlsDescendantBindings:!0}},update:function(t,n,r,i,o){var a=n();r=!0,i=null,"string"==typeof(n=x.a.c(a))?n={}:(a=n.name,"if"in n&&(r=x.a.c(n.if)),r&&"ifnot"in n&&(r=!x.a.c(n.ifnot))),"foreach"in n?i=x.pd(a||t,r&&n.foreach||[],n,t,o):r?(o="data"in n?o.ac(n.data,n.as):o,i=x.Cb(a||t,o,n,t)):x.f.za(t),o=i,(n=x.a.e.get(t,s))&&"function"==typeof n.k&&n.k(),x.a.e.set(t,s,o&&o.ca()?o:e)}},x.h.va.template=function(e){return 1==(e=x.h.Ab(e)).length&&e[0].unknown||x.h.fd(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},x.f.aa.template=!0}(),x.b("setTemplateEngine",x.Fb),x.b("renderTemplate",x.Cb),x.a.hc=function(e,t,n){var r,i,o,a,s;if(e.length&&t.length)for(r=i=0;(!n||r<n)&&(a=e[i]);++i){for(o=0;s=t[o];++o)if(a.value===s.value){a.moved=s.index,s.moved=a.index,t.splice(o,1),r=o=0;break}r+=o}},x.a.lb=function(){function e(e,t,n,r,i){var o,a,s,l,c,u=Math.min,d=Math.max,f=[],p=e.length,h=t.length,m=h-p||1,g=p+h+1;for(o=0;o<=p;o++)for(l=s,f.push(s=[]),c=u(h,o+m),a=d(0,o-1);a<=c;a++)s[a]=a?o?e[o-1]===t[a-1]?l[a-1]:u(l[a]||g,s[a-1]||g)+1:a+1:o+1;for(u=[],d=[],m=[],o=p,a=h;o||a;)h=f[o][a]-1,a&&h===f[o][a-1]?d.push(u[u.length]={status:n,value:t[--a],index:a}):o&&h===f[o-1][a]?m.push(u[u.length]={status:r,value:e[--o],index:o}):(--a,--o,i.sparse||u.push({status:"retained",value:t[a]}));return x.a.hc(m,d,!i.dontLimitMoves&&10*p),u.reverse()}return function(t,n,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},n=n||[],(t=t||[]).length<n.length?e(t,n,"added","deleted",r):e(n,t,"deleted","added",r)}}(),x.b("utils.compareArrays",x.a.lb),function(){function t(t,n,r,i,o){var a=[],s=x.B((function(){var e=n(r,o,x.a.Ba(a,t))||[];0<a.length&&(x.a.uc(a,e),i&&x.l.w(i,null,[r,e,o])),a.length=0,x.a.ta(a,e)}),null,{i:t,ya:function(){return!x.a.Tb(a)}});return{ea:a,B:s.ca()?s:e}}var n=x.a.e.J(),r=x.a.e.J();x.a.Db=function(i,o,a,s,l){function c(e,t){_=p[t],b!==t&&(T[e]=_),_.tb(b++),x.a.Ba(_.ea,i),g.push(_),w.push(_)}function u(e,t){if(e)for(var n=0,r=t.length;n<r;n++)t[n]&&x.a.r(t[n].ea,(function(r){e(r,n,t[n].ka)}))}o=o||[],s=s||{};var d,f=x.a.e.get(i,n)===e,p=x.a.e.get(i,n)||[],h=x.a.ib(p,(function(e){return e.ka})),m=x.a.lb(h,o,s.dontLimitMoves),g=[],v=0,b=0,y=[],w=[];o=[];for(var _,k,S,T=[],I=(h=[],0);k=m[I];I++)switch(S=k.moved,k.status){case"deleted":S===e&&((_=p[v]).B&&(_.B.k(),_.B=e),x.a.Ba(_.ea,i).length&&(s.beforeRemove&&(g.push(_),w.push(_),_.ka===r?_=null:o[I]=_),_&&y.push.apply(y,_.ea))),v++;break;case"retained":c(I,v++);break;case"added":S!==e?c(I,S):(_={ka:k.value,tb:x.O(b++)},g.push(_),w.push(_),f||(h[I]=_))}for(x.a.e.set(i,n,g),u(s.beforeMove,T),x.a.r(y,s.beforeRemove?x.ba:x.removeNode),I=0,f=x.f.firstChild(i);_=w[I];I++){for(_.ea||x.a.extend(_,t(i,a,_.ka,l,_.tb)),v=0;m=_.ea[v];f=m.nextSibling,d=m,v++)m!==f&&x.f.kc(i,m,d);!_.ad&&l&&(l(_.ka,_.ea,_.tb),_.ad=!0)}for(u(s.beforeRemove,o),I=0;I<o.length;++I)o[I]&&(o[I].ka=r);u(s.afterMove,T),u(s.afterAdd,h)}}(),x.b("utils.setDomNodeChildrenFromArrayMapping",x.a.Db),x.X=function(){this.allowTemplateRewriting=!1},x.X.prototype=new x.P,x.X.prototype.renderTemplateSource=function(e,t,n,r){return(t=9>x.a.C||!e.nodes?null:e.nodes())?x.a.W(t.cloneNode(!0).childNodes):(e=e.text(),x.a.na(e,r))},x.X.vb=new x.X,x.Fb(x.X.vb),x.b("nativeTemplateEngine",x.X),function(){x.xb=function(){var e=this.ed=function(){if(!i||!i.tmpl)return 0;try{if(0<=i.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,r,o,a){if(a=a||n,o=o||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var s=t.data("precompiled");return s||(s=t.text()||"",s=i.template(null,"{{ko_with $item.koBindingContext}}"+s+"{{/ko_with}}"),t.data("precompiled",s)),t=[r.$data],r=i.extend({koBindingContext:r},o.templateOptions),(r=i.tmpl(s,t,r)).appendTo(a.createElement("div")),i.fragments={},r},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){n.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(i.tmpl.tag.ko_code={open:"__.push($1 || '');"},i.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},x.xb.prototype=new x.P;var e=new x.xb;0<e.ed&&x.Fb(e),x.b("jqueryTmplTemplateEngine",x.xb)}()}))}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Promise=t()}(this,(function(){"use strict";function e(){}function t(e){if(!(this instanceof t))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function n(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,t._immediateFn((function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(e){return void i(n.promise,e)}r(n.promise,o)}else(1===e._state?r:i)(n.promise,e._value)}))):e._deferreds.push(n)}function r(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if(n instanceof t)return e._state=3,e._value=n,void o(e);if("function"==typeof r)return void a(function(e,t){return function(){e.apply(t,arguments)}}(r,n),e)}e._state=1,e._value=n,o(e)}catch(t){i(e,t)}}function i(e,t){e._state=2,e._value=t,o(e)}function o(e){2===e._state&&0===e._deferreds.length&&t._immediateFn((function(){e._handled||t._unhandledRejectionFn(e._value)}));for(var r=0,i=e._deferreds.length;i>r;r++)n(e,e._deferreds[r]);e._deferreds=null}function a(e,t){var n=!1;try{e((function(e){n||(n=!0,r(t,e))}),(function(e){n||(n=!0,i(t,e))}))}catch(e){if(n)return;n=!0,i(t,e)}}var s=setTimeout;return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(t,r){var i=new this.constructor(e);return n(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(t,r,i)),i},t.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},t.all=function(e){return new t((function(t,n){function r(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){r(e,t)}),n)}i[e]=a,0==--o&&t(i)}catch(e){n(e)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var o=i.length,a=0;i.length>a;a++)r(a,i[a])}))},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)}))},t._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){s(e,0)},t._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t})),
/**
  shave - Shave is a javascript plugin that truncates multi-line text within a html element based on set max height
  @version v2.5.10
  @link https://github.com/yowainwright/shave#readme
  @author Jeff Wainwright <yowainwright@gmail.com> (jeffry.in)
  @license MIT
**/
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).shave=t()}(this,(function(){"use strict";return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t||isNaN(t))throw Error("maxHeight is required");var r="string"==typeof e?document.querySelectorAll(e):e;if(r){var i=n.character||"&mldr;",o=n.classname||"js-shave",a="boolean"!=typeof n.spaces||n.spaces,s=n.charclassname||"js-shave-char",l='<span class="'.concat(s,'">').concat(i,"</span>");"length"in r||(r=[r]);for(var c=0;c<r.length;c+=1){var u=r[c],d=u.style,f=u.querySelector(".".concat(o)),p=void 0===u.textContent?"innerText":"textContent";f&&(u.removeChild(u.querySelector(".".concat(s))),u[p]=u[p]);var h=u[p],m=a?h.split(" "):h;if(!(m.length<2)){var g=d.height;d.height="auto";var v=d.maxHeight;if(d.maxHeight="none",u.offsetHeight<=t)d.height=g,d.maxHeight=v;else{for(var b=m.length-1,y=0,w=void 0;y<b;)w=y+b+1>>1,u[p]=a?m.slice(0,w).join(" "):m.slice(0,w),u.insertAdjacentHTML("beforeend",l),u.offsetHeight>t?b=w-1:y=w;u[p]=a?m.slice(0,b).join(" "):m.slice(0,b),u.insertAdjacentHTML("beforeend",l);var x=a?" ".concat(m.slice(b).join(" ")):m.slice(b),_=document.createTextNode(x),k=document.createElement("span");k.classList.add(o),k.style.display="none",k.appendChild(_),u.insertAdjacentElement("beforeend",k),d.height=g,d.maxHeight=v}}}}}})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).React={})}(this,(function(e){function t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(e,t,n){this.props=e,this.context=t,this.refs=W,this.updater=n||V}function r(){}function i(e,t,n){this.props=e,this.context=t,this.refs=W,this.updater=n||V}function o(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)z.call(t,r)&&!Y.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:T,type:e,key:o,ref:a,props:i,_owner:B.current}}function a(e){return"object"==typeof e&&null!==e&&e.$$typeof===T}function s(e,t,n,r){if(G.length){var i=G.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function l(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>G.length&&G.push(e)}function c(e,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case T:case I:a=!0}}if(a)return r(i,e,""===n?"."+d(e,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=n+d(o=e[s],s);a+=c(o,l,r,i)}else if(null===e||"object"!=typeof e?l=null:l="function"==typeof(l=H&&e[H]||e["@@iterator"])?l:null,"function"==typeof l)for(e=l.call(e),s=0;!(o=e.next()).done;)a+=c(o=o.value,l=n+d(o,s++),r,i);else if("object"===o)throw r=""+e,Error(t(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return a}function u(e,t,n){return null==e?0:c(e,"",t,n)}function d(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function f(e,t,n){e.func.call(e.context,t,e.count++)}function p(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?h(e,r,n,(function(e){return e})):null!=e&&(a(e)&&(e=function(e,t){return{$$typeof:T,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(q,"$&/")+"/")+n)),r.push(e))}function h(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(q,"$&/")+"/"),u(e,p,t=s(t,o,r,i)),l(t)}function m(){var e=K.current;if(null===e)throw Error(t(321));return e}function g(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<y(i,t)))break e;e[r]=t,e[n]=i,n=r}}function v(e){return void 0===(e=e[0])?null:e}function b(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>y(a,n))void 0!==l&&0>y(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>y(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function y(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}function w(e){for(var t=v(be);null!==t;){if(null===t.callback)b(be);else{if(!(t.startTime<=e))break;b(be),t.sortIndex=t.expirationTime,g(ve,t)}t=v(be)}}function x(e){if(Se=!1,w(e),!ke)if(null!==v(ve))ke=!0,te(_);else{var t=v(be);null!==t&&ne(x,t.startTime-e)}}function _(e,t){ke=!1,Se&&(Se=!1,re()),_e=!0;var n=xe;try{for(w(t),we=v(ve);null!==we&&(!(we.expirationTime>t)||e&&!ie());){var r=we.callback;if(null!==r){we.callback=null,xe=we.priorityLevel;var i=r(we.expirationTime<=t);t=ee(),"function"==typeof i?we.callback=i:we===v(ve)&&b(ve),w(t)}else b(ve);we=v(ve)}if(null!==we)var o=!0;else{var a=v(be);null!==a&&ne(x,a.startTime-t),o=!1}return o}finally{we=null,xe=n,_e=!1}}function k(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var S="function"==typeof Symbol&&Symbol.for,T=S?Symbol.for("react.element"):60103,I=S?Symbol.for("react.portal"):60106,E=S?Symbol.for("react.fragment"):60107,C=S?Symbol.for("react.strict_mode"):60108,O=S?Symbol.for("react.profiler"):60114,M=S?Symbol.for("react.provider"):60109,D=S?Symbol.for("react.context"):60110,P=S?Symbol.for("react.forward_ref"):60112,A=S?Symbol.for("react.suspense"):60113,N=S?Symbol.for("react.memo"):60115,R=S?Symbol.for("react.lazy"):60116,H="function"==typeof Symbol&&Symbol.iterator,L=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,U=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;var t={};for(e=0;10>e;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");for(var n,r=Object(e),i=1;i<arguments.length;i++){var o=Object(arguments[i]);for(var a in o)j.call(o,a)&&(r[a]=o[a]);if(L){n=L(o);for(var s=0;s<n.length;s++)F.call(o,n[s])&&(r[n[s]]=o[n[s]])}}return r},V={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){},enqueueReplaceState:function(e,t,n,r){},enqueueSetState:function(e,t,n,r){}},W={};n.prototype.isReactComponent={},n.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(t(85));this.updater.enqueueSetState(this,e,n,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},r.prototype=n.prototype,(S=i.prototype=new r).constructor=i,U(S,n.prototype),S.isPureReactComponent=!0;var $,B={current:null},z=Object.prototype.hasOwnProperty,Y={key:!0,ref:!0,__self:!0,__source:!0},q=/\/+/g,G=[],K={current:null};if("undefined"==typeof window||"function"!=typeof MessageChannel){var J=null,X=null,Q=function(){if(null!==J)try{var e=ee();J(!0,e),J=null}catch(e){throw setTimeout(Q,0),e}},Z=Date.now(),ee=function(){return Date.now()-Z},te=function(e){null!==J?setTimeout(te,0,e):(J=e,setTimeout(Q,0))},ne=function(e,t){X=setTimeout(e,t)},re=function(){clearTimeout(X)},ie=function(){return!1};S=$=function(){}}else{var oe=window.performance,ae=window.Date,se=window.setTimeout,le=window.clearTimeout;if("undefined"!=typeof console&&(S=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof S&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"==typeof oe&&"function"==typeof oe.now)ee=function(){return oe.now()};else{var ce=ae.now();ee=function(){return ae.now()-ce}}var ue=!1,de=null,fe=-1,pe=5,he=0;ie=function(){return ee()>=he},S=function(){},$=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):pe=0<e?Math.floor(1e3/e):5};var me=new MessageChannel,ge=me.port2;me.port1.onmessage=function(){if(null!==de){var e=ee();he=e+pe;try{de(!0,e)?ge.postMessage(null):(ue=!1,de=null)}catch(e){throw ge.postMessage(null),e}}else ue=!1},te=function(e){de=e,ue||(ue=!0,ge.postMessage(null))},ne=function(e,t){fe=se((function(){e(ee())}),t)},re=function(){le(fe),fe=-1}}var ve=[],be=[],ye=1,we=null,xe=3,_e=!1,ke=!1,Se=!1,Te=0;U(me={ReactCurrentDispatcher:K,ReactCurrentOwner:B,IsSomeRendererActing:{current:!1},assign:U},{Scheduler:{__proto__:null,unstable_ImmediatePriority:1,unstable_UserBlockingPriority:2,unstable_NormalPriority:3,unstable_IdlePriority:5,unstable_LowPriority:4,unstable_runWithPriority:function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=xe;xe=e;try{return t()}finally{xe=n}},unstable_next:function(e){switch(xe){case 1:case 2:case 3:var t=3;break;default:t=xe}var n=xe;xe=t;try{return e()}finally{xe=n}},unstable_scheduleCallback:function(e,t,n){var r=ee();if("object"==typeof n&&null!==n){var i=n.delay;i="number"==typeof i&&0<i?r+i:r,n="number"==typeof n.timeout?n.timeout:k(e)}else n=k(e),i=r;return e={id:ye++,callback:t,priorityLevel:e,startTime:i,expirationTime:n=i+n,sortIndex:-1},i>r?(e.sortIndex=i,g(be,e),null===v(ve)&&e===v(be)&&(Se?re():Se=!0,ne(x,i-r))):(e.sortIndex=n,g(ve,e),ke||_e||(ke=!0,te(_))),e},unstable_cancelCallback:function(e){e.callback=null},unstable_wrapCallback:function(e){var t=xe;return function(){var n=xe;xe=t;try{return e.apply(this,arguments)}finally{xe=n}}},unstable_getCurrentPriorityLevel:function(){return xe},unstable_shouldYield:function(){var e=ee();w(e);var t=v(ve);return t!==we&&null!==we&&null!==t&&null!==t.callback&&t.startTime<=e&&t.expirationTime<we.expirationTime||ie()},unstable_requestPaint:S,unstable_continueExecution:function(){ke||_e||(ke=!0,te(_))},unstable_pauseExecution:function(){},unstable_getFirstCallbackNode:function(){return v(ve)},get unstable_now(){return ee},get unstable_forceFrameRate(){return $},unstable_Profiling:null},SchedulerTracing:{__proto__:null,__interactionsRef:null,__subscriberRef:null,unstable_clear:function(e){return e()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++Te},unstable_trace:function(e,t,n){return n()},unstable_wrap:function(e){return e},unstable_subscribe:function(e){},unstable_unsubscribe:function(e){}}}),e.Children={map:function(e,t,n){if(null==e)return e;var r=[];return h(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;u(e,f,t=s(null,null,t,n)),l(t)},count:function(e){return u(e,(function(){return null}),null)},toArray:function(e){var t=[];return h(e,t,null,(function(e){return e})),t},only:function(e){if(!a(e))throw Error(t(143));return e}},e.Component=n,e.Fragment=E,e.Profiler=O,e.PureComponent=i,e.StrictMode=C,e.Suspense=A,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,e.cloneElement=function(e,n,r){if(null==e)throw Error(t(267,e));var i=U({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(a=n.ref,s=B.current),void 0!==n.key&&(o=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in n)z.call(n,c)&&!Y.hasOwnProperty(c)&&(i[c]=void 0===n[c]&&void 0!==l?l[c]:n[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:T,type:e.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:D,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:M,_context:e},e.Consumer=e},e.createElement=o,e.createFactory=function(e){var t=o.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:P,render:e}},e.isValidElement=a,e.lazy=function(e){return{$$typeof:R,_ctor:e,_status:-1,_result:null}},e.memo=function(e,t){return{$$typeof:N,type:e,compare:void 0===t?null:t}},e.useCallback=function(e,t){return m().useCallback(e,t)},e.useContext=function(e,t){return m().useContext(e,t)},e.useDebugValue=function(e,t){},e.useEffect=function(e,t){return m().useEffect(e,t)},e.useImperativeHandle=function(e,t,n){return m().useImperativeHandle(e,t,n)},e.useLayoutEffect=function(e,t){return m().useLayoutEffect(e,t)},e.useMemo=function(e,t){return m().useMemo(e,t)},e.useReducer=function(e,t,n){return m().useReducer(e,t,n)},e.useRef=function(e){return m().useRef(e)},e.useState=function(e){return m().useState(e)},e.version="16.14.0"})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactDOM={},e.React)}(this,(function(e,t){function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e,t,n,r,i,o,a,s,l){ui=!1,di=null,ci.apply(hi,arguments)}function i(e,t,i){var o=e.type||"unknown-event";e.currentTarget=vi(i),function(e,t,i,o,a,s,l,c,u){if(r.apply(this,arguments),ui){if(!ui)throw Error(n(198));var d=di;ui=!1,di=null,fi||(fi=!0,pi=d)}}(o,t,void 0,e),e.currentTarget=null}function o(){if(bi)for(var e in yi){var t=yi[e],r=bi.indexOf(e);if(!(-1<r))throw Error(n(96,e));if(!wi[r]){if(!t.extractEvents)throw Error(n(97,e));for(var i in wi[r]=t,r=t.eventTypes){var o=void 0,s=r[i],l=t,c=i;if(xi.hasOwnProperty(c))throw Error(n(99,c));xi[c]=s;var u=s.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&a(u[o],l,c);o=!0}else s.registrationName?(a(s.registrationName,l,c),o=!0):o=!1;if(!o)throw Error(n(98,i,e))}}}}function a(e,t,r){if(_i[e])throw Error(n(100,e));_i[e]=t,ki[e]=t.eventTypes[r].dependencies}function s(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!yi.hasOwnProperty(t)||yi[t]!==i){if(yi[t])throw Error(n(102,t));yi[t]=i,r=!0}}r&&o()}function l(e){if(e=gi(e)){if("function"!=typeof Ii)throw Error(n(280));var t=e.stateNode;t&&(t=mi(t),Ii(e.stateNode,e.type,t))}}function c(e){Ei?Ci?Ci.push(e):Ci=[e]:Ei=e}function u(){if(Ei){var e=Ei,t=Ci;if(Ci=Ei=null,l(e),t)for(e=0;e<t.length;e++)l(t[e])}}function d(){null===Ei&&null===Ci||(Di(),u())}function f(e,t,n){if(Ni)return e(t,n);Ni=!0;try{return Pi(e,t,n)}finally{Ni=!1,d()}}function p(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}function h(e,t,n,r){var i=Qi.hasOwnProperty(t)?Qi[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!Ki.call(Xi,e)||!Ki.call(Ji,e)&&(Gi.test(e)?Xi[e]=!0:(Ji[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function m(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=xo&&e[xo]||e["@@iterator"])?e:null}function g(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case lo:return"Fragment";case so:return"Portal";case uo:return"Profiler";case co:return"StrictMode";case go:return"Suspense";case vo:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case po:return"Context.Consumer";case fo:return"Context.Provider";case mo:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case bo:return g(e.type);case wo:return g(e.render);case yo:if(e=1===e._status?e._result:null)return g(e)}return null}function v(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=g(e.type);n=null,r&&(n=g(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(io,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function b(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function w(e){e._valueTracker||(e._valueTracker=function(e){var t=y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function x(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function _(e,t){var n=t.checked;return Ti({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function k(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=b(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function S(e,t){null!=(t=t.checked)&&h(e,"checked",t,!1)}function T(e,t){S(e,t);var n=b(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?E(e,t.type,n):t.hasOwnProperty("defaultValue")&&E(e,t.type,b(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function I(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function E(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function C(e,n){return e=Ti({children:void 0},n),(n=function(e){var n="";return t.Children.forEach(e,(function(e){null!=e&&(n+=e)})),n}(n.children))&&(e.children=n),e}function O(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+b(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function M(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(n(91));return Ti({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function D(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(n(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(n(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:b(r)}}function P(e,t){var n=b(t.value),r=b(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function A(e,t){(t=e.textContent)===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function N(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?N(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function H(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function L(e){if(To[e])return To[e];if(!So[e])return e;var t,n=So[e];for(t in n)if(n.hasOwnProperty(t)&&t in Io)return To[e]=n[t];return e}function j(e){var t=Po.get(e);return void 0===t&&(t=new Map,Po.set(e,t)),t}function F(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function U(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function V(e){if(F(e)!==e)throw Error(n(188))}function W(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=F(e)))throw Error(n(188));return t!==e?null:e}for(var r=e,i=t;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return V(o),e;if(a===i)return V(o),t;a=a.sibling}throw Error(n(188))}if(r.return!==i.return)r=o,i=a;else{for(var s=!1,l=o.child;l;){if(l===r){s=!0,r=o,i=a;break}if(l===i){s=!0,i=o,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,i=o;break}if(l===i){s=!0,i=a,r=o;break}l=l.sibling}if(!s)throw Error(n(189))}}if(r.alternate!==i)throw Error(n(190))}if(3!==r.tag)throw Error(n(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function $(e,t){if(null==t)throw Error(n(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function B(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function z(e){if(null!==e&&(Ao=$(Ao,e)),e=Ao,Ao=null,e){if(B(e,No),Ao)throw Error(n(95));if(fi)throw e=pi,fi=!1,pi=null,e}}function Y(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function q(e){if(!Si)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function G(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Ro.length&&Ro.push(e)}function K(e,t,n,r){if(Ro.length){var i=Ro.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function J(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Me(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Y(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<wi.length;l++){var c=wi[l];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=$(s,c))}z(s)}}function X(e,t,n){if(!n.has(e)){switch(e){case"scroll":ce(t,"scroll",!0);break;case"focus":case"blur":ce(t,"focus",!0),ce(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":q(e)&&ce(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Do.indexOf(e)&&le(e,t)}n.set(e,null)}}function Q(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Z(e,t){switch(e){case"focus":case"blur":jo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":Vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(t.pointerId)}}function ee(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Q(t,n,r,i,o),null!==t&&(null!==(t=De(t))&&uc(t)),e):(e.eventSystemFlags|=r,e)}function te(e){var t=Me(e.target);if(null!==t){var n=F(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=U(n)))return e.blockedOn=t,void Vi(e.priority,(function(){dc(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ne(e){if(null!==e.blockedOn)return!1;var t=pe(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=De(t);return null!==n&&uc(n),e.blockedOn=t,!1}return!0}function re(e,t,n){ne(e)&&n.delete(t)}function ie(){for(Ho=!1;0<Lo.length;){var e=Lo[0];if(null!==e.blockedOn){null!==(e=De(e.blockedOn))&&cc(e);break}var t=pe(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Lo.shift()}null!==jo&&ne(jo)&&(jo=null),null!==Fo&&ne(Fo)&&(Fo=null),null!==Uo&&ne(Uo)&&(Uo=null),Vo.forEach(re),Wo.forEach(re)}function oe(e,t){e.blockedOn===t&&(e.blockedOn=null,Ho||(Ho=!0,ji(zi,ie)))}function ae(e){if(0<Lo.length){oe(Lo[0],e);for(var t=1;t<Lo.length;t++){var n=Lo[t];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==jo&&oe(jo,e),null!==Fo&&oe(Fo,e),null!==Uo&&oe(Uo,e),t=function(t){return oe(t,e)},Vo.forEach(t),Wo.forEach(t),t=0;t<$o.length;t++)(n=$o[t]).blockedOn===e&&(n.blockedOn=null);for(;0<$o.length&&null===(t=$o[0]).blockedOn;)te(t),null===t.blockedOn&&$o.shift()}function se(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Go.set(r,t),qo.set(r,o),Yo[i]=o}}function le(e,t){ce(t,e,!1)}function ce(e,t,n){var r=Go.get(t);switch(void 0===r?2:r){case 0:r=ue.bind(null,t,1,e);break;case 1:r=de.bind(null,t,1,e);break;default:r=fe.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function ue(e,t,n,r){Ai||Di();var i=fe,o=Ai;Ai=!0;try{Mi(i,e,t,n,r)}finally{(Ai=o)||d()}}function de(e,t,n,r){Xo(Jo,fe.bind(null,e,t,n,r))}function fe(e,t,n,r){if(Qo)if(0<Lo.length&&-1<Bo.indexOf(e))e=Q(null,e,t,n,r),Lo.push(e);else{var i=pe(e,t,n,r);if(null===i)Z(e,r);else if(-1<Bo.indexOf(e))e=Q(i,e,t,n,r),Lo.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return jo=ee(jo,e,t,n,r,i),!0;case"dragenter":return Fo=ee(Fo,e,t,n,r,i),!0;case"mouseover":return Uo=ee(Uo,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Vo.set(o,ee(Vo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Wo.set(o,ee(Wo.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Z(e,r),e=K(e,r,null,t);try{f(J,e)}finally{G(e)}}}}function pe(e,t,n,r){if(null!==(n=Me(n=Y(r)))){var i=F(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=U(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=K(e,r,n,t);try{f(J,e)}finally{G(e)}return null}function he(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zo.hasOwnProperty(e)&&Zo[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function ge(e,t){if(t){if(ta[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(n(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(n(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(n(62,""))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function be(e,t){var n=j(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=ki[t];for(var r=0;r<t.length;r++)X(t[r],e,n)}function ye(){}function we(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function xe(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _e(e,t){var n,r=xe(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xe(r)}}function ke(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ke(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Se(){for(var e=window,t=we();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=we((e=t.contentWindow).document)}return t}function Te(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ie(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ee(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function Ce(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Oe(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===na||n===oa||n===ia){if(0===t)return e;t--}else n===ra&&t++}e=e.previousSibling}return null}function Me(e){var t=e[da];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[da]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Oe(e);null!==e;){if(n=e[da])return n;e=Oe(e)}return t}n=(e=n).parentNode}return null}function De(e){return!(e=e[da]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Pe(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33))}function Ae(e){return e[fa]||null}function Ne(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Re(e,t){var r=e.stateNode;if(!r)return null;var i=mi(r);if(!i)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(n(231,t,typeof r));return r}function He(e,t,n){(t=Re(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=$(n._dispatchListeners,t),n._dispatchInstances=$(n._dispatchInstances,e))}function Le(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Ne(t);for(t=n.length;0<t--;)He(n[t],"captured",e);for(t=0;t<n.length;t++)He(n[t],"bubbled",e)}}function je(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Re(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=$(n._dispatchListeners,t),n._dispatchInstances=$(n._dispatchInstances,e))}function Fe(e){e&&e.dispatchConfig.registrationName&&je(e._targetInst,null,e)}function Ue(e){B(e,Le)}function Ve(){if(ga)return ga;var e,t,n=ma,r=n.length,i="value"in ha?ha.value:ha.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ga=i.slice(e,1<t?1-t:void 0)}function We(){return!0}function $e(){return!1}function Be(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?We:$e,this.isPropagationStopped=$e,this}function ze(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Ye(e){if(!(e instanceof this))throw Error(n(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function qe(e){e.eventPool=[],e.getPooled=ze,e.release=Ye}function Ge(e,t){switch(e){case"keyup":return-1!==ya.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ke(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function Je(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Oa[e.type]:"textarea"===t}function Xe(e,t,n){return(e=Be.getPooled(Ma.change,e,t,n)).type="change",c(n),Ue(e),e}function Qe(e){z(e)}function Ze(e){if(x(Pe(e)))return e}function et(e,t){if("change"===e)return t}function tt(){Da&&(Da.detachEvent("onpropertychange",nt),Pa=Da=null)}function nt(e){if("value"===e.propertyName&&Ze(Pa))if(e=Xe(Pa,e,Y(e)),Ai)z(e);else{Ai=!0;try{Oi(Qe,e)}finally{Ai=!1,d()}}}function rt(e,t,n){"focus"===e?(tt(),Pa=n,(Da=t).attachEvent("onpropertychange",nt)):"blur"===e&&tt()}function it(e,t){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ze(Pa)}function ot(e,t){if("click"===e)return Ze(t)}function at(e,t){if("input"===e||"change"===e)return Ze(t)}function st(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ha[e])&&!!t[e]}function lt(e){return st}function ct(e,t){if(za(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ya.call(t,n[r])||!za(e[n[r]],t[n[r]]))return!1;return!0}function ut(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Qa||null==Ka||Ka!==we(n)?null:("selectionStart"in(n=Ka)&&Te(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xa&&ct(Xa,n)?null:(Xa=n,(e=Be.getPooled(Ga.select,Ja,e,t)).type="select",e.target=Ka,Ue(e),e))}function dt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ft(e,t){0>fs||(e.current=ds[fs],ds[fs]=null,fs--)}function pt(e,t,n){fs++,ds[fs]=e.current,e.current=t}function ht(e,t){var n=e.type.contextTypes;if(!n)return ps;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mt(e){return null!=(e=e.childContextTypes)}function gt(e,t,r){if(hs.current!==ps)throw Error(n(168));pt(hs,t),pt(ms,r)}function vt(e,t,r){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return r;for(var o in i=i.getChildContext())if(!(o in e))throw Error(n(108,g(t)||"Unknown",o));return Ti({},r,{},i)}function bt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ps,gs=hs.current,pt(hs,e),pt(ms,ms.current),!0}function yt(e,t,r){var i=e.stateNode;if(!i)throw Error(n(169));r?(e=vt(e,t,gs),i.__reactInternalMemoizedMergedChildContext=e,ft(ms),ft(hs),pt(hs,e)):ft(ms),pt(ms,r)}function wt(){switch(ws()){case xs:return 99;case _s:return 98;case ks:return 97;case Ss:return 96;case Ts:return 95;default:throw Error(n(332))}}function xt(e){switch(e){case 99:return xs;case 98:return _s;case 97:return ks;case 96:return Ss;case 95:return Ts;default:throw Error(n(332))}}function _t(e,t){return e=xt(e),vs(e,t)}function kt(e,t,n){return e=xt(e),bs(e,t,n)}function St(e){return null===Os?(Os=[e],Ms=bs(xs,It)):Os.push(e),Is}function Tt(){if(null!==Ms){var e=Ms;Ms=null,ys(e)}It()}function It(){if(!Ds&&null!==Os){Ds=!0;var e=0;try{var t=Os;_t(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Os=null}catch(t){throw null!==Os&&(Os=Os.slice(e+1)),bs(xs,Tt),t}finally{Ds=!1}}}function Et(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ct(e,t){if(e&&e.defaultProps)for(var n in t=Ti({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function Ot(){Ls=Hs=Rs=null}function Mt(e){var t=Ns.current;ft(Ns),e.type._context._currentValue=t}function Dt(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Pt(e,t){Rs=e,Ls=Hs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(pl=!0),e.firstContext=null)}function At(e,t){if(Ls!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ls=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Hs){if(null===Rs)throw Error(n(308));Hs=t,Rs.dependencies={expirationTime:0,firstContext:t,responders:null}}else Hs=Hs.next=t;return e._currentValue}function Nt(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Rt(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Ht(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:js,payload:null,callback:null,next:null}).next=e}function Lt(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function jt(e,t){var n=e.alternate;null!==n&&Rt(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Ft(e,t,n,r){var i=e.updateQueue;Us=!1;var o=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,i.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=a))}if(null!==o){s=o.next;var l=i.baseState,c=0,u=null,d=null,f=null;if(null!==s)for(var p=s;;){if((a=p.expirationTime)<r){var h={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=h,u=l):f=f.next=h,a>c&&(c=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Ir(a,p.suspenseConfig);e:{var m=e,g=p;switch(a=t,h=n,g.tag){case 1:if("function"==typeof(m=g.payload)){l=m.call(h,l,a);break e}l=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case js:if(null==(a="function"==typeof(m=g.payload)?m.call(h,l,a):m))break e;l=Ti({},l,a);break e;case Fs:Us=!0}}null!==p.callback&&(e.effectTag|=32,null===(a=i.effects)?i.effects=[p]:a.push(p))}if(null===(p=p.next)||p===s){if(null===(a=i.shared.pending))break;p=o.next=a.next,a.next=s,i.baseQueue=o=a,i.shared.pending=null}}null===f?u=l:f.next=d,i.baseState=u,i.baseQueue=f,Er(c),e.expirationTime=c,e.memoizedState=l}}function Ut(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=o,o=r,"function"!=typeof i)throw Error(n(191,i));i.call(o)}}}function Vt(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Ti({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}function Wt(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ct(n,r)||!ct(i,o))}function $t(e,t,n){var r=!1,i=ps,o=t.contextType;return"object"==typeof o&&null!==o?o=At(o):(i=mt(t)?gs:hs.current,o=(r=null!=(r=t.contextTypes))?ht(e,i):ps),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=$s,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bt(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$s.enqueueReplaceState(t,t.state,null)}function zt(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ws,Nt(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=At(o):(o=mt(t)?gs:hs.current,i.context=ht(e,o)),Ft(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Vt(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&$s.enqueueReplaceState(i,i.state,null),Ft(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}function Yt(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(n(309));var i=r.stateNode}if(!i)throw Error(n(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===Ws&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(n(284));if(!r._owner)throw Error(n(290,e))}return e}function qt(e,t){if("textarea"!==e.type)throw Error(n(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Gt(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function r(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Yt(e,t,n),r.return=e,r):((r=zr(n.type,n.key,n.props,null,e.mode,r)).ref=Yt(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Yr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ao:return(n=zr(t.type,t.key,t.props,null,e.mode,n)).ref=Yt(e,null,t),n.return=e,n;case so:return(t=Gr(t,e.mode,n)).return=e,t}if(Bs(t)||m(t))return(t=Yr(t,e.mode,n,null)).return=e,t;qt(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ao:return n.key===i?n.type===lo?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case so:return n.key===i?u(e,t,n,r):null}if(Bs(n)||m(n))return null!==i?null:d(e,t,n,r,null);qt(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ao:return e=e.get(null===r.key?n:r.key)||null,r.type===lo?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case so:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Bs(r)||m(r))return d(t,e=e.get(n)||null,r,i,null);qt(t,r)}return null}function g(n,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(n,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(n,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return r(n,d),c;if(null===d){for(;m<s.length;m++)null!==(d=f(n,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=i(n,d);m<s.length;m++)null!==(g=h(d,n,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(n,e)})),c}function v(o,s,l,c){var u=m(l);if("function"!=typeof u)throw Error(n(150));if(null==(l=u.call(l)))throw Error(n(151));for(var d=u=null,g=s,v=s=0,b=null,y=l.next();null!==g&&!y.done;v++,y=l.next()){g.index>v?(b=g,g=null):b=g.sibling;var w=p(o,g,y.value,c);if(null===w){null===g&&(g=b);break}e&&g&&null===w.alternate&&t(o,g),s=a(w,s,v),null===d?u=w:d.sibling=w,d=w,g=b}if(y.done)return r(o,g),u;if(null===g){for(;!y.done;v++,y=l.next())null!==(y=f(o,y.value,c))&&(s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return u}for(g=i(o,g);!y.done;v++,y=l.next())null!==(y=h(g,o,v,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(o,e)})),u}return function(e,i,a,l){var c="object"==typeof a&&null!==a&&a.type===lo&&null===a.key;c&&(a=a.props.children);var u="object"==typeof a&&null!==a;if(u)switch(a.$$typeof){case ao:e:{for(u=a.key,c=i;null!==c;){if(c.key===u){switch(c.tag){case 7:if(a.type===lo){r(e,c.sibling),(i=o(c,a.props.children)).return=e,e=i;break e}break;default:if(c.elementType===a.type){r(e,c.sibling),(i=o(c,a.props)).ref=Yt(e,c,a),i.return=e,e=i;break e}}r(e,c);break}t(e,c),c=c.sibling}a.type===lo?((i=Yr(a.props.children,e.mode,l,a.key)).return=e,e=i):((l=zr(a.type,a.key,a.props,null,e.mode,l)).ref=Yt(e,i,a),l.return=e,e=l)}return s(e);case so:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){r(e,i.sibling),(i=o(i,a.children||[])).return=e,e=i;break e}r(e,i);break}t(e,i),i=i.sibling}(i=Gr(a,e.mode,l)).return=e,e=i}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==i&&6===i.tag?(r(e,i.sibling),(i=o(i,a)).return=e,e=i):(r(e,i),(i=qr(a,e.mode,l)).return=e,e=i),s(e);if(Bs(a))return g(e,i,a,l);if(m(a))return v(e,i,a,l);if(u&&qt(e,a),void 0===a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(n(152,e.displayName||e.name||"Component"))}return r(e,i)}}function Kt(e){if(e===qs)throw Error(n(174));return e}function Jt(e,t){switch(pt(Js,t),pt(Ks,e),pt(Gs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:R(null,"");break;default:t=R(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ft(Gs),pt(Gs,t)}function Xt(e){ft(Gs),ft(Ks),ft(Js)}function Qt(e){Kt(Js.current);var t=Kt(Gs.current),n=R(t,e.type);t!==n&&(pt(Ks,e),pt(Gs,n))}function Zt(e){Ks.current===e&&(ft(Gs),ft(Ks))}function en(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===ia||n.data===oa))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function tn(e,t){return{responder:e,props:t}}function nn(){throw Error(n(321))}function rn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!za(e[n],t[n]))return!1;return!0}function on(e,t,r,i,o,a){if(el=a,tl=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Qs.current=null===e||null===e.memoizedState?al:sl,e=r(i,o),t.expirationTime===el){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(n(301));a+=1,rl=nl=null,t.updateQueue=null,Qs.current=ll,e=r(i,o)}while(t.expirationTime===el)}if(Qs.current=ol,t=null!==nl&&null!==nl.next,el=0,rl=nl=tl=null,il=!1,t)throw Error(n(300));return e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===rl?tl.memoizedState=rl=e:rl=rl.next=e,rl}function sn(){if(null===nl){var e=tl.alternate;e=null!==e?e.memoizedState:null}else e=nl.next;var t=null===rl?tl.memoizedState:rl.next;if(null!==t)rl=t,nl=e;else{if(null===e)throw Error(n(310));e={memoizedState:(nl=e).memoizedState,baseState:nl.baseState,baseQueue:nl.baseQueue,queue:nl.queue,next:null},null===rl?tl.memoizedState=rl=e:rl=rl.next=e}return rl}function ln(e,t){return"function"==typeof t?t(e):t}function cn(e,t,r){if(null===(r=(t=sn()).queue))throw Error(n(311));r.lastRenderedReducer=e;var i=nl,o=i.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,r.pending=null}if(null!==o){o=o.next,i=i.baseState;var l=s=a=null,c=o;do{var u=c.expirationTime;if(u<el){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,a=i):l=l.next=d,u>tl.expirationTime&&(tl.expirationTime=u,Er(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Ir(u,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action);c=c.next}while(null!==c&&c!==o);null===l?a=i:l.next=s,za(i,t.memoizedState)||(pl=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=l,r.lastRenderedState=i}return[t.memoizedState,r.dispatch]}function un(e,t,r){if(null===(r=(t=sn()).queue))throw Error(n(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,a=t.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);za(a,t.memoizedState)||(pl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,i]}function dn(e){var t=an();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e}).dispatch=In.bind(null,tl,e),[t.memoizedState,e]}function fn(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=tl.updateQueue)?(t={lastEffect:null},tl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pn(e){return sn().memoizedState}function hn(e,t,n,r){var i=an();tl.effectTag|=e,i.memoizedState=fn(1|t,n,void 0,void 0===r?null:r)}function mn(e,t,n,r){var i=sn();r=void 0===r?null:r;var o=void 0;if(null!==nl){var a=nl.memoizedState;if(o=a.destroy,null!==r&&rn(r,a.deps))return void fn(t,n,o,r)}tl.effectTag|=e,i.memoizedState=fn(1|t,n,o,r)}function gn(e,t){return hn(516,4,e,t)}function vn(e,t){return mn(516,4,e,t)}function bn(e,t){return mn(4,2,e,t)}function yn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function wn(e,t,n){return n=null!=n?n.concat([e]):null,mn(4,2,yn.bind(null,t,e),n)}function xn(e,t){}function _n(e,t){return an().memoizedState=[e,void 0===t?null:t],e}function kn(e,t){var n=sn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&rn(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sn(e,t){var n=sn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&rn(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Tn(e,t,n){var r=wt();_t(98>r?98:r,(function(){e(!0)})),_t(97<r?97:r,(function(){var r=Zs.suspense;Zs.suspense=void 0===t?null:t;try{e(!1),n()}finally{Zs.suspense=r}}))}function In(e,t,n){var r=hr(),i=Vs.suspense;i={expirationTime:r=mr(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===tl||null!==o&&o===tl)il=!0,i.expirationTime=el,tl.expirationTime=el;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,za(s,a))return}catch(e){}ic(e,r)}}function En(e,t){var n=lc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Cn(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function On(e){if(dl){var t=ul;if(t){var n=t;if(!Cn(e,t)){if(!(t=Ce(n.nextSibling))||!Cn(e,t))return e.effectTag=-1025&e.effectTag|2,dl=!1,void(cl=e);En(cl,n)}cl=e,ul=Ce(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,dl=!1,cl=e}}function Mn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;cl=e}function Dn(e){if(e!==cl)return!1;if(!dl)return Mn(e),dl=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ee(t,e.memoizedProps))for(t=ul;t;)En(e,t),t=Ce(t.nextSibling);if(Mn(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if(r===ra){if(0===t){ul=Ce(e.nextSibling);break e}t--}else r!==na&&r!==oa&&r!==ia||t++}e=e.nextSibling}ul=null}}else ul=cl?Ce(e.stateNode.nextSibling):null;return!0}function Pn(){ul=cl=null,dl=!1}function An(e,t,n,r){t.child=null===e?Ys(t,null,n,r):zs(t,e.child,n,r)}function Nn(e,t,n,r,i){n=n.render;var o=t.ref;return Pt(t,i),r=on(e,t,n,r,o,i),null===e||pl?(t.effectTag|=1,An(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Yn(e,t,i))}function Rn(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||$r(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Hn(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ct)(i,r)&&e.ref===t.ref)?Yn(e,t,o):(t.effectTag|=1,(e=Br(a,r)).ref=t.ref,e.return=t,t.child=e)}function Hn(e,t,n,r,i,o){return null!==e&&ct(e.memoizedProps,r)&&e.ref===t.ref&&(pl=!1,i<o)?(t.expirationTime=e.expirationTime,Yn(e,t,o)):jn(e,t,n,r,o)}function Ln(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function jn(e,t,n,r,i){var o=mt(n)?gs:hs.current;return o=ht(t,o),Pt(t,i),n=on(e,t,n,r,o,i),null===e||pl?(t.effectTag|=1,An(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Yn(e,t,i))}function Fn(e,t,n,r,i){if(mt(n)){var o=!0;bt(t)}else o=!1;if(Pt(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),$t(t,n,r),zt(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=At(c):c=ht(t,c=mt(n)?gs:hs.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Bt(t,a,r,c),Us=!1;var f=t.memoizedState;a.state=f,Ft(t,r,a,i),l=t.memoizedState,s!==r||f!==l||ms.current||Us?("function"==typeof u&&(Vt(t,n,u,r),l=t.memoizedState),(s=Us||Wt(t,n,s,r,f,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,Rt(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Ct(t.type,s),l=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=At(c):c=ht(t,c=mt(n)?gs:hs.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Bt(t,a,r,c),Us=!1,l=t.memoizedState,a.state=l,Ft(t,r,a,i),f=t.memoizedState,s!==r||l!==f||ms.current||Us?("function"==typeof u&&(Vt(t,n,u,r),f=t.memoizedState),(u=Us||Wt(t,n,s,r,l,f,c))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Un(e,t,n,r,o,i)}function Un(e,t,n,r,i,o){Ln(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&yt(t,n,!1),Yn(e,t,o);r=t.stateNode,fl.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=zs(t,e.child,null,o),t.child=zs(t,null,s,o)):An(e,t,s,o),t.memoizedState=r.state,i&&yt(t,n,!0),t.child}function Vn(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),Jt(e,t.containerInfo)}function Wn(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Xs.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),pt(Xs,1&a),null===e){if(void 0!==o.fallback&&On(t),s){if(s=o.fallback,(o=Yr(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Yr(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=hl,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Ys(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Br(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Br(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=hl,t.child=n,i}return n=zs(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Yr(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Yr(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=hl,t.child=o,n}return t.memoizedState=null,t.child=zs(t,e,o.children,n)}function $n(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),Dt(e.return,t)}function Bn(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function zn(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(An(e,t,r.children,n),0!=(2&(r=Xs.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$n(e,n);else if(19===e.tag)$n(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pt(Xs,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===en(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bn(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===en(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bn(t,!0,n,null,o,t.lastEffect);break;case"together":Bn(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Yn(e,t,r){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&Er(i),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(r=Br(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Br(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function qn(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gn(e,t,r){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mt(t.type)&&(ft(ms),ft(hs)),null;case 3:return Xt(),ft(ms),ft(hs),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!Dn(t)||(t.effectTag|=4),gl(t),null;case 5:Zt(t),r=Kt(Js.current);var o=t.type;if(null!==e&&null!=t.stateNode)vl(e,t,o,i,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(n(166));return null}if(e=Kt(Gs.current),Dn(t)){i=t.stateNode,o=t.type;var a=t.memoizedProps;switch(i[da]=t,i[fa]=a,o){case"iframe":case"object":case"embed":le("load",i);break;case"video":case"audio":for(e=0;e<Do.length;e++)le(Do[e],i);break;case"source":le("error",i);break;case"img":case"image":case"link":le("error",i),le("load",i);break;case"form":le("reset",i),le("submit",i);break;case"details":le("toggle",i);break;case"input":k(i,a),le("invalid",i),be(r,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},le("invalid",i),be(r,"onChange");break;case"textarea":D(i,a),le("invalid",i),be(r,"onChange")}for(var s in ge(o,a),e=null,a)if(a.hasOwnProperty(s)){var l=a[s];"children"===s?"string"==typeof l?i.textContent!==l&&(e=["children",l]):"number"==typeof l&&i.textContent!==""+l&&(e=["children",""+l]):_i.hasOwnProperty(s)&&null!=l&&be(r,s)}switch(o){case"input":w(i),I(i,a,!0);break;case"textarea":w(i),A(i);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(i.onclick=ye)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(s=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=N(o)),"http://www.w3.org/1999/xhtml"===e?"script"===o?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=s.createElement(o,{is:i.is}):(e=s.createElement(o),"select"===o&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,o),e[da]=t,e[fa]=i,ml(e,t,!1,!1),t.stateNode=e,s=ve(o,i),o){case"iframe":case"object":case"embed":le("load",e),l=i;break;case"video":case"audio":for(l=0;l<Do.length;l++)le(Do[l],e);l=i;break;case"source":le("error",e),l=i;break;case"img":case"image":case"link":le("error",e),le("load",e),l=i;break;case"form":le("reset",e),le("submit",e),l=i;break;case"details":le("toggle",e),l=i;break;case"input":k(e,i),l=_(e,i),le("invalid",e),be(r,"onChange");break;case"option":l=C(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=Ti({},i,{value:void 0}),le("invalid",e),be(r,"onChange");break;case"textarea":D(e,i),l=M(e,i),le("invalid",e),be(r,"onChange");break;default:l=i}ge(o,l);var c=l;for(a in c)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&_o(e,u):"children"===a?"string"==typeof u?("textarea"!==o||""!==u)&&ko(e,u):"number"==typeof u&&ko(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(_i.hasOwnProperty(a)?null!=u&&be(r,a):null!=u&&h(e,a,u,s))}switch(o){case"input":w(e),I(e,i,!1);break;case"textarea":w(e),A(e);break;case"option":null!=i.value&&e.setAttribute("value",""+b(i.value));break;case"select":e.multiple=!!i.multiple,null!=(r=i.value)?O(e,!!i.multiple,r,!1):null!=i.defaultValue&&O(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=ye)}Ie(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)bl(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(n(166));r=Kt(Js.current),Kt(Gs.current),Dn(t)?(r=t.stateNode,i=t.memoizedProps,r[da]=t,r.nodeValue!==i&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[da]=t,t.stateNode=r)}return null;case 13:return ft(Xs),i=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Dn(t):(i=null!==(o=e.memoizedState),r||null===o||null!==(o=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Xs.current)?jl===Cl&&(jl=Dl):(jl!==Cl&&jl!==Dl||(jl=Pl),0!==$l&&null!==Rl&&(Xr(Rl,Ll),Qr(Rl,$l)))),(r||i)&&(t.effectTag|=4),null);case 4:return Xt(),gl(t),null;case 10:return Mt(t),null;case 17:return mt(t.type)&&(ft(ms),ft(hs)),null;case 19:if(ft(Xs),null===(i=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(a=i.rendering)){if(o)qn(i,!1);else if(jl!==Cl||null!==e&&0!=(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=en(a))){for(t.effectTag|=64,qn(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)a=r,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return pt(Xs,1&Xs.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=en(a))){if(t.effectTag|=64,o=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),qn(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*As()-i.renderingStartTime>i.tailExpiration&&1<r&&(t.effectTag|=64,o=!0,qn(i,!1),t.expirationTime=t.childExpirationTime=r-1);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(r=i.last)?r.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=As()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=As(),r.sibling=null,t=Xs.current,pt(Xs,o?1&t|2:1&t),r):null}throw Error(n(156,t.tag))}function Kn(e,t){switch(e.tag){case 1:return mt(e.type)&&(ft(ms),ft(hs)),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 3:if(Xt(),ft(ms),ft(hs),0!=(64&(t=e.effectTag)))throw Error(n(285));return e.effectTag=-4097&t|64,e;case 5:return Zt(e),null;case 13:return ft(Xs),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ft(Xs),null;case 4:return Xt(),null;case 10:return Mt(e),null;default:return null}}function Jn(e,t){return{value:e,source:t,stack:v(t)}}function Xn(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=v(n)),null!==n&&g(n.type),t=t.value,null!==e&&1===e.tag&&g(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Qn(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fr(e,t)}else t.current=null}function Zn(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Ct(t.type,r),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(n(163))}function er(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function tr(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nr(e,t,r,i){switch(r.tag){case 0:case 11:case 15:case 22:return void tr(3,r);case 1:return e=r.stateNode,4&r.effectTag&&(null===t?e.componentDidMount():(i=r.elementType===r.type?t.memoizedProps:Ct(r.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&Ut(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}Ut(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&Ie(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&ae(r)))));case 19:case 17:case 20:case 21:return}throw Error(n(163))}function rr(e,t,n){switch("function"==typeof sc&&sc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;_t(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){Fr(i,e)}}e=e.next}while(e!==r)}))}break;case 1:Qn(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Fr(e,t)}}(t,n);break;case 5:Qn(t);break;case 4:cr(e,t,n)}}function ir(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ir(t)}function or(e){return 5===e.tag||3===e.tag||4===e.tag}function ar(e){e:{for(var t=e.return;null!==t;){if(or(t)){var r=t;break e}t=t.return}throw Error(n(160))}switch(t=r.stateNode,r.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(n(161))}16&r.effectTag&&(ko(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||or(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}i?sr(e,r,t):lr(e,r,t)}function sr(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=ye));else if(4!==r&&null!==(e=e.child))for(sr(e,t,n),e=e.sibling;null!==e;)sr(e,t,n),e=e.sibling}function lr(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lr(e,t,n),e=e.sibling;null!==e;)lr(e,t,n),e=e.sibling}function cr(e,t,r){for(var i,o,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(n(160));switch(i=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var l=e,c=a,u=r,d=c;;)if(rr(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(l=i,c=a.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):i.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,o=!0,a.child.return=a,a=a.child;continue}}else if(rr(e,a,r),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function ur(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void er(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var i=t.memoizedProps,o=null!==e?e.memoizedProps:i;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(r[fa]=i,"input"===e&&"radio"===i.type&&null!=i.name&&S(r,i),ve(e,o),t=ve(e,i),o=0;o<a.length;o+=2){var s=a[o],l=a[o+1];"style"===s?me(r,l):"dangerouslySetInnerHTML"===s?_o(r,l):"children"===s?ko(r,l):h(r,s,l,t)}switch(e){case"input":T(r,i);break;case"textarea":P(r,i);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?O(r,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?O(r,!!i.multiple,i.defaultValue,!0):O(r,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(n(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,ae(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?i=!1:(i=!0,r=t.child,zl=As()),null!==r)e:for(e=r;;){if(5===e.tag)a=e.stateNode,i?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,a.style.display=he("display",o));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void dr(t);case 19:return void dr(t);case 17:return}throw Error(n(163))}function dr(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new yl),t.forEach((function(t){var r=Vr.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fr(e,t,n){(n=Ht(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Kl=r),Xn(e,t)},n}function pr(e,t,n){(n=Ht(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Xn(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Jl?Jl=new Set([this]):Jl.add(this),Xn(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function hr(){return(Nl&(Il|El))!==Sl?1073741821-(As()/10|0):0!==rc?rc:rc=1073741821-(As()/10|0)}function mr(e,t,r){if(0==(2&(t=t.mode)))return 1073741823;var i=wt();if(0==(4&t))return 99===i?1073741823:1073741822;if((Nl&Il)!==Sl)return Ll;if(null!==r)e=Et(e,0|r.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Et(e,150,100);break;case 97:case 96:e=Et(e,5e3,250);break;case 95:e=2;break;default:throw Error(n(326))}return null!==Rl&&e===Ll&&--e,e}function gr(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Rl===i&&(Er(t),jl===Pl&&Xr(i,Ll)),Qr(i,t)),i}function vr(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Jr(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function br(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=St(wr.bind(null,e));else{var t=vr(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=hr();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Is&&ys(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?St(wr.bind(null,e)):kt(r,yr.bind(null,e),{timeout:10*(1073741821-t)-As()}),e.callbackNode=t}}}function yr(e,t){if(rc=0,t)return Zr(e,t=hr()),br(e),null;var r=vr(e);if(0!==r){if(t=e.callbackNode,(Nl&(Il|El))!==Sl)throw Error(n(327));if(Hr(),e===Rl&&r===Ll||kr(e,r),null!==Hl){var i=Nl;Nl|=Il;for(var o=Tr();;)try{Or();break}catch(t){Sr(e,t)}if(Ot(),Nl=i,_l.current=o,jl===Ol)throw t=Fl,kr(e,r),Xr(e,r),br(e),t;if(null===Hl)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,i=jl,Rl=null,i){case Cl:case Ol:throw Error(n(345));case Ml:Zr(e,2<r?2:r);break;case Dl:if(Xr(e,r),r===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Pr(o)),1073741823===Ul&&10<(o=zl+Yl-As())){if(Bl){var a=e.lastPingedTime;if(0===a||a>=r){e.lastPingedTime=r,kr(e,r);break}}if(0!==(a=vr(e))&&a!==r)break;if(0!==i&&i!==r){e.lastPingedTime=i;break}e.timeoutHandle=la(Ar.bind(null,e),o);break}Ar(e);break;case Pl:if(Xr(e,r),r===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Pr(o)),Bl&&(0===(o=e.lastPingedTime)||o>=r)){e.lastPingedTime=r,kr(e,r);break}if(0!==(o=vr(e))&&o!==r)break;if(0!==i&&i!==r){e.lastPingedTime=i;break}if(1073741823!==Vl?i=10*(1073741821-Vl)-As():1073741823===Ul?i=0:(i=10*(1073741821-Ul)-5e3,0>(i=(o=As())-i)&&(i=0),(r=10*(1073741821-r)-o)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*xl(i/1960))-i)&&(i=r)),10<i){e.timeoutHandle=la(Ar.bind(null,e),i);break}Ar(e);break;case Al:if(1073741823!==Ul&&null!==Wl){a=Ul;var s=Wl;if(0>=(i=0|s.busyMinDurationMs)?i=0:(o=0|s.busyDelayMs,i=(a=As()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=o?0:o+i-a),10<i){Xr(e,r),e.timeoutHandle=la(Ar.bind(null,e),i);break}}Ar(e);break;default:throw Error(n(329))}if(br(e),e.callbackNode===t)return yr.bind(null,e)}}return null}function wr(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Nl&(Il|El))!==Sl)throw Error(n(327));if(Hr(),e===Rl&&t===Ll||kr(e,t),null!==Hl){var r=Nl;Nl|=Il;for(var i=Tr();;)try{Cr();break}catch(t){Sr(e,t)}if(Ot(),Nl=r,_l.current=i,jl===Ol)throw r=Fl,kr(e,t),Xr(e,t),br(e),r;if(null!==Hl)throw Error(n(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Rl=null,Ar(e),br(e)}return null}function xr(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{(Nl=n)===Sl&&Tt()}}function _r(e,t){var n=Nl;Nl&=-2,Nl|=Tl;try{return e(t)}finally{(Nl=n)===Sl&&Tt()}}function kr(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ca(n)),null!==Hl)for(n=Hl.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&(ft(ms),ft(hs));break;case 3:Xt(),ft(ms),ft(hs);break;case 5:Zt(r);break;case 4:Xt();break;case 13:case 19:ft(Xs);break;case 10:Mt(r)}n=n.return}Rl=e,Hl=Br(e.current,null),Ll=t,jl=Cl,Fl=null,Vl=Ul=1073741823,Wl=null,$l=0,Bl=!1}function Sr(e,t){for(;;){try{if(Ot(),Qs.current=ol,il)for(var n=tl.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(el=0,rl=nl=tl=null,il=!1,null===Hl||null===Hl.return)return jl=Ol,Fl=t,Hl=null;e:{var i=e,o=Hl.return,a=Hl,s=t;if(t=Ll,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&Xs.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var h=d.memoizedProps;f=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!u)}}if(f){var m=d.updateQueue;if(null===m){var b=new Set;b.add(l),d.updateQueue=b}else m.add(l);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=Ht(1073741823,null);y.tag=Fs,Lt(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var w=i.pingCache;if(null===w?(w=i.pingCache=new wl,s=new Set,w.set(l,s)):void 0===(s=w.get(l))&&(s=new Set,w.set(l,s)),!s.has(a)){s.add(a);var x=Ur.bind(null,i,l,a);l.then(x,x)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((g(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+v(a))}jl!==Al&&(jl=Ml),s=Jn(s,a),d=o;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,jt(d,fr(d,l,t));break e;case 1:l=s;var _=d.type,k=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof _.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===Jl||!Jl.has(k)))){d.effectTag|=4096,d.expirationTime=t,jt(d,pr(d,l,t));break e}}d=d.return}while(null!==d)}Hl=Dr(Hl)}catch(e){t=e;continue}break}}function Tr(e){return e=_l.current,_l.current=ol,null===e?ol:e}function Ir(e,t){e<Ul&&2<e&&(Ul=e),null!==t&&e<Vl&&2<e&&(Vl=e,Wl=t)}function Er(e){e>$l&&($l=e)}function Cr(){for(;null!==Hl;)Hl=Mr(Hl)}function Or(){for(;null!==Hl&&!Es();)Hl=Mr(Hl)}function Mr(e){var t=oc(e.alternate,e,Ll);return e.memoizedProps=e.pendingProps,null===t&&(t=Dr(e)),kl.current=null,t}function Dr(e){Hl=e;do{var t=Hl.alternate;if(e=Hl.return,0==(2048&Hl.effectTag)){if(t=Gn(t,Hl,Ll),1===Ll||1!==Hl.childExpirationTime){for(var n=0,r=Hl.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Hl.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Hl.firstEffect),null!==Hl.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Hl.firstEffect),e.lastEffect=Hl.lastEffect),1<Hl.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Hl:e.firstEffect=Hl,e.lastEffect=Hl))}else{if(null!==(t=Kn(Hl)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Hl.sibling))return t;Hl=e}while(null!==Hl);return jl===Cl&&(jl=Al),null}function Pr(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Ar(e){var t=wt();return _t(99,Nr.bind(null,e,t)),null}function Nr(e,t){do{Hr()}while(null!==Ql);if((Nl&(Il|El))!==Sl)throw Error(n(327));var r=e.finishedWork,i=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(n(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=Pr(r);if(e.firstPendingTime=o,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Rl&&(Hl=Rl=null,Ll=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,o=r.firstEffect):o=r:o=r.firstEffect,null!==o){var a=Nl;Nl|=El,kl.current=null,aa=Qo;var s=Se();if(Te(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var f=0,p=-1,h=-1,m=0,g=0,v=s,b=null;t:for(;;){for(var y;v!==l||0!==u&&3!==v.nodeType||(p=f+u),v!==d||0!==c&&3!==v.nodeType||(h=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)b=v,v=y;for(;;){if(v===s)break t;if(b===l&&++m===u&&(p=f),b===d&&++g===c&&(h=f),null!==(y=v.nextSibling))break;b=(v=b).parentNode}v=y}l=-1===p||-1===h?null:{start:p,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;sa={activeElementDetached:null,focusedElem:s,selectionRange:l},Qo=!1,ql=o;do{try{Rr()}catch(e){if(null===ql)throw Error(n(330));Fr(ql,e),ql=ql.nextEffect}}while(null!==ql);ql=o;do{try{for(s=e,l=t;null!==ql;){var w=ql.effectTag;if(16&w&&ko(ql.stateNode,""),128&w){var x=ql.alternate;if(null!==x){var _=x.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&w){case 2:ar(ql),ql.effectTag&=-3;break;case 6:ar(ql),ql.effectTag&=-3,ur(ql.alternate,ql);break;case 1024:ql.effectTag&=-1025;break;case 1028:ql.effectTag&=-1025,ur(ql.alternate,ql);break;case 4:ur(ql.alternate,ql);break;case 8:cr(s,u=ql,l),ir(u)}ql=ql.nextEffect}}catch(e){if(null===ql)throw Error(n(330));Fr(ql,e),ql=ql.nextEffect}}while(null!==ql);if(_=sa,x=Se(),w=_.focusedElem,l=_.selectionRange,x!==w&&w&&w.ownerDocument&&ke(w.ownerDocument.documentElement,w)){null!==l&&Te(w)&&(x=l.start,void 0===(_=l.end)&&(_=x),"selectionStart"in w?(w.selectionStart=x,w.selectionEnd=Math.min(_,w.value.length)):(_=(x=w.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),u=w.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!_.extend&&s>l&&(u=l,l=s,s=u),u=_e(w,s),d=_e(w,l),u&&d&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==d.node||_.focusOffset!==d.offset)&&((x=x.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),s>l?(_.addRange(x),_.extend(d.node,d.offset)):(x.setEnd(d.node,d.offset),_.addRange(x))))),x=[];for(_=w;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<x.length;w++)(_=x[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Qo=!!aa,sa=aa=null,e.current=r,ql=o;do{try{for(w=e;null!==ql;){var k=ql.effectTag;if(36&k&&nr(w,ql.alternate,ql),128&k){x=void 0;var S=ql.ref;if(null!==S){var T=ql.stateNode;switch(ql.tag){case 5:x=T;break;default:x=T}"function"==typeof S?S(x):S.current=x}}ql=ql.nextEffect}}catch(e){if(null===ql)throw Error(n(330));Fr(ql,e),ql=ql.nextEffect}}while(null!==ql);ql=null,Cs(),Nl=a}else e.current=r;if(Xl)Xl=!1,Ql=e,Zl=t;else for(ql=o;null!==ql;)t=ql.nextEffect,ql.nextEffect=null,ql=t;if(0===(t=e.firstPendingTime)&&(Jl=null),1073741823===t?e===nc?tc++:(tc=0,nc=e):tc=0,"function"==typeof ac&&ac(r.stateNode,i),br(e),Gl)throw Gl=!1,e=Kl,Kl=null,e;return(Nl&Tl)!==Sl||Tt(),null}function Rr(){for(;null!==ql;){var e=ql.effectTag;0!=(256&e)&&Zn(ql.alternate,ql),0==(512&e)||Xl||(Xl=!0,kt(97,(function(){return Hr(),null}))),ql=ql.nextEffect}}function Hr(){if(90!==Zl){var e=97<Zl?97:Zl;return Zl=90,_t(e,Lr)}}function Lr(){if(null===Ql)return!1;var e=Ql;if(Ql=null,(Nl&(Il|El))!==Sl)throw Error(n(331));var t=Nl;for(Nl|=El,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:er(5,r),tr(5,r)}}catch(t){if(null===e)throw Error(n(330));Fr(e,t)}r=e.nextEffect,e.nextEffect=null,e=r}return Nl=t,Tt(),!0}function jr(e,t,n){Lt(e,t=fr(e,t=Jn(n,t),1073741823)),null!==(e=gr(e,1073741823))&&br(e)}function Fr(e,t){if(3===e.tag)jr(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){jr(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Jl||!Jl.has(r))){Lt(n,e=pr(n,e=Jn(t,e),1073741823)),null!==(n=gr(n,1073741823))&&br(n);break}}n=n.return}}function Ur(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Rl===e&&Ll===n?jl===Pl||jl===Dl&&1073741823===Ul&&As()-zl<Yl?kr(e,Ll):Bl=!0:Jr(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,br(e)))}function Vr(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=mr(t=hr(),e,null)),null!==(e=gr(e,t))&&br(e)}function Wr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function $r(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zr(e,t,r,i,o,a){var s=2;if(i=e,"function"==typeof e)$r(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case lo:return Yr(r.children,o,a,t);case ho:s=8,o|=7;break;case co:s=8,o|=1;break;case uo:return(e=lc(12,r,t,8|o)).elementType=uo,e.type=uo,e.expirationTime=a,e;case go:return(e=lc(13,r,t,o)).type=go,e.elementType=go,e.expirationTime=a,e;case vo:return(e=lc(19,r,t,o)).elementType=vo,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case fo:s=10;break e;case po:s=9;break e;case mo:s=11;break e;case bo:s=14;break e;case yo:s=16,i=null;break e;case wo:s=22;break e}throw Error(n(130,null==e?e:typeof e,""))}return(t=lc(s,r,t,o)).elementType=e,t.type=i,t.expirationTime=a,t}function Yr(e,t,n,r){return(e=lc(7,e,r,t)).expirationTime=n,e}function qr(e,t,n){return(e=lc(6,e,null,t)).expirationTime=n,e}function Gr(e,t,n){return(t=lc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kr(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Jr(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Xr(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Qr(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Zr(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function ei(e,t,r,i){var o=t.current,a=hr(),s=Vs.suspense;a=mr(a,o,s);e:if(r){t:{if(F(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(n(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(n(171))}if(1===r.tag){var c=r.type;if(mt(c)){r=vt(r,c,l);break e}}r=l}else r=ps;return null===t.context?t.context=r:t.pendingContext=r,(t=Ht(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),Lt(o,t),ic(o,a),a}function ti(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function ni(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function ri(e,t){ni(e,t),(e=e.alternate)&&ni(e,t)}function ii(e,t,n){var r=new Kr(e,t,n=null!=n&&!0===n.hydrate),i=lc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,Nt(i),e[pa]=r.current,n&&0!==t&&function(e,t){var n=j(t);Bo.forEach((function(e){X(e,t,n)})),zo.forEach((function(e){X(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function oi(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ai(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=ti(a);s.call(e)}}ei(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ii(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=ti(a);l.call(e)}}_r((function(){ei(t,a,e,i)}))}return ti(a)}function si(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:so,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function li(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oi(t))throw Error(n(200));return si(e,t,null,r)}if(!t)throw Error(n(227));var ci=function(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}},ui=!1,di=null,fi=!1,pi=null,hi={onError:function(e){ui=!0,di=e}},mi=null,gi=null,vi=null,bi=null,yi={},wi=[],xi={},_i={},ki={},Si=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ti=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,Ii=null,Ei=null,Ci=null,Oi=function(e,t){return e(t)},Mi=function(e,t,n,r,i){return e(t,n,r,i)},Di=function(){},Pi=Oi,Ai=!1,Ni=!1,Ri=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Scheduler,Hi=Ri.unstable_cancelCallback,Li=Ri.unstable_now,ji=Ri.unstable_scheduleCallback,Fi=Ri.unstable_shouldYield,Ui=Ri.unstable_requestPaint,Vi=Ri.unstable_runWithPriority,Wi=Ri.unstable_getCurrentPriorityLevel,$i=Ri.unstable_ImmediatePriority,Bi=Ri.unstable_UserBlockingPriority,zi=Ri.unstable_NormalPriority,Yi=Ri.unstable_LowPriority,qi=Ri.unstable_IdlePriority,Gi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ki=Object.prototype.hasOwnProperty,Ji={},Xi={},Qi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Qi[e]=new p(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Qi[t]=new p(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Qi[e]=new p(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Qi[e]=new p(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Qi[e]=new p(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Qi[e]=new p(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Qi[e]=new p(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Qi[e]=new p(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Qi[e]=new p(e,5,!1,e.toLowerCase(),null,!1)}));var Zi=/[\-:]([a-z])/g,eo=function(e){return e[1].toUpperCase()};"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Zi,eo);Qi[t]=new p(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Zi,eo);Qi[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Zi,eo);Qi[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Qi[e]=new p(e,1,!1,e.toLowerCase(),null,!1)})),Qi.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Qi[e]=new p(e,1,!1,e.toLowerCase(),null,!0)}));var to=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;to.hasOwnProperty("ReactCurrentDispatcher")||(to.ReactCurrentDispatcher={current:null}),to.hasOwnProperty("ReactCurrentBatchConfig")||(to.ReactCurrentBatchConfig={suspense:null});var no,ro,io=/^(.*)[\\\/]/,oo="function"==typeof Symbol&&Symbol.for,ao=oo?Symbol.for("react.element"):60103,so=oo?Symbol.for("react.portal"):60106,lo=oo?Symbol.for("react.fragment"):60107,co=oo?Symbol.for("react.strict_mode"):60108,uo=oo?Symbol.for("react.profiler"):60114,fo=oo?Symbol.for("react.provider"):60109,po=oo?Symbol.for("react.context"):60110,ho=oo?Symbol.for("react.concurrent_mode"):60111,mo=oo?Symbol.for("react.forward_ref"):60112,go=oo?Symbol.for("react.suspense"):60113,vo=oo?Symbol.for("react.suspense_list"):60120,bo=oo?Symbol.for("react.memo"):60115,yo=oo?Symbol.for("react.lazy"):60116,wo=oo?Symbol.for("react.block"):60121,xo="function"==typeof Symbol&&Symbol.iterator,_o=(ro=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((no=no||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=no.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ro(e,t)}))}:ro),ko=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t},So={animationend:H("Animation","AnimationEnd"),animationiteration:H("Animation","AnimationIteration"),animationstart:H("Animation","AnimationStart"),transitionend:H("Transition","TransitionEnd")},To={},Io={};Si&&(Io=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);var Eo=L("animationend"),Co=L("animationiteration"),Oo=L("animationstart"),Mo=L("transitionend"),Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Po=new("function"==typeof WeakMap?WeakMap:Map),Ao=null,No=function(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)i(e,t[r],n[r]);else t&&i(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}},Ro=[],Ho=!1,Lo=[],jo=null,Fo=null,Uo=null,Vo=new Map,Wo=new Map,$o=[],Bo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),zo="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),Yo={},qo=new Map,Go=new Map,Ko=["abort","abort",Eo,"animationEnd",Co,"animationIteration",Oo,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Mo,"transitionEnd","waiting","waiting"];se("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),se("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),se(Ko,2),function(e,t){for(var n=0;n<e.length;n++)Go.set(e[n],0)}("change selectionchange textInput compositionstart compositionend compositionupdate".split(" "));var Jo=Bi,Xo=Vi,Qo=!0,Zo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ea=["Webkit","ms","Moz","O"];Object.keys(Zo).forEach((function(e){ea.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zo[t]=Zo[e]}))}));var ta=Ti({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),na="$",ra="/$",ia="$?",oa="$!",aa=null,sa=null,la="function"==typeof setTimeout?setTimeout:void 0,ca="function"==typeof clearTimeout?clearTimeout:void 0,ua=Math.random().toString(36).slice(2),da="__reactInternalInstance$"+ua,fa="__reactEventHandlers$"+ua,pa="__reactContainere$"+ua,ha=null,ma=null,ga=null;Ti(Be.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=We)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=We)},persist:function(){this.isPersistent=We},isPersistent:$e,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=$e,this._dispatchInstances=this._dispatchListeners=null}}),Be.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Be.extend=function(e){function t(){return n.apply(this,arguments)}var n=this,r=function(){};return r.prototype=n.prototype,r=new r,Ti(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=Ti({},n.Interface,e),t.extend=n.extend,qe(t),t},qe(Be);var va=Be.extend({data:null}),ba=Be.extend({data:null}),ya=[9,13,27,32],wa=Si&&"CompositionEvent"in window,xa=null;Si&&"documentMode"in document&&(xa=document.documentMode);var _a=Si&&"TextEvent"in window&&!xa,ka=Si&&(!wa||xa&&8<xa&&11>=xa),Sa=String.fromCharCode(32),Ta={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ia=!1,Ea=!1,Ca={eventTypes:Ta,extractEvents:function(e,t,n,r,i){var o;if(wa)e:{switch(e){case"compositionstart":var a=Ta.compositionStart;break e;case"compositionend":a=Ta.compositionEnd;break e;case"compositionupdate":a=Ta.compositionUpdate;break e}a=void 0}else Ea?Ge(e,n)&&(a=Ta.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=Ta.compositionStart);return a?(ka&&"ko"!==n.locale&&(Ea||a!==Ta.compositionStart?a===Ta.compositionEnd&&Ea&&(o=Ve()):(ma="value"in(ha=r)?ha.value:ha.textContent,Ea=!0)),i=va.getPooled(a,t,n,r),o?i.data=o:null!==(o=Ke(n))&&(i.data=o),Ue(i),o=i):o=null,(e=_a?function(e,t){switch(e){case"compositionend":return Ke(t);case"keypress":return 32!==t.which?null:(Ia=!0,Sa);case"textInput":return(e=t.data)===Sa&&Ia?null:e;default:return null}}(e,n):function(e,t){if(Ea)return"compositionend"===e||!wa&&Ge(e,t)?(e=Ve(),ga=ma=ha=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ka&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=ba.getPooled(Ta.beforeInput,t,n,r)).data=e,Ue(t)):t=null,null===o?t:null===t?o:[o,t]}},Oa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ma={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Da=null,Pa=null,Aa=!1;Si&&(Aa=q("input")&&(!document.documentMode||9<document.documentMode));var Na={eventTypes:Ma,_isInputEventSupported:Aa,extractEvents:function(e,t,n,r,i){var o=(i=t?Pe(t):window).nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=et;else if(Je(i))if(Aa)a=at;else{a=it;var s=rt}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=ot);if(a&&(a=a(e,t)))return Xe(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&E(i,"number",i.value)}},Ra=Be.extend({view:null,detail:null}),Ha={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},La=0,ja=0,Fa=!1,Ua=!1,Va=Ra.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:lt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=La;return La=e.screenX,Fa?"mousemove"===e.type?e.screenX-t:0:(Fa=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=ja;return ja=e.screenY,Ua?"mousemove"===e.type?e.screenY-t:0:(Ua=!0,0)}}),Wa=Va.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ba={eventTypes:$a,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Me(t):null)&&(t!==F(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Va,l=$a.mouseLeave,c=$a.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Wa,l=$a.pointerLeave,c=$a.pointerEnter,u="pointer");if(e=null==a?o:Pe(a),o=null==t?o:Pe(t),(l=s.getPooled(l,a,n,r)).type=u+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(r=a)&&u)e:{for(c=u,a=0,e=s=r;e;e=Ne(e))a++;for(e=0,t=c;t;t=Ne(t))e++;for(;0<a-e;)s=Ne(s),a--;for(;0<e-a;)c=Ne(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Ne(s),c=Ne(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Ne(r);for(r=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)r.push(u),u=Ne(u);for(u=0;u<s.length;u++)je(s[u],"bubbled",l);for(u=r.length;0<u--;)je(r[u],"captured",n);return 0==(64&i)?[l]:[l,n]}},za="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Ya=Object.prototype.hasOwnProperty,qa=Si&&"documentMode"in document&&11>=document.documentMode,Ga={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ka=null,Ja=null,Xa=null,Qa=!1,Za={eventTypes:Ga,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=j(i),o=ki.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Pe(t):window,e){case"focus":(Je(i)||"true"===i.contentEditable)&&(Ka=i,Ja=t,Xa=null);break;case"blur":Xa=Ja=Ka=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qa=!1,ut(n,r);case"selectionchange":if(qa)break;case"keydown":case"keyup":return ut(n,r)}return null}},es=Be.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ts=Be.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ns=Ra.extend({relatedTarget:null}),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},is={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},os=Ra.extend({key:function(e){if(e.key){var t=rs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?is[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:lt,charCode:function(e){return"keypress"===e.type?dt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),as=Va.extend({dataTransfer:null}),ss=Ra.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:lt}),ls=Be.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),cs=Va.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),us={eventTypes:Yo,extractEvents:function(e,t,n,r,i){if(!(i=qo.get(e)))return null;switch(e){case"keypress":if(0===dt(n))return null;case"keydown":case"keyup":e=os;break;case"blur":case"focus":e=ns;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=as;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ss;break;case Eo:case Co:case Oo:e=es;break;case Mo:e=ls;break;case"scroll":e=Ra;break;case"wheel":e=cs;break;case"copy":case"cut":case"paste":e=ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Wa;break;default:e=Be}return Ue(t=e.getPooled(i,t,n,r)),t}};!function(e){if(bi)throw Error(n(101));bi=Array.prototype.slice.call(e),o()}("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),function(e,t,n){mi=e,gi=t,vi=n}(Ae,De,Pe),s({SimpleEventPlugin:us,EnterLeaveEventPlugin:Ba,ChangeEventPlugin:Na,SelectEventPlugin:Za,BeforeInputEventPlugin:Ca});var ds=[],fs=-1,ps={},hs={current:ps},ms={current:!1},gs=ps,vs=Vi,bs=ji,ys=Hi,ws=Wi,xs=$i,_s=Bi,ks=zi,Ss=Yi,Ts=qi,Is={},Es=Fi,Cs=void 0!==Ui?Ui:function(){},Os=null,Ms=null,Ds=!1,Ps=Li(),As=1e4>Ps?Li:function(){return Li()-Ps},Ns={current:null},Rs=null,Hs=null,Ls=null,js=0,Fs=2,Us=!1,Vs=to.ReactCurrentBatchConfig,Ws=(new t.Component).refs,$s={isMounted:function(e){return!!(e=e._reactInternalFiber)&&F(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=hr(),i=Vs.suspense;(i=Ht(r=mr(r,e,i),i)).payload=t,null!=n&&(i.callback=n),Lt(e,i),ic(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=hr(),i=Vs.suspense;(i=Ht(r=mr(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),Lt(e,i),ic(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=hr(),r=Vs.suspense;(r=Ht(n=mr(n,e,r),r)).tag=Fs,null!=t&&(r.callback=t),Lt(e,r),ic(e,n)}},Bs=Array.isArray,zs=Gt(!0),Ys=Gt(!1),qs={},Gs={current:qs},Ks={current:qs},Js={current:qs},Xs={current:0},Qs=to.ReactCurrentDispatcher,Zs=to.ReactCurrentBatchConfig,el=0,tl=null,nl=null,rl=null,il=!1,ol={readContext:At,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useResponder:nn,useDeferredValue:nn,useTransition:nn},al={readContext:At,useCallback:_n,useContext:At,useEffect:gn,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,hn(4,2,yn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hn(4,2,e,t)},useMemo:function(e,t){var n=an();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=an();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=In.bind(null,tl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},an().memoizedState=e},useState:dn,useDebugValue:xn,useResponder:tn,useDeferredValue:function(e,t){var n=dn(e),r=n[0],i=n[1];return gn((function(){var n=Zs.suspense;Zs.suspense=void 0===t?null:t;try{i(e)}finally{Zs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=dn(!1),n=t[0];return t=t[1],[_n(Tn.bind(null,t,e),[t,e]),n]}},sl={readContext:At,useCallback:kn,useContext:At,useEffect:vn,useImperativeHandle:wn,useLayoutEffect:bn,useMemo:Sn,useReducer:cn,useRef:pn,useState:function(e){return cn(ln)},useDebugValue:xn,useResponder:tn,useDeferredValue:function(e,t){var n=cn(ln),r=n[0],i=n[1];return vn((function(){var n=Zs.suspense;Zs.suspense=void 0===t?null:t;try{i(e)}finally{Zs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=cn(ln),n=t[0];return t=t[1],[kn(Tn.bind(null,t,e),[t,e]),n]}},ll={readContext:At,useCallback:kn,useContext:At,useEffect:vn,useImperativeHandle:wn,useLayoutEffect:bn,useMemo:Sn,useReducer:un,useRef:pn,useState:function(e){return un(ln)},useDebugValue:xn,useResponder:tn,useDeferredValue:function(e,t){var n=un(ln),r=n[0],i=n[1];return vn((function(){var n=Zs.suspense;Zs.suspense=void 0===t?null:t;try{i(e)}finally{Zs.suspense=n}}),[e,t]),r},useTransition:function(e){var t=un(ln),n=t[0];return t=t[1],[kn(Tn.bind(null,t,e),[t,e]),n]}},cl=null,ul=null,dl=!1,fl=to.ReactCurrentOwner,pl=!1,hl={dehydrated:null,retryTime:0},ml=function(e,t,n,r){for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},gl=function(e){},vl=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var a,s,l=t.stateNode;switch(Kt(Gs.current),e=null,n){case"input":o=_(l,o),r=_(l,r),e=[];break;case"option":o=C(l,o),r=C(l,r),e=[];break;case"select":o=Ti({},o,{value:void 0}),r=Ti({},r,{value:void 0}),e=[];break;case"textarea":o=M(l,o),r=M(l,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(l.onclick=ye)}for(a in ge(n,r),n=null,o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(s in l=o[a])l.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(_i.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var c=r[a];if(l=null!=o?o[a]:void 0,r.hasOwnProperty(a)&&c!==l&&(null!=c||null!=l))if("style"===a)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(e||(e=[]),e.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(a,c)):"children"===a?l===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(_i.hasOwnProperty(a)?(null!=c&&be(i,a),e||l===c||(e=[])):(e=e||[]).push(a,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},bl=function(e,t,n,r){n!==r&&(t.effectTag|=4)},yl="function"==typeof WeakSet?WeakSet:Set,wl="function"==typeof WeakMap?WeakMap:Map,xl=Math.ceil,_l=to.ReactCurrentDispatcher,kl=to.ReactCurrentOwner,Sl=0,Tl=8,Il=16,El=32,Cl=0,Ol=1,Ml=2,Dl=3,Pl=4,Al=5,Nl=Sl,Rl=null,Hl=null,Ll=0,jl=Cl,Fl=null,Ul=1073741823,Vl=1073741823,Wl=null,$l=0,Bl=!1,zl=0,Yl=500,ql=null,Gl=!1,Kl=null,Jl=null,Xl=!1,Ql=null,Zl=90,ec=null,tc=0,nc=null,rc=0,ic=function(e,t){if(50<tc)throw tc=0,nc=null,Error(n(185));if(null!==(e=gr(e,t))){var r=wt();1073741823===t?(Nl&Tl)!==Sl&&(Nl&(Il|El))===Sl?wr(e):(br(e),Nl===Sl&&Tt()):br(e),(4&Nl)===Sl||98!==r&&99!==r||(null===ec?ec=new Map([[e,t]]):(void 0===(r=ec.get(e))||r>t)&&ec.set(e,t))}},oc=function(e,t,r){var i=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||ms.current)pl=!0;else{if(i<r){switch(pl=!1,t.tag){case 3:Vn(t),Pn();break;case 5:if(Qt(t),4&t.mode&&1!==r&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mt(t.type)&&bt(t);break;case 4:Jt(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,o=t.type._context,pt(Ns,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=r?Wn(e,t,r):(pt(Xs,1&Xs.current),null!==(t=Yn(e,t,r))?t.sibling:null);pt(Xs,1&Xs.current);break;case 19:if(i=t.childExpirationTime>=r,0!=(64&e.effectTag)){if(i)return zn(e,t,r);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),pt(Xs,Xs.current),!i)return null}return Yn(e,t,r)}pl=!1}}else pl=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=ht(t,hs.current),Pt(t,r),o=on(null,t,i,e,o,r),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(i)){var a=!0;bt(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Nt(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&Vt(t,i,s,e),o.updater=$s,t.stateNode=o,o._reactInternalFiber=t,zt(t,i,e,r),t=Un(null,t,i,!0,a,r)}else t.tag=0,An(null,t,o,r),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,a=t.tag=function(e){if("function"==typeof e)return $r(e)?1:0;if(null!=e){if((e=e.$$typeof)===mo)return 11;if(e===bo)return 14}return 2}(o),e=Ct(o,e),a){case 0:t=jn(null,t,o,e,r);break e;case 1:t=Fn(null,t,o,e,r);break e;case 11:t=Nn(null,t,o,e,r);break e;case 14:t=Rn(null,t,o,Ct(o.type,e),i,r);break e}throw Error(n(306,o,""))}return t;case 0:return i=t.type,o=t.pendingProps,jn(e,t,i,o=t.elementType===i?o:Ct(i,o),r);case 1:return i=t.type,o=t.pendingProps,Fn(e,t,i,o=t.elementType===i?o:Ct(i,o),r);case 3:if(Vn(t),i=t.updateQueue,null===e||null===i)throw Error(n(282));if(i=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,Rt(e,t),Ft(t,i,null,r),(i=t.memoizedState.element)===o)Pn(),t=Yn(e,t,r);else{if((o=t.stateNode.hydrate)&&(ul=Ce(t.stateNode.containerInfo.firstChild),cl=t,o=dl=!0),o)for(r=Ys(t,null,i,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else An(e,t,i,r),Pn();t=t.child}return t;case 5:return Qt(t),null===e&&On(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,Ee(i,o)?s=null:null!==a&&Ee(i,a)&&(t.effectTag|=16),Ln(e,t),4&t.mode&&1!==r&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(An(e,t,s,r),t=t.child),t;case 6:return null===e&&On(t),null;case 13:return Wn(e,t,r);case 4:return Jt(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=zs(t,null,i,r):An(e,t,i,r),t.child;case 11:return i=t.type,o=t.pendingProps,Nn(e,t,i,o=t.elementType===i?o:Ct(i,o),r);case 7:return An(e,t,t.pendingProps,r),t.child;case 8:case 12:return An(e,t,t.pendingProps.children,r),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var l=t.type._context;if(pt(Ns,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=za(l,a)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,a):1073741823))){if(s.children===o.children&&!ms.current){t=Yn(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&a)){1===l.tag&&((u=Ht(r,null)).tag=Fs,Lt(l,u)),l.expirationTime<r&&(l.expirationTime=r),null!==(u=l.alternate)&&u.expirationTime<r&&(u.expirationTime=r),Dt(l.return,r),c.expirationTime<r&&(c.expirationTime=r);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}An(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,i=(a=t.pendingProps).children,Pt(t,r),i=i(o=At(o,a.unstable_observedBits)),t.effectTag|=1,An(e,t,i,r),t.child;case 14:return a=Ct(o=t.type,t.pendingProps),Rn(e,t,o,a=Ct(o.type,a),i,r);case 15:return Hn(e,t,t.type,t.pendingProps,i,r);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Ct(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mt(i)?(e=!0,bt(t)):e=!1,Pt(t,r),$t(t,i,o),zt(t,i,o,r),Un(null,t,i,!0,e,r);case 19:return zn(e,t,r)}throw Error(n(156,t.tag))},ac=null,sc=null,lc=function(e,t,n,r){return new Wr(e,t,n,r)};ii.prototype.render=function(e){ei(e,this._internalRoot,null,null)},ii.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ei(null,e,null,(function(){t[pa]=null}))};var cc=function(e){if(13===e.tag){var t=Et(hr(),150,100);ic(e,t),ri(e,t)}},uc=function(e){13===e.tag&&(ic(e,3),ri(e,3))},dc=function(e){if(13===e.tag){var t=hr();t=mr(t,e,null),ic(e,t),ri(e,t)}};Ii=function(e,t,r){switch(t){case"input":if(T(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var o=Ae(i);if(!o)throw Error(n(90));x(i),T(i,o)}}}break;case"textarea":P(e,r);break;case"select":null!=(t=r.value)&&O(e,!!r.multiple,t,!1)}},function(e,t,n,r){Oi=e,Mi=function(e,t,n,r,i){var o=Nl;Nl|=4;try{return _t(98,e.bind(null,t,n,r,i))}finally{(Nl=o)===Sl&&Tt()}},Di=function(){(Nl&(1|Il|El))===Sl&&(function(){if(null!==ec){var e=ec;ec=null,e.forEach((function(e,t){Zr(t,e),br(t)})),Tt()}}(),Hr())},Pi=function(e,t){var n=Nl;Nl|=2;try{return e(t)}finally{(Nl=n)===Sl&&Tt()}}}(xr);var fc={Events:[De,Pe,Ae,s,xi,Ue,function(e){B(e,Fe)},c,u,fe,z,Hr,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);ac=function(e,r){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},sc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}})(Ti({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=W(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Me,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fc,e.createPortal=li,e.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(n(188));throw Error(n(268,Object.keys(e)))}return e=null===(e=W(t))?null:e.stateNode},e.flushSync=function(e,t){if((Nl&(Il|El))!==Sl)throw Error(n(187));var r=Nl;Nl|=1;try{return _t(99,e.bind(null,t))}finally{Nl=r,Tt()}},e.hydrate=function(e,t,r){if(!oi(t))throw Error(n(200));return ai(null,e,t,!0,r)},e.render=function(e,t,r){if(!oi(t))throw Error(n(200));return ai(null,e,t,!1,r)},e.unmountComponentAtNode=function(e){if(!oi(e))throw Error(n(40));return!!e._reactRootContainer&&(_r((function(){ai(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},e.unstable_batchedUpdates=xr,e.unstable_createPortal=function(e,t){return li(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!oi(r))throw Error(n(200));if(null==e||void 0===e._reactInternalFiber)throw Error(n(38));return ai(e,t,r,!1,i)},e.version="16.14.0"})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ReactSelectUMD=t(require("react"),require("react-dom")):e.ReactSelectUMD=t(e.React,e.ReactDOM)}("undefined"!=typeof self?self:this,(function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=24)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=r},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function c(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function u(e,t,n){var r=[n];if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&r.push("".concat(c(e,i)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}function d(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function f(e){return d(e)?window.pageYOffset:e.scrollTop}function p(e,t){d(e)?window.scrollTo(0,t):e.scrollTop=t}function h(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function m(e,t){function n(){var t=h(l+=s,o,a,r);p(e,t),l<r?window.requestAnimationFrame(n):i(e)}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A,o=f(e),a=t-o,s=10,l=0;n()}function g(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?p(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&p(e,Math.max(t.offsetTop-i,0))}function v(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function b(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}function y(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===t.position)return i;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return i}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),h=d.bottom,g=d.height,v=d.top,b=n.offsetParent.getBoundingClientRect().top,y=window.innerHeight,w=f(l),x=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),k=b-_,S=y-v,T=k+w,I=u-w-v,E=h-y+w+x,C=w+v-_;switch(i){case"auto":case"bottom":if(S>=g)return{placement:"bottom",maxHeight:t};if(I>=g&&!a)return o&&m(l,E,160),{placement:"bottom",maxHeight:t};if(!a&&I>=r||a&&S>=r)return o&&m(l,E,160),{placement:"bottom",maxHeight:a?S-x:I-x};if("auto"===i||a){var O=t,M=a?k:T;return M>=r&&(O=Math.min(M-x-s.controlHeight,t)),{placement:"top",maxHeight:O}}if("bottom"===i)return o&&p(l,E),{placement:"bottom",maxHeight:t};break;case"top":if(k>=g)return{placement:"top",maxHeight:t};if(T>=g&&!a)return o&&m(l,C,160),{placement:"top",maxHeight:t};if(!a&&T>=r||a&&k>=r){var D=t;return(!a&&T>=r||a&&k>=r)&&(D=a?k-_:T-_),o&&m(l,C,160),{placement:"top",maxHeight:D}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return Me})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return $})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return le})),n.d(t,"l",(function(){return Z})),n.d(t,"m",(function(){return he})),n.d(t,"n",(function(){return se})),n.d(t,"o",(function(){return me})),n.d(t,"p",(function(){return ge})),n.d(t,"q",(function(){return te})),n.d(t,"r",(function(){return ce})),n.d(t,"s",(function(){return ve})),n.d(t,"t",(function(){return de})),n.d(t,"u",(function(){return q})),n.d(t,"v",(function(){return V})),n.d(t,"w",(function(){return B})),n.d(t,"x",(function(){return X})),n.d(t,"y",(function(){return ye})),n.d(t,"z",(function(){return we})),n.d(t,"A",(function(){return F})),n.d(t,"B",(function(){return xe})),n.d(t,"C",(function(){return Y})),n.d(t,"D",(function(){return Ie})),n.d(t,"E",(function(){return Ee})),n.d(t,"F",(function(){return Ce})),n.d(t,"G",(function(){return ee})),n.d(t,"H",(function(){return v}));var w=n(1),x=n(6),_=n(31),k=n(9),S=n(33),T=n(19),I=n.n(T),E=n(3),C=n(4),O=n(5),M=n(38),D=n(0),P=(n.n(D),n(20)),A=(n.n(P),function(){}),N=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===Object(S.a)(e)&&null!==e?[e]:[]},R=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,o({},Object(k.a)(e,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]))},H=!1,L={get passive(){return H=!0}},j="undefined"!=typeof window?window:{};j.addEventListener&&j.removeEventListener&&(j.addEventListener("p",A,L),j.removeEventListener("p",A,!1));var F=H,U=function(e){return"auto"===e?"bottom":e},V=function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,o=r.spacing,a=r.colors;return t={label:"menu"},Object(M.a)(t,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),Object(M.a)(t,"backgroundColor",a.neutral0),Object(M.a)(t,"borderRadius",i),Object(M.a)(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Object(M.a)(t,"marginBottom",o.menuGutter),Object(M.a)(t,"marginTop",o.menuGutter),Object(M.a)(t,"position","absolute"),Object(M.a)(t,"width","100%"),Object(M.a)(t,"zIndex",1),t},W=Object(D.createContext)({getPortalPlacement:null}),$=function(e){function t(){var e;Object(E.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,i=n.maxMenuHeight,o=n.menuPlacement,a=n.menuPosition,s=n.menuShouldScrollIntoView,l=n.theme;if(t){var c="fixed"===a,u=y({maxHeight:i,menuEl:t,minHeight:r,placement:o,shouldScroll:s&&!c,isFixedPosition:c,theme:l}),d=e.context.getPortalPlacement;d&&d(u),e.setState(u)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||U(t);return o(o({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}Object(O.a)(t,e);var n=l(t);return Object(C.a)(t,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(D.Component);$.contextType=W;var B=function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},z=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},Y=z,q=z,G=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Object(x.d)("div",Object(w.a)({css:i("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},o),t)};G.defaultProps={children:"No options"};var K=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Object(x.d)("div",Object(w.a)({css:i("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},o),t)};K.defaultProps={children:"Loading..."};var J,X=function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},Q=function(e){function t(){var e;Object(E.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==U(e.props.menuPlacement)&&e.setState({placement:n})},e}Object(O.a)(t,e);var n=l(t);return Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.className,i=e.controlElement,o=e.cx,a=e.innerProps,s=e.menuPlacement,l=e.menuPosition,c=e.getStyles,u="fixed"===l;if(!t&&!u||!i)return null;var d=this.state.placement||U(s),f=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),p=u?0:window.pageYOffset,h={offset:f[d]+p,position:l,rect:f},m=Object(x.d)("div",Object(w.a)({css:c("menuPortal",h),className:o({"menu-portal":!0},r)},a),n);return Object(x.d)(W.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?Object(P.createPortal)(m,t):m)}}]),t}(D.Component),Z=function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},ee=function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},te=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},ne={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},re=function(e){var t=e.size,n=Object(k.a)(e,["size"]);return Object(x.d)("svg",Object(w.a)({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ne},n))},ie=function(e){return Object(x.d)(re,Object(w.a)({size:20},e),Object(x.d)("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},oe=function(e){return Object(x.d)(re,Object(w.a)({size:20},e),Object(x.d)("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},ae=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},se=ae,le=ae,ce=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},ue=Object(x.e)(J||(J=Object(_.a)(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),de=function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},fe=function(e){var t=e.delay,n=e.offset;return Object(x.d)("span",{css:Object(x.c)({animation:"".concat(ue," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},pe=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps,o=e.isRtl;return Object(x.d)("div",Object(w.a)({css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},i),Object(x.d)(fe,{delay:0,offset:o}),Object(x.d)(fe,{delay:160,offset:!0}),Object(x.d)(fe,{delay:320,offset:!o}))};pe.defaultProps={size:4};var he=function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,o=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},me=function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},ge=function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},ve=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:i.neutral80}},be=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},ye=function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},we=function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},xe=function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},_e=function(e){var t=e.children,n=e.innerProps;return Object(x.d)("div",n,t)},ke=_e,Se=_e,Te=function(e){var t=e.children,n=e.className,r=e.components,i=e.cx,a=e.data,s=e.getStyles,l=e.innerProps,c=e.isDisabled,u=e.removeProps,d=e.selectProps,f=r.Container,p=r.Label,h=r.Remove;return Object(x.d)(x.b,null,(function(r){var m=r.css,g=r.cx;return Object(x.d)(f,{data:a,innerProps:o({className:g(m(s("multiValue",e)),i({"multi-value":!0,"multi-value--is-disabled":c},n))},l),selectProps:d},Object(x.d)(p,{data:a,innerProps:{className:g(m(s("multiValueLabel",e)),i({"multi-value__label":!0},n))},selectProps:d},t),Object(x.d)(h,{data:a,innerProps:o({className:g(m(s("multiValueRemove",e)),i({"multi-value__remove":!0},n))},u),selectProps:d}))}))};Te.defaultProps={cropWithEllipsis:!0};var Ie=function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:t?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?a.primary:a.primary50)}}},Ee=function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},Ce=function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},Oe={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Object(x.d)("div",Object(w.a)({css:i("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)},o),t||Object(x.d)(ie,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.className,o=e.isDisabled,a=e.isFocused,s=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return Object(x.d)("div",Object(w.a)({ref:s,css:r("control",e),className:n({control:!0,"control--is-disabled":o,"control--is-focused":a,"control--menu-is-open":c},i)},l),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Object(x.d)("div",Object(w.a)({css:i("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)},o),t||Object(x.d)(oe,null))},DownChevron:oe,CrossIcon:ie,Group:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.Heading,a=e.headingProps,s=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return Object(x.d)("div",Object(w.a)({css:i("group",e),className:r({group:!0},n)},s),Object(x.d)(o,Object(w.a)({},a,{selectProps:u,theme:c,getStyles:i,cx:r}),l),Object(x.d)("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,r=e.className,i=R(e);i.data;var o=Object(k.a)(i,["data"]);return Object(x.d)("div",Object(w.a)({css:t("groupHeading",e),className:n({"group-heading":!0},r)},o))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,o=e.getStyles;return Object(x.d)("div",Object(w.a)({css:o("indicatorsContainer",e),className:r({indicators:!0},n)},i),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps;return Object(x.d)("span",Object(w.a)({},i,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=R(e),o=i.innerRef,a=i.isDisabled,s=i.isHidden,l=Object(k.a)(i,["innerRef","isDisabled","isHidden"]);return Object(x.d)("div",{css:r("input",e)},Object(x.d)(I.a,Object(w.a)({className:n({input:!0},t),inputRef:o,inputStyle:be(s),disabled:a},l)))},LoadingIndicator:pe,Menu:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerRef,a=e.innerProps;return Object(x.d)("div",Object(w.a)({css:i("menu",e),className:r({menu:!0},n),ref:o},a),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps,a=e.innerRef,s=e.isMulti;return Object(x.d)("div",Object(w.a)({css:i("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":s},n),ref:a},o),t)},MenuPortal:Q,LoadingMessage:K,NoOptionsMessage:G,MultiValue:Te,MultiValueContainer:ke,MultiValueLabel:Se,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Object(x.d)("div",n,t||Object(x.d)(ie,{size:14}))},Option:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.isFocused,s=e.isSelected,l=e.innerRef,c=e.innerProps;return Object(x.d)("div",Object(w.a)({css:i("option",e),className:r({option:!0,"option--is-disabled":o,"option--is-focused":a,"option--is-selected":s},n),ref:l},c),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Object(x.d)("div",Object(w.a)({css:i("placeholder",e),className:r({placeholder:!0},n)},o),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps,a=e.isDisabled,s=e.isRtl;return Object(x.d)("div",Object(w.a)({css:i("container",e),className:r({"--is-disabled":a,"--is-rtl":s},n)},o),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.innerProps;return Object(x.d)("div",Object(w.a)({css:i("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":o},n)},a),t)},ValueContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,o=e.isMulti,a=e.getStyles,s=e.hasValue;return Object(x.d)("div",Object(w.a)({css:a("valueContainer",e),className:r({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":s},n)},i),t)}},Me=function(e){return o(o({},Oe),e.components)}},function(e,t,n){"use strict";t.a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,n){"use strict";t.a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)};var r=n(37)},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(u.a)(t)}function i(e,t,n){var r=[],i=Object(c.a)(e,r,n);return r.length<2?n:i+t(r)}n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var o=n(0),a=(n.n(o),n(7),n(13));n.d(t,"a",(function(){return a.a}));var s=n(18),l=(n.n(s),n(8),n(15)),c=(n.n(l),n(14),n(16)),u=n(17),d=(n(11),function(e,t){var n=arguments;if(null==t||!a.e.call(t,"css"))return o.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=a.b,i[1]=Object(a.d)(e,t);for(var s=2;s<r;s++)i[s]=n[s];return o.createElement.apply(null,i)}),f=function(){var e=r.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},p=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i},h=Object(a.f)((function(e,t){var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Object(u.a)(n,t.registered);return Object(c.b)(t,i,!1),t.key+"-"+i.name},r={css:n,cx:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i(t.registered,n,p(r))},theme:Object(o.useContext)(a.c)};return e.children(r)}))},function(e,t,n){"use strict";var r=n(11),i=n(26),o=(n(8),n(12),function(e,t){var n=-1,r=44;do{switch(Object(i.o)(r)){case 0:38===r&&12===Object(i.i)()&&(t[n]=1),e[n]+=Object(i.f)(i.j-1);break;case 2:e[n]+=Object(i.d)(r);break;case 4:if(44===r){e[++n]=58===Object(i.i)()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Object(i.e)(r)}}while(r=Object(i.h)());return e}),a=function(e,t){return Object(i.c)(o(Object(i.a)(e),t))},s=new WeakMap,l=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||s.get(n))&&!r){s.set(e,!0);for(var i=[],o=a(t,i),l=n.props,c=0,u=0;c<o.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=i[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},c=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},u=[i.k];t.a=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){document.head.appendChild(e),e.setAttribute("data-s","")}))}var o,a=e.stylisPlugins||u,s={},d=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll("style[data-emotion]"),(function(e){var n=e.getAttribute("data-emotion").split(" ");if(n[0]===t){for(var r=1;r<n.length;r++)s[n[r]]=!0;d.push(e)}}));var f,p,h=[l,c],m=[i.n,Object(i.l)((function(e){p.insert(e)}))],g=Object(i.g)(h.concat(a,m));f=function(e,t,n,r){p=n,function(e){Object(i.m)(Object(i.b)(e),g)}(e?e+"{"+t.styles+"}":t.styles),r&&(v.inserted[t.name]=!0)};var v={key:t,sheet:new r.a({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:s,registered:{},insert:f};return v.sheet.hydrate(d),v}},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t,n){"use strict";t.a=function(e,t){if(null==e)return{};var n,i,o=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o};var r=n(32)},function(e,t,n){"use strict";function r(e){e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef;e.emotion;var n=Object(O.a)(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Object(E.d)("input",Object(y.a)({ref:t},n,{css:Object(E.c)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}function i(e){e.preventDefault()}function o(e){e.stopPropagation()}function a(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function s(){return"ontouchstart"in window||navigator.maxTouchPoints}function l(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,l=Object(T.useRef)({}),c=Object(T.useRef)(null),u=Object(T.useCallback)((function(e){if(q){var t=document.body,n=t&&t.style;if(r&&z.forEach((function(e){var t=n&&n[e];l.current[e]=t})),r&&G<1){var c=parseInt(l.current.paddingRight,10)||0,u=document.body?document.body.clientWidth:0,d=window.innerWidth-u+c||0;Object.keys(Y).forEach((function(e){var t=Y[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(d,"px"))}t&&s()&&(t.addEventListener("touchmove",i,K),e&&(e.addEventListener("touchstart",a,K),e.addEventListener("touchmove",o,K))),G+=1}}),[]),d=Object(T.useCallback)((function(e){if(q){var t=document.body,n=t&&t.style;G=Math.max(G-1,0),r&&G<1&&z.forEach((function(e){var t=l.current[e];n&&(n[e]=t)})),t&&s()&&(t.removeEventListener("touchmove",i,K),e&&(e.removeEventListener("touchstart",a,K),e.removeEventListener("touchmove",o,K)))}}),[]);return Object(T.useEffect)((function(){if(t){var e=c.current;return u(e),function(){d(e)}}}),[t,u,d]),function(e){c.current=e}}function c(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,a=Object(T.useRef)(!1),s=Object(T.useRef)(!1),l=Object(T.useRef)(0),c=Object(T.useRef)(null),u=Object(T.useCallback)((function(e,t){if(null!==c.current){var l=c.current,u=l.scrollTop,d=l.scrollHeight,f=l.clientHeight,p=c.current,h=t>0,m=d-f-u,g=!1;m>t&&a.current&&(r&&r(e),a.current=!1),h&&s.current&&(o&&o(e),s.current=!1),h&&t>m?(n&&!a.current&&n(e),p.scrollTop=d,g=!0,a.current=!0):!h&&-t>u&&(i&&!s.current&&i(e),p.scrollTop=0,g=!0,s.current=!0),g&&B(e)}}),[]),d=Object(T.useCallback)((function(e){u(e,e.deltaY)}),[u]),f=Object(T.useCallback)((function(e){l.current=e.changedTouches[0].clientY}),[]),p=Object(T.useCallback)((function(e){var t=l.current-e.changedTouches[0].clientY;u(e,t)}),[u]),h=Object(T.useCallback)((function(e){if(e){var t=!!w.A&&{passive:!1};"function"==typeof e.addEventListener&&e.addEventListener("wheel",d,t),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",f,t),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",p,t)}}),[p,f,d]),m=Object(T.useCallback)((function(e){e&&("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",d,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",f,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",p,!1))}),[p,f,d]);return Object(T.useEffect)((function(){if(t){var e=c.current;return h(e),function(){m(e)}}}),[t,h,m]),function(e){c.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=l({isEnabled:n});return Object(E.d)(I.a.Fragment,null,n&&Object(E.d)("div",{onClick:J,css:X}),t((function(e){i(e),o(e)})))}function u(e,t,n,r){return{type:"option",data:t,isDisabled:g(e,t,n),isSelected:v(e,t,n),label:te(e,t),value:ne(e,t),index:r}}function d(e,t){return e.options.map((function(n,r){if(n.options){var i=n.options.map((function(n,r){return u(e,n,t,r)})).filter((function(t){return h(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=u(e,n,t,r);return h(e,o)?o:void 0})).filter((function(e){return!!e}))}function f(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Object(S.a)(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function p(e,t){return f(d(e,t))}function h(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!re(e)||!o)&&b(e,{label:a,value:s,data:i},r)}function m(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}function g(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function v(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=ne(e,t);return n.some((function(t){return ne(e,t)===r}))}function b(e,t,n){return!e.filterOption||e.filterOption(t,n)}n.d(t,"a",(function(){return oe}));for(var y=n(1),w=n(2),x=n(3),_=n(4),k=n(5),S=n(39),T=n(0),I=n.n(T),E=n(6),C=n(22),O=n(9),M={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},D=function(e){return Object(E.d)("span",Object(y.a)({css:M},e))},P={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,i=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"select-option":return"option ".concat(r,i?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=void 0===n?{}:n,i=e.options,o=e.label,a=void 0===o?"":o,s=e.selectValue,l=e.isDisabled,c=e.isSelected,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(a," focused, ").concat(u(s,r),".");if("menu"===t){var d=l?" disabled":"",f="".concat(c?"selected":"focused").concat(d);return"option ".concat(a," ").concat(f,", ").concat(u(i,r),".")}return""},onFilter:function(e){var t=e.inputValue;return"".concat(e.resultsMessage).concat(t?" for search term "+t:"",".")}},A=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,i=e.focusableOptions,o=e.isFocused,a=e.selectValue,s=e.selectProps,l=s.ariaLiveMessages,c=s.getOptionLabel,u=s.inputValue,d=s.isMulti,f=s.isOptionDisabled,p=s.isSearchable,h=s.menuIsOpen,m=s.options,g=s.screenReaderStatus,v=s.tabSelectsValue,b=s["aria-label"],y=s["aria-live"],x=Object(T.useMemo)((function(){return Object(w.j)(Object(w.j)({},P),l||{})}),[l]),_=Object(T.useMemo)((function(){var e="";if(t&&x.onChange){var n=t.option,r=t.removedValue,i=t.value,o=r||n||function(e){return Array.isArray(e)?null:e}(i),a=Object(w.j)({isDisabled:o&&f(o),label:o?c(o):""},t);e=x.onChange(a)}return e}),[t,f,c,x]),k=Object(T.useMemo)((function(){var e="",t=n||r,i=!!(n&&a&&a.includes(n));if(t&&x.onFocus){var o={focused:t,label:c(t),isDisabled:f(t),isSelected:i,options:m,context:t===n?"menu":"value",selectValue:a};e=x.onFocus(o)}return e}),[n,r,c,f,x,m,a]),S=Object(T.useMemo)((function(){var e="";if(h&&m.length&&x.onFilter){var t=g({count:i.length});e=x.onFilter({inputValue:u,resultsMessage:t})}return e}),[i,u,h,x,m,g]),C=Object(T.useMemo)((function(){var e="";if(x.guidance){var t=r?"value":h?"menu":"input";e=x.guidance({"aria-label":b,context:t,isDisabled:n&&f(n),isMulti:d,isSearchable:p,tabSelectsValue:v})}return e}),[b,n,r,d,f,p,h,x,v]),O="".concat(k," ").concat(S," ").concat(C);return Object(E.d)(D,{"aria-live":y,"aria-atomic":"false","aria-relevant":"additions text"},o&&Object(E.d)(I.a.Fragment,null,Object(E.d)("span",{id:"aria-selection"},_),Object(E.d)("span",{id:"aria-context"},O)))},N=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],R=new RegExp("["+N.map((function(e){return e.letters})).join("")+"]","g"),H={},L=0;L<N.length;L++)for(var j=N[L],F=0;F<j.letters.length;F++)H[j.letters[F]]=j.base;var U=function(e){return e.replace(R,(function(e){return H[e]}))},V=Object(C.a)(U),W=function(e){return e.replace(/^\s+|\s+$/g,"")},$=function(e){return"".concat(e.label," ").concat(e.value)},B=function(e){e.preventDefault(),e.stopPropagation()},z=["boxSizing","height","overflow","paddingRight","position"],Y={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"},q=!("undefined"==typeof window||!window.document||!window.document.createElement),G=0,K={capture:!1,passive:!1},J=function(){return document.activeElement&&document.activeElement.blur()},X={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"},Q={clearIndicator:w.k,container:w.l,control:w.m,dropdownIndicator:w.n,group:w.o,groupHeading:w.p,indicatorsContainer:w.q,indicatorSeparator:w.r,input:w.s,loadingIndicator:w.t,loadingMessage:w.u,menu:w.v,menuList:w.w,menuPortal:w.x,multiValue:w.y,multiValueLabel:w.z,multiValueRemove:w.B,noOptionsMessage:w.C,option:w.D,placeholder:w.E,singleValue:w.F,valueContainer:w.G},Z={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},ee={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Object(w.H)(),captureMenuScroll:!Object(w.H)(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=Object(w.j)({ignoreCase:!0,ignoreAccents:!0,stringify:$,trim:!0,matchFrom:"any"},void 0),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,l=a?W(t):t,c=a?W(o(e)):o(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=V(l),c=U(c)),"start"===s?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Object(w.a)(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},te=function(e,t){return e.getOptionLabel(t)},ne=function(e,t){return e.getOptionValue(t)},re=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},ie=1,oe=function(e){function t(e){var r;return Object(x.a)(this,t),(r=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,i=n.onChange,o=n.name;t.name=o,r.ariaOnChange(e,t),i(e,t)},r.setValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",n=arguments.length>2?arguments[2]:void 0,i=r.props,o=i.closeMenuOnSelect,a=i.isMulti;r.onInputChange("",{action:"set-value"}),o&&(r.setState({inputIsHiddenAfterUpdate:!a}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,i=t.isMulti,o=t.name,a=r.state.selectValue,s=i&&r.isOptionSelected(e,a),l=r.isOptionDisabled(e,a);if(s){var c=r.getOptionValue(e);r.setValue(a.filter((function(e){return r.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void r.ariaOnChange(e,{action:"select-option",name:o});i?r.setValue([].concat(Object(S.a)(a),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,i=r.getOptionValue(e),o=n.filter((function(e){return r.getOptionValue(e)!==i})),a=t?o:o[0]||null;r.onChange(a,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(r.props.isMulti?[]:null,{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],i=t.slice(0,t.length-1),o=e?i:i[0]||null;r.onChange(o,{action:"pop-value",removedValue:n})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w.b.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return te(r.props,e)},r.getOptionValue=function(e){return ne(r.props,e)},r.getStyles=function(e,t){var n=Q[e](t);n.boxSizing="border-box";var i=r.props.styles[e];return i?i(n,t):n},r.getElementId=function(e){return"".concat(r.instancePrefix,"-").concat(e)},r.getComponents=function(){return Object(w.c)(r.props)},r.buildCategorizedOptions=function(){return d(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return f(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:Object(w.j)({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},r.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||r.props.isDisabled)){var t=r.props,n=t.isMulti,i=t.menuIsOpen;r.focusInput(),i?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault(),e.stopPropagation()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.stopPropagation(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"==typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Object(w.d)(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var i=Math.abs(n.clientX-r.initialTouchX),o=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=i>5||o>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(t,{action:"input-change"}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur"}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){r.blockOptionHover||r.state.focusedOption===e||r.setState({focusedOption:e})},r.shouldHideSelectedOptions=function(){return re(r.props)},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,i=t.backspaceRemovesValue,o=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,u=t.onKeyDown,d=t.tabSelectsValue,f=t.openMenuOnFocus,p=r.state,h=p.focusedOption,m=p.focusedValue,g=p.selectValue;if(!(l||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||a)return;r.focusValue("previous");break;case"ArrowRight":if(!n||a)return;r.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)r.removeValue(m);else{if(!i)return;n?r.popValue():s&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!c||!d||!h||f&&r.isOptionSelected(h,g))return;r.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(r.isComposing)return;r.selectOption(h);break}return;case"Escape":c?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close"}),r.onMenuClose()):s&&o&&r.clearValue();break;case" ":if(a)return;if(!c){r.openMenu("first");break}if(!h)return;r.selectOption(h);break;case"ArrowUp":c?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":c?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!c)return;r.focusOption("pageup");break;case"PageDown":if(!c)return;r.focusOption("pagedown");break;case"Home":if(!c)return;r.focusOption("first");break;case"End":if(!c)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++ie),r.state.selectValue=Object(w.e)(e.value),r}Object(k.a)(t,e);var n=Object(w.i)(t);return Object(_.a)(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Object(w.f)(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===e?i=o>0?o-1:r.length-1:"down"===e?i=(o+1)%r.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Z):Object(w.j)(Object(w.j)({},Z),this.props.theme):Z}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,i=this.selectOption,o=this.setValue,a=this.props,s=a.isMulti,l=a.isRtl,c=a.options;return{clearValue:e,cx:t,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:s,isRtl:l,options:c,selectOption:i,selectProps:a,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return g(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return v(this.props,e,t)}},{key:"filterOption",value:function(e,t){return b(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,i=e.inputId,o=e.inputValue,a=e.tabIndex,s=e.form,l=this.getComponents().Input,c=this.state.inputIsHidden,u=this.commonProps,d=i||this.getElementId("input"),f={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return n?I.a.createElement(l,Object(y.a)({},u,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:d,innerRef:this.getInputRef,isDisabled:t,isHidden:c,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:s,type:"text",value:o},f)):I.a.createElement(r,Object(y.a)({id:d,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:w.g,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:a,form:s,value:""},f))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,i=t.MultiValueLabel,o=t.MultiValueRemove,a=t.SingleValue,s=t.Placeholder,l=this.commonProps,c=this.props,u=c.controlShouldRenderValue,d=c.isDisabled,f=c.isMulti,p=c.inputValue,h=c.placeholder,m=this.state,g=m.selectValue,v=m.focusedValue,b=m.isFocused;if(!this.hasValue()||!u)return p?null:I.a.createElement(s,Object(y.a)({},l,{key:"placeholder",isDisabled:d,isFocused:b}),h);if(f)return g.map((function(t,a){var s=t===v;return I.a.createElement(n,Object(y.a)({},l,{components:{Container:r,Label:i,Remove:o},isFocused:s,isDisabled:d,key:"".concat(e.getOptionValue(t)).concat(a),index:a,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(p)return null;var w=g[0];return I.a.createElement(a,Object(y.a)({},l,{data:w,isDisabled:d}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||i)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return I.a.createElement(e,Object(y.a)({},t,{innerProps:a,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!e||!i)return null;return I.a.createElement(e,Object(y.a)({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,i=this.props.isDisabled,o=this.state.isFocused;return I.a.createElement(n,Object(y.a)({},r,{isDisabled:i,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return I.a.createElement(e,Object(y.a)({},t,{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,i=t.Menu,o=t.MenuList,a=t.MenuPortal,s=t.LoadingMessage,l=t.NoOptionsMessage,u=t.Option,d=this.commonProps,f=this.state.focusedOption,p=this.props,h=p.captureMenuScroll,m=p.inputValue,g=p.isLoading,v=p.loadingMessage,b=p.minMenuHeight,x=p.maxMenuHeight,_=p.menuIsOpen,k=p.menuPlacement,S=p.menuPosition,T=p.menuPortalTarget,E=p.menuShouldBlockScroll,C=p.menuShouldScrollIntoView,O=p.noOptionsMessage,M=p.onMenuScrollToTop,D=p.onMenuScrollToBottom;if(!_)return null;var P,A=function(t,n){var r=t.type,i=t.data,o=t.isDisabled,a=t.isSelected,s=t.label,l=t.value,c=f===i,p=o?void 0:function(){return e.onOptionHover(i)},h=o?void 0:function(){return e.selectOption(i)},m="".concat(e.getElementId("option"),"-").concat(n),g={id:m,onClick:h,onMouseMove:p,onMouseOver:p,tabIndex:-1};return I.a.createElement(u,Object(y.a)({},d,{innerProps:g,data:i,isDisabled:o,isSelected:a,key:m,label:s,type:r,value:l,isFocused:c,innerRef:c?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())P=this.getCategorizedOptions().map((function(t){if("group"===t.type){var i=t.data,o=t.options,a=t.index,s="".concat(e.getElementId("group"),"-").concat(a),l="".concat(s,"-heading");return I.a.createElement(n,Object(y.a)({},d,{key:s,data:i,options:o,Heading:r,headingProps:{id:l,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return A(e,"".concat(a,"-").concat(e.index))})))}if("option"===t.type)return A(t,"".concat(t.index))}));else if(g){var N=v({inputValue:m});if(null===N)return null;P=I.a.createElement(s,d,N)}else{var R=O({inputValue:m});if(null===R)return null;P=I.a.createElement(l,d,R)}var H={minMenuHeight:b,maxMenuHeight:x,menuPlacement:k,menuPosition:S,menuShouldScrollIntoView:C},L=I.a.createElement(w.h,Object(y.a)({},d,H),(function(t){var n=t.ref,r=t.placerProps,a=r.placement,s=r.maxHeight;return I.a.createElement(i,Object(y.a)({},d,H,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:a}),I.a.createElement(c,{captureEnabled:h,onTopArrive:M,onBottomArrive:D,lockEnabled:E},(function(t){return I.a.createElement(o,Object(y.a)({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:g,maxHeight:s,focusedOption:f}),P)})))}));return T||"fixed"===S?I.a.createElement(a,Object(y.a)({},d,{appendTo:T,controlElement:this.controlRef,menuPlacement:k,menuPosition:S}),L):L}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,i=t.isMulti,o=t.name,a=this.state.selectValue;if(o&&!r){if(i){if(n){var s=a.map((function(t){return e.getOptionValue(t)})).join(n);return I.a.createElement("input",{name:o,type:"hidden",value:s})}var l=a.length>0?a.map((function(t,n){return I.a.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})})):I.a.createElement("input",{name:o,type:"hidden"});return I.a.createElement("div",null,l)}var c=a[0]?this.getOptionValue(a[0]):"";return I.a.createElement("input",{name:o,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.isFocused,a=t.selectValue,s=this.getFocusableOptions();return I.a.createElement(A,Object(y.a)({},e,{ariaSelection:n,focusedOption:r,focusedValue:i,isFocused:o,selectValue:a,focusableOptions:s}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,i=e.ValueContainer,o=this.props,a=o.className,s=o.id,l=o.isDisabled,c=o.menuIsOpen,u=this.state.isFocused,d=this.commonProps=this.getCommonProps();return I.a.createElement(r,Object(y.a)({},d,{className:a,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:u}),this.renderLiveRegion(),I.a.createElement(t,Object(y.a)({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:u,menuIsOpen:c}),I.a.createElement(i,Object(y.a)({},d,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),I.a.createElement(n,Object(y.a)({},d,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=e.options,a=e.value,s=e.menuIsOpen,l=e.inputValue,c={};if(n&&(a!==n.value||o!==n.options||s!==n.menuIsOpen||l!==n.inputValue)){var u=Object(w.e)(a),d=s?p(e,u):[],f=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,u):null;c={selectValue:u,focusedOption:m(t,d),focusedValue:f,clearFocusValueOnUpdate:!1}}var h=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{};return Object(w.j)(Object(w.j)(Object(w.j)({},c),h),{},{prevProps:e})}}]),t}(T.Component);oe.defaultProps=ee},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},function(e,t,n){"use strict";t.a=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u}));var r=n(0),i=(n.n(r),n(7)),o=(n(1),n(8),n(14),n(16)),a=n(17),s=Object.prototype.hasOwnProperty,l=Object(r.createContext)("undefined"!=typeof HTMLElement?Object(i.a)({key:"css"}):null),c=l.Provider,u=function(e){return Object(r.forwardRef)((function(t,n){var i=Object(r.useContext)(l);return e(t,i,n)}))},d=Object(r.createContext)({}),f="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",p=function(e,t){var n={};for(var r in t)s.call(t,r)&&(n[r]=t[r]);return n[f]=e,n},h=u((function(e,t,n){var i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var l=e[f],c=[i],u="";"string"==typeof e.className?u=Object(o.a)(t.registered,c,e.className):null!=e.className&&(u=e.className+" ");var p=Object(a.a)(c,void 0,"function"==typeof i||Array.isArray(i)?Object(r.useContext)(d):void 0);Object(o.b)(t,p,"string"==typeof l),u+=t.key+"-"+p.name;var h={};for(var m in e)s.call(e,m)&&"css"!==m&&m!==f&&(h[m]=e[m]);return h.ref=n,h.className=u,Object(r.createElement)(l,h)}))},function(e,t,n){"use strict";var r=n(15),i=n.n(r);t.a=function(e,t){return i()(e,t)}},function(e,t,n){"use strict";function r(e){return i.isMemo(e)?s:l[e.$$typeof]||o}var i=n(27),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[i.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,i)}var s=u(n);d&&(s=s.concat(d(n)));for(var l=r(t),m=r(n),g=0;g<s.length;++g){var v=s[g];if(!(a[v]||i&&i[v]||m&&m[v]||l&&l[v])){var b=f(n,v);try{c(t,v,b)}catch(t){}}}}return t}},function(e,t,n){"use strict";function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var i=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},function(e,t,n){"use strict";function r(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return i={name:n.name,styles:n.styles,next:i},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)i={name:o.name,styles:o.styles,next:i},o=o.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var o=0;o<n.length;o++)i+=r(e,t,n[o])+";";else for(var a in n){var s=n[a];if("object"!=typeof s)null!=t&&void 0!==t[s]?i+=a+"{"+t[s]+"}":d(s)&&(i+=f(a)+":"+p(a,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=r(e,t,s);switch(a){case"animation":case"animationName":i+=f(a)+":"+l+";";break;default:i+=a+"{"+l+"}"}}else for(var c=0;c<s.length;c++)d(s[c])&&(i+=f(a)+":"+p(a,s[c])+";")}return i}(e,t,n);case"function":if(void 0!==e){var a=i,s=n(e);return i=a,r(e,t,s)}}if(null==t)return n;var l=t[n];return void 0!==l?l:n}n.d(t,"a",(function(){return m}));var i,o=n(29),a=n(30),s=n(12),l=/[A-Z]|^ms/g,c=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},d=function(e){return null!=e&&"boolean"!=typeof e},f=Object(s.a)((function(e){return u(e)?e:e.replace(l,"-$&").toLowerCase()})),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(c,(function(e,t,n){return i={name:t,styles:n,next:i},t}))}return 1===a.a[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"},h=/label:\s*([^\s;\n{]+)\s*;/g,m=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,s="";i=void 0;var l=e[0];null==l||void 0===l.raw?(a=!1,s+=r(n,t,l)):s+=l[0];for(var c=1;c<e.length;c++)s+=r(n,t,e[c]),a&&(s+=l[c]);h.lastIndex=0;for(var u,d="";null!==(u=h.exec(s));)d+="-"+u[1];return{name:Object(o.a)(s)+d,styles:s,next:i}}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=r(a),l=r(n(34)),c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},u=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],d=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},f=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),p=function(){return f?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||p(),prevId:e.id},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.id;return n!==t.prevId?{inputId:n||p(),prevId:n}:null}}]),o(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(d(e,this.sizer),this.placeHolderSizer&&d(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return f&&e?s.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=i({},this.props.style);t.display||(t.display="inline-block");var n=i({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){u.forEach((function(t){return delete e[t]}))}(r),r.className=this.props.inputClassName,r.id=this.state.inputId,r.style=n,s.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),s.default.createElement("input",i({},r,{ref:this.inputRef})),s.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?s.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(a.Component);h.propTypes={className:l.default.string,defaultValue:l.default.any,extraWidth:l.default.oneOfType([l.default.number,l.default.string]),id:l.default.string,injectStyles:l.default.bool,inputClassName:l.default.string,inputRef:l.default.func,inputStyle:l.default.object,minWidth:l.default.oneOfType([l.default.number,l.default.string]),onAutosize:l.default.func,onChange:l.default.func,placeholder:l.default.string,placeholderIsMinWidth:l.default.bool,style:l.default.object,value:l.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},function(e,n){e.exports=t},function(e,t,n){"use strict";t.a=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}t.a=function(e,t){void 0===t&&(t=r);var n,i,o=[],a=!1;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return a&&n===this&&t(r,o)||(i=e.apply(this,r),a=!0,n=this,o=r),i}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n.n(r),o=n(25);t.default=function(e){return i.a.createElement(o.a,e)}},function(e,t,n){"use strict";var r=n(10),i=n(44),o=(n(3),n(4),n(5),n(2),n(0)),a=(n.n(o),n(6),n(7),n(22),n(18)),s=(n.n(a),n(45)),l=(n.n(s),n(50)),c=(n.n(l),n(52)),u=(n.n(c),n(53)),d=(n.n(u),n(19)),f=(n.n(d),n(54)),p=(n.n(f),n(20)),h=(n.n(p),o.Component,Object(i.a)(r.a));t.a=h},function(e,t,n){"use strict";function r(e){return e.trim()}function i(e,t,n){return e.replace(t,n)}function o(e,t){return e.indexOf(t)}function a(e,t){return 0|e.charCodeAt(t)}function s(e,t,n){return e.slice(t,n)}function l(e){return e.length}function c(e){return e.length}function u(e,t){return t.push(e),e}function d(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:q,column:G,length:a,return:""}}function f(e,t,n){return d(e,t.root,t.parent,n,t.props,t.children,0)}function p(){return X=J>0?a(Q,--J):0,G--,10===X&&(G=1,q--),X}function h(){return X=J<K?a(Q,J++):0,G++,10===X&&(G=1,q++),X}function m(){return a(Q,J)}function g(){return J}function v(e,t){return s(Q,e,t)}function b(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function y(e){return q=G=1,K=l(Q=e),J=0,[]}function w(e){return Q="",e}function x(e){return r(v(J-1,k(91===e?e+2:40===e?e+1:e)))}function _(e){for(;(X=m())&&X<33;)h();return b(e)>2||b(X)>3?"":" "}function k(e){for(;h();)switch(X){case e:return J;case 34:case 39:return k(34===e||39===e?e:X);case 40:41===e&&k(e);break;case 92:h()}return J}function S(e,t){for(;h()&&e+X!==57&&(e+X!==84||47!==m()););return"/*"+v(t,J-1)+"*"+Y(47===e?e:h())}function T(e){for(;!b(m());)h();return v(e,J)}function I(e){return w(E("",null,null,null,[""],e=y(e),0,[0],e))}function E(e,t,n,r,o,a,s,c,d){for(var f=0,v=0,b=s,y=0,w=0,k=0,I=1,D=1,P=1,A=0,N="",R=o,H=a,L=r,j=N;D;)switch(k=A,A=h()){case 34:case 39:case 91:case 40:j+=x(A);break;case 9:case 10:case 13:case 32:j+=_(k);break;case 47:switch(m()){case 42:case 47:u(O(S(h(),g()),t,n),d);break;default:j+="/"}break;case 123*I:c[f++]=l(j)*P;case 125*I:case 59:case 0:switch(A){case 0:case 125:D=0;case 59+v:w>0&&l(j)-b&&u(w>32?M(j+";",r,n,b-1):M(i(j," ","")+";",r,n,b-2),d);break;case 59:j+=";";default:if(u(L=C(j,t,n,f,v,o,c,N,R=[],H=[],b),a),123===A)if(0===v)E(j,t,L,L,R,a,b,c,H);else switch(y){case 100:case 109:case 115:E(e,L,L,r&&u(C(e,L,L,0,0,o,c,N,o,R=[],b),H),o,H,b,c,r?R:H);break;default:E(j,L,L,L,[""],H,b,c,H)}}f=v=w=0,I=P=1,N=j="",b=s;break;case 58:b=1+l(j),w=k;default:if(I<1)if(123==A)--I;else if(125==A&&0==I++&&125==p())continue;switch(j+=Y(A),A*I){case 38:P=v>0?1:(j+="\f",-1);break;case 44:c[f++]=(l(j)-1)*P,P=1;break;case 64:45===m()&&(j+=x(h())),y=m(),v=l(N=j+=T(g())),A++;break;case 45:45===k&&2==l(j)&&(I=0)}}return a}function C(e,t,n,o,a,l,u,f,p,h,m){for(var g=a-1,v=0===a?l:[""],b=c(v),y=0,w=0,x=0;y<o;++y)for(var _=0,k=s(e,g+1,g=z(w=u[y])),S=e;_<b;++_)(S=r(w>0?v[_]+" "+k:i(k,/&\f/g,v[_])))&&(p[x++]=S);return d(e,t,n,0===a?V:f,p,h,m)}function O(e,t,n){return d(e,t,n,U,Y(X),s(e,2,-2),0)}function M(e,t,n,r){return d(e,t,n,W,s(e,0,r),s(e,r+1,-1),r)}function D(e,t){switch(function(e,t){return(((t<<2^a(e,0))<<2^a(e,1))<<2^a(e,2))<<2^a(e,3)}(e,t)){case 5103:return F+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return F+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return F+e+j+e+L+e+e;case 6828:case 4268:return F+e+L+e+e;case 6165:return F+e+L+"flex-"+e+e;case 5187:return F+e+i(e,/(\w+).+(:[^]+)/,F+"box-$1$2"+L+"flex-$1$2")+e;case 5443:return F+e+L+"flex-item-"+i(e,/flex-|-self/,"")+e;case 4675:return F+e+L+"flex-line-pack"+i(e,/align-content|flex-|-self/,"")+e;case 5548:return F+e+L+i(e,"shrink","negative")+e;case 5292:return F+e+L+i(e,"basis","preferred-size")+e;case 6060:return F+"box-"+i(e,"-grow","")+F+e+L+i(e,"grow","positive")+e;case 4554:return F+i(e,/([^-])(transform)/g,"$1"+F+"$2")+e;case 6187:return i(i(i(e,/(zoom-|grab)/,F+"$1"),/(image-set)/,F+"$1"),e,"")+e;case 5495:case 3959:return i(e,/(image-set\([^]*)/,F+"$1$`$1");case 4968:return i(i(e,/(.+:)(flex-)?(.*)/,F+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+F+e+e;case 4095:case 3583:case 4068:case 2532:return i(e,/(.+)-inline(.+)/,F+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(l(e)-1-t>6)switch(a(e,t+1)){case 109:if(45!==a(e,t+4))break;case 102:return i(e,/(.+:)(.+)-([^]+)/,"$1"+F+"$2-$3$1"+j+(108==a(e,t+3)?"$3":"$2-$3"))+e;case 115:return~o(e,"stretch")?D(i(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==a(e,t+1))break;case 6444:switch(a(e,l(e)-3-(~o(e,"!important")&&10))){case 107:return i(e,":",":"+F)+e;case 101:return i(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+F+(45===a(e,14)?"inline-":"")+"box$3$1"+F+"$2$3$1"+L+"$2box$3")+e}break;case 5936:switch(a(e,t+11)){case 114:return F+e+L+i(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return F+e+L+i(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return F+e+L+i(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return F+e+L+e+e}return e}function P(e,t){for(var n="",r=c(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function A(e,t,n,r){switch(e.type){case $:case W:return e.return=e.return||e.value;case U:return"";case V:e.value=e.props.join(",")}return l(n=P(e.children,r))?e.return=e.value+"{"+n+"}":""}function N(e){var t=c(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function R(e){return function(t){t.root||(t=t.return)&&e(t)}}function H(e,t,n,r){if(!e.return)switch(e.type){case W:e.return=D(e.value,e.length);break;case B:return P([f(i(e.value,"@","@"+F),e,"")],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return P([f(i(t,/:(read-\w+)/,":"+j+"$1"),e,"")],r);case"::placeholder":return P([f(i(t,/:(plac\w+)/,":"+F+"input-$1"),e,""),f(i(t,/:(plac\w+)/,":"+j+"$1"),e,""),f(i(t,/:(plac\w+)/,L+"input-$1"),e,"")],r)}return""}))}}n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return Y})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return J})),n.d(t,"k",(function(){return H})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return P})),n.d(t,"n",(function(){return A})),n.d(t,"o",(function(){return b}));var L="-ms-",j="-moz-",F="-webkit-",U="comm",V="rule",W="decl",$="@import",B="@keyframes",z=Math.abs,Y=String.fromCharCode,q=1,G=1,K=0,J=0,X=0,Q=""},function(e,t,n){"use strict";e.exports=n(28)},function(e,t,n){"use strict";function r(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case p:case h:case l:case u:case c:case g:return e;default:switch(e=e&&e.$$typeof){case f:case m:case y:case b:case d:return e;default:return t}}case s:return t}}}function i(e){return r(e)===h}
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,s=o?Symbol.for("react.portal"):60106,l=o?Symbol.for("react.fragment"):60107,c=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,d=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.async_mode"):60111,h=o?Symbol.for("react.concurrent_mode"):60111,m=o?Symbol.for("react.forward_ref"):60112,g=o?Symbol.for("react.suspense"):60113,v=o?Symbol.for("react.suspense_list"):60120,b=o?Symbol.for("react.memo"):60115,y=o?Symbol.for("react.lazy"):60116,w=o?Symbol.for("react.block"):60121,x=o?Symbol.for("react.fundamental"):60117,_=o?Symbol.for("react.responder"):60118,k=o?Symbol.for("react.scope"):60119;t.AsyncMode=p,t.ConcurrentMode=h,t.ContextConsumer=f,t.ContextProvider=d,t.Element=a,t.ForwardRef=m,t.Fragment=l,t.Lazy=y,t.Memo=b,t.Portal=s,t.Profiler=u,t.StrictMode=c,t.Suspense=g,t.isAsyncMode=function(e){return i(e)||r(e)===p},t.isConcurrentMode=i,t.isContextConsumer=function(e){return r(e)===f},t.isContextProvider=function(e){return r(e)===d},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return r(e)===m},t.isFragment=function(e){return r(e)===l},t.isLazy=function(e){return r(e)===y},t.isMemo=function(e){return r(e)===b},t.isPortal=function(e){return r(e)===s},t.isProfiler=function(e){return r(e)===u},t.isStrictMode=function(e){return r(e)===c},t.isSuspense=function(e){return r(e)===g},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===l||e===h||e===u||e===c||e===g||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===b||e.$$typeof===d||e.$$typeof===f||e.$$typeof===m||e.$$typeof===x||e.$$typeof===_||e.$$typeof===k||e.$$typeof===w)},t.typeOf=r},function(e,t,n){"use strict";t.a=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";t.a=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},function(e,t,n){"use strict";t.a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.a=r},function(e,t,n){e.exports=n(35)()},function(e,t,n){"use strict";function r(){}function i(){}var o=n(36);i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.a=r},function(e,t,n){"use strict";t.a=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";t.a=function(e){return Object(r.a)(e)||Object(i.a)(e)||Object(o.a)(e)||Object(a.a)()};var r=n(40),i=n(41),o=n(42),a=n(43)},function(e,t,n){"use strict";t.a=function(e){if(Array.isArray(e))return Object(r.a)(e)};var r=n(21)},function(e,t,n){"use strict";t.a=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){"use strict";t.a=function(e,t){if(e){if("string"==typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}};var r=n(21)},function(e,t,n){"use strict";t.a=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(1),i=n(9),o=n(3),a=n(4),s=n(5),l=n(2),c=n(0),u=n.n(c),d={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},f=function(e){var t,n;return n=t=function(t){function n(){var e;Object(o.a)(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=c.call.apply(c,[this].concat(r))).select=void 0,e.state={inputValue:void 0!==e.props.inputValue?e.props.inputValue:e.props.defaultInputValue,menuIsOpen:void 0!==e.props.menuIsOpen?e.props.menuIsOpen:e.props.defaultMenuIsOpen,value:void 0!==e.props.value?e.props.value:e.props.defaultValue},e.onChange=function(t,n){e.callProp("onChange",t,n),e.setState({value:t})},e.onInputChange=function(t,n){var r=e.callProp("onInputChange",t,n);e.setState({inputValue:void 0!==r?r:t})},e.onMenuOpen=function(){e.callProp("onMenuOpen"),e.setState({menuIsOpen:!0})},e.onMenuClose=function(){e.callProp("onMenuClose"),e.setState({menuIsOpen:!1})},e}Object(s.a)(n,t);var c=Object(l.i)(n);return Object(a.a)(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var t=this,n=this.props;n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue;var o=Object(i.a)(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return u.a.createElement(e,Object(r.a)({},o,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(c.Component),t.defaultProps=d,n}},function(e,t,n){var r=n(46),i=n(47),o=n(48),a=n(49);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(23);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(23);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(51);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0}])})),window.Modernizr=function(e,t,n){function r(e){m.cssText=e}function i(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var r in e){var i=e[r];if(!o(i,"-")&&m[i]!==n)return"pfx"!=t||i}return!1}function s(e,t,r){for(var o in e){var a=t[e[o]];if(a!==n)return!1===r?e[o]:i(a,"function")?a.bind(r||t):a}return!1}function l(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+y.join(r+" ")+r).split(" ");return i(t,"string")||i(t,"undefined")?a(o,t):s(o=(e+" "+w.join(r+" ")+r).split(" "),t,n)}var c,u,d={},f=t.documentElement,p="modernizr",h=t.createElement(p),m=h.style,g=":)",v=" -webkit- -moz- -o- -ms- ".split(" "),b="Webkit Moz O ms",y=b.split(" "),w=b.toLowerCase().split(" "),x={},_=[],k=_.slice,S=function(e,n,r,i){var o,a,s,l,c=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(r,10))for(;r--;)(s=t.createElement("div")).id=i?i[r]:p+(r+1),c.appendChild(s);return o=["&#173;",'<style id="s',p,'">',e,"</style>"].join(""),c.id=p,(u?c:d).innerHTML+=o,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),a=n(c,e),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),f.style.overflow=l),!!a},T=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(r,o){o=o||t.createElement(e[r]||"div");var a=(r="on"+r)in o;return a||(o.setAttribute||(o=t.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(r,""),a=i(o[r],"function"),i(o[r],"undefined")||(o[r]=n),o.removeAttribute(r))),o=null,a}}(),I={}.hasOwnProperty;for(var E in u=i(I,"undefined")||i(I.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return I.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=k.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var o=new i,a=t.apply(o,n.concat(k.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(k.call(arguments)))};return r}),x.flexbox=function(){return l("flexWrap")},x.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:S(["@media (",v.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(e){n=9===e.offsetTop})),n},x.hashchange=function(){return T("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},x.opacity=function(){return function(e,t){r(v.join(e+";")+(t||""))}("opacity:.55"),/^0.55$/.test(m.opacity)},x.cssanimations=function(){return l("animationName")},x.cssgradients=function(){var e="background-image:";return r((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+v.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-e.length)),o(m.backgroundImage,"gradient")},x.csstransforms=function(){return!!l("transform")},x.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in f.style&&S("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight})),e},x.csstransitions=function(){return l("transition")},x.fontface=function(){var e;return S('@font-face {font-family:"font";src:url("https://")}',(function(n,r){var i=t.getElementById("smodernizr"),o=i.sheet||i.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(r.split(" ")[0])})),e},x.generatedcontent=function(){var e;return S(["#",p,"{font:0/0 a}#",p,':after{content:"',g,'";visibility:hidden;font:3px/1 a}'].join(""),(function(t){e=t.offsetHeight>=3})),e},x)u(x,E)&&(c=E.toLowerCase(),d[c]=x[E](),_.push((d[c]?"":"no-")+c));return d.addTest=function(e,t){if("object"==typeof e)for(var r in e)u(e,r)&&d.addTest(r,e[r]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,f.className+=" "+(t?"":"no-")+e,d[e]=t}return d},r(""),h=null,d._version="2.6.2",d._prefixes=v,d._domPrefixes=w,d._cssomPrefixes=y,d.mq=function(t){var n,r=e.matchMedia||e.msMatchMedia;return r?r(t).matches:(S("@media "+t+" { #"+p+" { position: absolute; } }",(function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position})),n)},d.hasEvent=T,d.testProp=function(e){return a([e])},d.testAllProps=l,d.testStyles=S,f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+_.join(" "),d}(this,this.document),Modernizr.addTest("boxsizing",(function(){return Modernizr.testAllProps("boxSizing")&&(void 0===document.documentMode||document.documentMode>7)})),Modernizr.addTest("strictmode",(function(){return function(){return!this}()})),Modernizr.addTest("fileinput",(function(){var e=document.createElement("input");return e.type="file",!e.disabled})),Modernizr.addTest("filereader",(function(){return!!(window.File&&window.FileList&&window.FileReader)})),Modernizr.addTest("json",!!window.JSON&&!!JSON.parse),Modernizr.addTest("xhr2","FormData"in window),function(e){"use strict";e((function(){var t;e.support.transition=(t=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}())&&{end:t}}))}(window.jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){var n,r=e(this),i=r.attr("data-target");function o(){n.trigger("closed").remove()}i||(i=(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),n=e(i),t&&t.preventDefault(),n.length||(n=r.hasClass("alert")?r:r.parent()),n.trigger(t=e.Event("close")),t.isDefaultPrevented()||(n.removeClass("in"),e.support.transition&&n.hasClass("fade")?n.on(e.support.transition.end,o):o())};var r=e.fn.alert;e.fn.alert=function(t){return this.each((function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),"string"==typeof t&&i[t].call(r)}))},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout((function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)}),0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each((function(){var r=e(this),i=r.data("button"),o="object"==typeof n&&n;i||r.data("button",i=new t(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)}))},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",(function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")}))}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),r=this;if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid",(function(){r.to(t)})):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,n){var r,i=this.$element.find(".item.active"),o=n||i[t](),a=this.interval,s="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),r=e.Event("slide",{relatedTarget:o[0],direction:s}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",(function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")}))),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(r),r.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),this.$element.one(e.support.transition.end,(function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout((function(){c.$element.trigger("slid")}),0)}))}else{if(this.$element.trigger(r),r.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each((function(){var r=e(this),i=r.data("carousel"),o=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:o.slide;i||r.data("carousel",i=new t(this,o)),"number"==typeof n?i.to(n):a?i[a]():o.interval&&i.pause().cycle()}))},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",(function(t){var n,r,i=e(this),o=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=e.extend({},o.data(),i.data());o.carousel(a),(r=i.attr("data-slide-to"))&&o.data("carousel").pause().to(r).cycle(),t.preventDefault()}))}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var t,n,r,i;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),(r=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&r.length){if((i=r.data("collapse"))&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,o=function(){"show"==n.type&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each((function(){var r=e(this),i=r.data("collapse"),o=e.extend({},e.fn.collapse.defaults,r.data(),"object"==typeof n&&n);i||r.data("collapse",i=new t(this,o)),"string"==typeof n&&i[n]()}))},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",(function(t){var n,r=e(this),i=r.attr("data-target")||t.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(i).data("collapse")?"toggle":r.data();r[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(o)}))}(window.jQuery),function(e){"use strict";var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",(function(){n.parent().removeClass("open")}))};function r(){e(".dropdown-backdrop").remove(),e(t).each((function(){i(e(this)).removeClass("open")}))}function i(t){var n,r=t.attr("data-target");return r||(r=(r=t.attr("href"))&&/#/.test(r)&&r.replace(/.*(?=#[^\s]*$)/,"")),(n=r&&e(r))&&n.length||(n=t.parent()),n}n.prototype={constructor:n,toggle:function(t){var n,o,a=e(this);if(!a.is(".disabled, :disabled"))return o=(n=i(a)).hasClass("open"),r(),o||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",r),n.toggleClass("open")),a.focus(),!1},keydown:function(n){var r,o,a,s,l;if(/(38|40|27)/.test(n.keyCode)&&(r=e(this),n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled"))){if(!(s=(a=i(r)).hasClass("open"))||s&&27==n.keyCode)return 27==n.which&&a.find(t).focus(),r.click();(o=e("[role=menu] li:not(.divider):visible a",a)).length&&(l=o.index(o.filter(":focus")),38==n.keyCode&&l>0&&l--,40==n.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),"string"==typeof t&&i[t].call(r)}))},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",r).on("click.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop((function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,(function(){t.$element.focus().trigger("shown")})):t.$element.focus().trigger("shown")})))},hide:function(t){t&&t.preventDefault();t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",(function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()}))},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",(function(t){27==t.which&&e.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout((function(){t.$element.off(e.support.transition.end),t.hideModal()}),500);this.$element.one(e.support.transition.end,(function(){clearTimeout(n),t.hideModal()}))},hideModal:function(){var e=this;this.$element.hide(),this.backdrop((function(){e.removeBackdrop(),e.$element.trigger("hidden")}))},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each((function(){var r=e(this),i=r.data("modal"),o=e.extend({},e.fn.modal.defaults,r.data(),"object"==typeof n&&n);i||r.data("modal",i=new t(this,o)),"string"==typeof n?i[n]():o.show&&i.show()}))},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',(function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(o).one("hide",(function(){n.focus()}))}))}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,o,a,s,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,l=(a=this.options.trigger.split(" ")).length;l--;)"click"==(s=a[l])?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=s&&(i="hover"==s?"mouseenter":"focus",o="hover"==s?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return(t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,r=e.fn[this.type].defaults,i={};if(this._options&&e.each(this._options,(function(e,t){r[e]!=t&&(i[e]=t)}),this),!(n=e(t.currentTarget)[this.type](i).data(this.type)).options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)},show:function(){var t,n,r,i,o,a,s=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),r=t[0].offsetWidth,i=t[0].offsetHeight,o){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":a={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":a={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":a={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,r,i,o,a=this.tip(),s=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(e).addClass(t).addClass("in"),n=a[0].offsetWidth,r=a[0].offsetHeight,"top"==t&&r!=l&&(e.top=e.top+l-r,o=!0),"bottom"==t||"top"==t?(i=0,e.left<0&&(i=-2*e.left,e.left=0,a.offset(e),n=a[0].offsetWidth,r=a[0].offsetHeight),this.replaceArrow(i-s+n,n,"left")):this.replaceArrow(r-l,r,"top"),o&&a.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){var t,n=this.tip(),r=e.Event("hide");if(this.$element.trigger(r),!r.isDefaultPrevented())return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?(t=setTimeout((function(){n.off(e.support.transition.end).detach()}),500),n.one(e.support.transition.end,(function(){clearTimeout(t),n.detach()}))):n.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each((function(){var r=e(this),i=r.data("tooltip"),o="object"==typeof n&&n;i||r.data("tooltip",i=new t(this,o)),"string"==typeof n&&i[n]()}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e=this.$element,t=this.options;return("function"==typeof t.content?t.content.call(e[0]):t.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each((function(){var r=e(this),i=r.data("popover"),o="object"==typeof n&&n;i||r.data("popover",i=new t(this,o)),"string"==typeof n&&i[n]()}))},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),function(e){"use strict";function t(t,n){var r,i=e.proxy(this.process,this),o=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(r=e(t).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this;this.offsets=e([]),this.targets=e([]),this.$body.find(this.selector).map((function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null})).sort((function(e,t){return e[0]-t[0]})).each((function(){t.offsets.push(this[0]),t.targets.push(this[1])}))},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),r=this.offsets,i=this.targets,o=this.activeTarget;if(t>=n)return o!=(e=i.last()[0])&&this.activate(e);for(e=r.length;e--;)o!=i[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(i[e])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',(n=e(r).parent("li").addClass("active")).parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each((function(){var r=e(this),i=r.data("scrollspy"),o="object"==typeof n&&n;i||r.data("scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()}))},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",(function(){e('[data-spy="scroll"]').each((function(){var t=e(this);t.scrollspy(t.data())}))}))}(window.jQuery),function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,r,i=this.element,o=i.closest("ul:not(.dropdown-menu)"),a=i.attr("data-target");a||(a=(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],r=e.Event("show",{relatedTarget:t}),i.trigger(r),r.isDefaultPrevented()||(n=e(a),this.activate(i.parent("li"),o),this.activate(n,n.parent(),(function(){i.trigger({type:"shown",relatedTarget:t})}))))},activate:function(t,n,r){var i=n.find("> .active"),o=r&&e.support.transition&&i.hasClass("fade");function a(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}o?i.one(e.support.transition.end,a):a(),i.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each((function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),"string"==typeof n&&i[n]()}))},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',(function(t){t.preventDefault(),e(this).tab("show")}))}(window.jQuery),function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source)?this.process(n):this},process:function(t){var n=this;return t=e.grep(t,(function(e){return n.matcher(e)})),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],r=[],i=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?r.push(t):i.push(t):n.push(t);return n.concat(r,i)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),(function(e,t){return"<strong>"+t+"</strong>"}))},render:function(t){var n=this;return(t=e(t).map((function(t,r){return(t=e(n.options.item).attr("data-value",r)).find("a").html(n.highlighter(r)),t[0]}))).first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active").next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active").prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each((function(){var r=e(this),i=r.data("typeahead"),o="object"==typeof n&&n;i||r.data("typeahead",i=new t(this,o)),"string"==typeof n&&i[n]()}))},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',(function(t){var n=e(this);n.data("typeahead")||n.typeahead(n.data())}))}(window.jQuery),function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy((function(){setTimeout(e.proxy(this.checkPosition,this),1)}),this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),o=this.options.offset,a=o.bottom,s=o.top;"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom()),t=!(null!=this.unpin&&r+this.unpin<=i.top)&&(null!=a&&i.top+this.$element.height()>=n-a?"bottom":null!=s&&r<=s&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?i.top-r:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each((function(){var r=e(this),i=r.data("affix"),o="object"==typeof n&&n;i||r.data("affix",i=new t(this,o)),"string"==typeof n&&i[n]()}))},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",(function(){e('[data-spy="affix"]').each((function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)}))}))}(window.jQuery);var docCookies={getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,r,i,o){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(e,t,n){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}};
/*! Hammer.JS - v1.0.5 - 2013-04-07
* http://eightmedia.github.com/hammer.js
*
* Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
* Licensed under the MIT license */function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function closeSubject(){$.publish("subject/close")}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t){"use strict";var n=function(e,t){return new n.Instance(e,t||{})};n.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"auto",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in e,n.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,n.NO_MOUSEEVENTS=n.HAS_TOUCHEVENTS&&navigator.userAgent.match(n.MOBILE_REGEX),n.EVENT_TYPES={},n.DIRECTION_DOWN="down",n.DIRECTION_LEFT="left",n.DIRECTION_UP="up",n.DIRECTION_RIGHT="right",n.POINTER_MOUSE="mouse",n.POINTER_TOUCH="touch",n.POINTER_PEN="pen",n.EVENT_START="start",n.EVENT_MOVE="move",n.EVENT_END="end",n.DOCUMENT=document,n.plugins={},n.READY=!1,n.Instance=function(e,t){var r=this;return function(){if(!n.READY){for(var e in n.event.determineEventTypes(),n.gestures)n.gestures.hasOwnProperty(e)&&n.detection.register(n.gestures[e]);n.event.onTouch(n.DOCUMENT,n.EVENT_MOVE,n.detection.detect),n.event.onTouch(n.DOCUMENT,n.EVENT_END,n.detection.detect),n.READY=!0}}(),this.element=e,this.enabled=!0,this.options=n.utils.extend(n.utils.extend({},n.defaults),t||{}),this.options.stop_browser_behavior&&n.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),n.event.onTouch(e,n.EVENT_START,(function(e){r.enabled&&n.detection.startDetect(r,e)})),this},n.Instance.prototype={on:function(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)this.element.addEventListener(n[r],t,!1);return this},off:function(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)this.element.removeEventListener(n[r],t,!1);return this},trigger:function(e,t){var r=n.DOCUMENT.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=t;var i=this.element;return n.utils.hasParent(t.target,i)&&(i=t.target),i.dispatchEvent(r),this},enable:function(e){return this.enabled=e,this}};var r=null,i=!1,o=!1;n.event={bindDom:function(e,t,n){for(var r=t.split(" "),i=0;i<r.length;i++)e.addEventListener(r[i],n,!1)},onTouch:function(e,t,a){var s=this;this.bindDom(e,n.EVENT_TYPES[t],(function(l){var c=l.type.toLowerCase();if(!c.match(/mouse/)||!o){(c.match(/touch/)||c.match(/pointerdown/)||c.match(/mouse/)&&1===l.which)&&(i=!0),c.match(/touch|pointer/)&&(o=!0);var u=0;i&&(n.HAS_POINTEREVENTS&&t!=n.EVENT_END?u=n.PointerEvent.updatePointer(t,l):c.match(/touch/)?u=l.touches.length:o||(u=c.match(/up/)?0:1),u>0&&t==n.EVENT_END?t=n.EVENT_MOVE:u||(t=n.EVENT_END),u||null===r?r=l:l=r,a.call(n.detection,s.collectEventData(e,t,l)),n.HAS_POINTEREVENTS&&t==n.EVENT_END&&(u=n.PointerEvent.updatePointer(t,l))),u||(r=null,i=!1,o=!1,n.PointerEvent.reset())}}))},determineEventTypes:function(){var e;e=n.HAS_POINTEREVENTS?n.PointerEvent.getEvents():n.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],n.EVENT_TYPES[n.EVENT_START]=e[0],n.EVENT_TYPES[n.EVENT_MOVE]=e[1],n.EVENT_TYPES[n.EVENT_END]=e[2]},getTouchList:function(e){return n.HAS_POINTEREVENTS?n.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,r){var i=this.getTouchList(r,t),o=n.POINTER_TOUCH;return(r.type.match(/mouse/)||n.PointerEvent.matchType(n.POINTER_MOUSE,r))&&(o=n.POINTER_MOUSE),{center:n.utils.getCenter(i),timeStamp:(new Date).getTime(),target:r.target,touches:i,eventType:t,pointerType:o,srcEvent:r,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return n.detection.stopDetect()}}}},n.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach((function(n){t.push(e.pointers[n])})),t},updatePointer:function(e,t){return e==n.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var r={};return r[n.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==n.POINTER_MOUSE,r[n.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==n.POINTER_TOUCH,r[n.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==n.POINTER_PEN,r[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},n.utils={extend:function(e,n,r){for(var i in n)e[i]!==t&&r||(e[i]=n[i]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],r=0,i=e.length;r<i;r++)t.push(e[r].pageX),n.push(e[r].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,r=t.pageX-e.pageX;return 180*Math.atan2(n,r)/Math.PI},getDirection:function(e,t){return Math.abs(e.pageX-t.pageX)>=Math.abs(e.pageY-t.pageY)?e.pageX-t.pageX>0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT:e.pageY-t.pageY>0?n.DIRECTION_UP:n.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,r=t.pageY-e.pageY;return Math.sqrt(n*n+r*r)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==n.DIRECTION_UP||e==n.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var n,r=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var i=0;i<r.length;i++)for(var o in t)t.hasOwnProperty(o)&&(n=o,r[i]&&(n=r[i]+n.substring(0,1).toUpperCase()+n.substring(1)),e.style[n]=t[o]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:n.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,r=0,i=this.gestures.length;r<i;r++){var o=this.gestures[r];if(!this.stopped&&!1!==t[o.name]&&!1===o.handler.call(o,e,this.current.inst)){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==n.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=n.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var r=0,i=e.touches.length;r<i;r++)t.touches.push(n.utils.extend({},e.touches[r]))}var o=e.timeStamp-t.timeStamp,a=e.center.pageX-t.center.pageX,s=e.center.pageY-t.center.pageY,l=n.utils.getVelocity(o,a,s);return n.utils.extend(e,{deltaTime:o,deltaX:a,deltaY:s,velocityX:l.x,velocityY:l.y,distance:n.utils.getDistance(t.center,e.center),angle:n.utils.getAngle(t.center,e.center),direction:n.utils.getDirection(t.center,e.center),scale:n.utils.getScale(t.touches,e.touches),rotation:n.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var r=e.defaults||{};return r[e.name]===t&&(r[e.name]=!0),n.utils.extend(n.defaults,r,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort((function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})),this.gestures}},n.gestures=n.gestures||{},n.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case n.EVENT_START:clearTimeout(this.timer),n.detection.current.name=this.name,this.timer=setTimeout((function(){"hold"==n.detection.current.name&&t.trigger("hold",e)}),t.options.hold_timeout);break;case n.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case n.EVENT_END:clearTimeout(this.timer)}}},n.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==n.EVENT_END){var r=n.detection.previous,i=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;r&&"tap"==r.name&&e.timeStamp-r.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),i=!0),i&&!t.options.tap_always||(n.detection.current.name="tap",t.trigger(n.detection.current.name,e))}}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==n.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},n.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,t){if(n.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(t.options.drag_max_touches>0&&e.touches.length>t.options.drag_max_touches))switch(e.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:if(e.distance<t.options.drag_min_distance&&n.detection.current.name!=this.name)return;n.detection.current.name=this.name,(n.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var r=n.detection.current.lastEvent.direction;e.drag_locked_to_axis&&r!==e.direction&&(n.utils.isVertical(r)?e.direction=e.deltaY<0?n.DIRECTION_UP:n.DIRECTION_DOWN:e.direction=e.deltaX<0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT),this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),t.trigger(this.name+e.direction,e),(t.options.drag_block_vertical&&n.utils.isVertical(e.direction)||t.options.drag_block_horizontal&&!n.utils.isVertical(e.direction))&&e.preventDefault();break;case n.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},n.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,t){if(n.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(e.touches.length<2))switch(t.options.transform_always_block&&e.preventDefault(),e.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:var r=Math.abs(1-e.scale),i=Math.abs(e.rotation);if(r<t.options.transform_min_scale&&i<t.options.transform_min_rotation)return;n.detection.current.name=this.name,this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),i>t.options.transform_min_rotation&&t.trigger("rotate",e),r>t.options.transform_min_scale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case n.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},n.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,t){t.options.prevent_mouseevents&&e.pointerType==n.POINTER_MOUSE?e.stopDetect():(t.options.prevent_default&&e.preventDefault(),e.eventType==n.EVENT_START&&t.trigger(this.name,e))}},n.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==n.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=n:(e.Hammer=n,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],(function(){return n})))}(this),
/*! Tiny Pub/Sub - v0.7.0 - 2013-01-29
* https://github.com/cowboy/jquery-tiny-pubsub
* Copyright (c) 2013 "Cowboy" Ben Alman; Licensed MIT */
function(e){var t=e({});e.subscribe=function(){t.on.apply(t,arguments)},e.unsubscribe=function(){t.off.apply(t,arguments)},e.publish=function(){t.trigger.apply(t,arguments)}}(jQuery),
/*! jQuery UI - v1.10.4 - 2014-01-22
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.autocomplete.js, jquery.ui.datepicker.js, jquery.ui.menu.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
function(e,t){var n,r,i=0,o=/^ui-id-\d+$/;function a(t,n){var r,i,o,a=t.nodeName.toLowerCase();return"area"===a?(i=(r=t.parentNode).name,!(!t.href||!i||"map"!==r.nodeName.toLowerCase())&&(!!(o=e("img[usemap=#"+i+"]")[0])&&s(o))):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a&&t.href||n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:(n=e.fn.focus,function(t,r){return"number"==typeof t?this.each((function(){var n=this;setTimeout((function(){e(n).focus(),r&&r.call(n)}),t)})):n.apply(this,arguments)}),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter((function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0):this.parents().filter((function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))})).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var r,i,o=e(this[0]);o.length&&o[0]!==document;){if(("absolute"===(r=o.css("position"))||"relative"===r||"fixed"===r)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0},uniqueId:function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++i)}))},removeUniqueId:function(){return this.each((function(){o.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return a(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&a(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(n,r){var i="Width"===r?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function s(t,n,r,o){return e.each(i,(function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)})),n}e.fn["inner"+r]=function(n){return n===t?a["inner"+r].call(this):this.each((function(){e(this).css(o,s(this,n)+"px")}))},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?a["outer"+r].call(this,t):this.each((function(){e(this).css(o,s(this,t,!0,n)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(r=e.fn.removeData,function(t){return arguments.length?r.call(this,e.camelCase(t)):r.call(this)})),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",(function(e){e.preventDefault()}))},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(i&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r,i=n&&"left"===n?"scrollLeft":"scrollTop";return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n,r=0;null!=(n=t[r]);r++)try{e(n).triggerHandler("remove")}catch(e){}i(t)},e.widget=function(t,n,r){var i,o,a,s,l={},c=t.split(".")[0];t=t.split(".")[1],i=c+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[c]=e[c]||{},o=e[c][t],a=e[c][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(r,(function(t,r){var i,o;e.isFunction(r)?l[t]=(i=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=i,this._superApply=o,e=r.apply(this,arguments),this._super=t,this._superApply=n,e}):l[t]=r})),a.prototype=e.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,(function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)})),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var i,o,a=r.call(arguments,1),s=0,l=a.length;s<l;s++)for(i in a[s])o=a[s][i],a[s].hasOwnProperty(i)&&o!==t&&(e.isPlainObject(o)?n[i]=e.isPlainObject(n[i])?e.widget.extend({},n[i],o):e.widget.extend({},o):n[i]=o);return n},e.widget.bridge=function(n,i){var o=i.prototype.widgetFullName||n;e.fn[n]=function(a){var s="string"==typeof a,l=r.call(arguments,1),c=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,s?this.each((function(){var r,i=e.data(this,o);return i?e.isFunction(i[a])&&"_"!==a.charAt(0)?(r=i[a].apply(i,l))!==i&&r!==t?(c=r&&r.jquery?c.pushStack(r.get()):r,!1):void 0:e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")})):this.each((function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new i(a,this))})),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},i=n.split("."),n=i.shift(),i.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;a<i.length-1;a++)o[i[a]]=o[i[a]]||{},o=o[i[a]];if(n=i.pop(),1===arguments.length)return o[n]===t?null:o[n];o[n]=r}else{if(1===arguments.length)return this.options[n]===t?null:this.options[n];s[n]=r}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,(function(r,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=r.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?i.delegate(u,c,s):n.bind(c,s)}))},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?!0===i||"number"==typeof i?n:i.effect||n:t;"number"==typeof(i=i||{})&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue((function(n){e(this)[t](),o&&o.call(r[0]),n()}))}}))}(jQuery),function(e,t){var n=!1;e(document).mouseup((function(){n=!1})),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).bind("click."+this.widgetName,(function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=1===t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){r.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0))}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){e.ui=e.ui||{};var n,r=Math.max,i=Math.abs,o=Math.round,a=/left|center|right/,s=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=e.fn.position;function f(e,t,n){return[parseFloat(e[0])*(u.test(e[0])?t/100:1),parseFloat(e[1])*(u.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}function h(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(undefined!==n)return n;var t,r,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return e("body").append(i),t=o.offsetWidth,i.css("overflow","scroll"),t===(r=o.offsetWidth)&&(r=i[0].clientWidth),i.remove(),n=t-r},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,isDocument:!!n[0]&&9===n[0].nodeType,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return d.apply(this,arguments);t=e.extend({},t);var n,u,m,g,v,b,y=e(t.of),w=e.position.getWithinInfo(t.within),x=e.position.getScrollInfo(w),_=(t.collision||"flip").split(" "),k={};return b=h(y),y[0].preventDefault&&(t.at="left top"),u=b.width,m=b.height,g=b.offset,v=e.extend({},g),e.each(["my","at"],(function(){var e,n,r=(t[this]||"").split(" ");1===r.length&&(r=a.test(r[0])?r.concat(["center"]):s.test(r[0])?["center"].concat(r):["center","center"]),r[0]=a.test(r[0])?r[0]:"center",r[1]=s.test(r[1])?r[1]:"center",e=l.exec(r[0]),n=l.exec(r[1]),k[this]=[e?e[0]:0,n?n[0]:0],t[this]=[c.exec(r[0])[0],c.exec(r[1])[0]]})),1===_.length&&(_[1]=_[0]),"right"===t.at[0]?v.left+=u:"center"===t.at[0]&&(v.left+=u/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),n=f(k.at,u,m),v.left+=n[0],v.top+=n[1],this.each((function(){var a,s,l=e(this),c=l.outerWidth(),d=l.outerHeight(),h=p(this,"marginLeft"),b=p(this,"marginTop"),S=c+h+p(this,"marginRight")+x.width,T=d+b+p(this,"marginBottom")+x.height,I=e.extend({},v),E=f(k.my,l.outerWidth(),l.outerHeight());"right"===t.my[0]?I.left-=c:"center"===t.my[0]&&(I.left-=c/2),"bottom"===t.my[1]?I.top-=d:"center"===t.my[1]&&(I.top-=d/2),I.left+=E[0],I.top+=E[1],e.support.offsetFractions||(I.left=o(I.left),I.top=o(I.top)),a={marginLeft:h,marginTop:b},e.each(["left","top"],(function(r,i){e.ui.position[_[r]]&&e.ui.position[_[r]][i](I,{targetWidth:u,targetHeight:m,elemWidth:c,elemHeight:d,collisionPosition:a,collisionWidth:S,collisionHeight:T,offset:[n[0]+E[0],n[1]+E[1]],my:t.my,at:t.at,within:w,elem:l})})),t.using&&(s=function(e){var n=g.left-I.left,o=n+u-c,a=g.top-I.top,s=a+m-d,f={target:{element:y,left:g.left,top:g.top,width:u,height:m},element:{element:l,left:I.left,top:I.top,width:c,height:d},horizontal:o<0?"left":n>0?"right":"center",vertical:s<0?"top":a>0?"bottom":"middle"};u<c&&i(n+o)<u&&(f.horizontal="center"),m<d&&i(a+s)<m&&(f.vertical="middle"),r(i(n),i(o))>r(i(a),i(s))?f.important="horizontal":f.important="vertical",t.using.call(this,e,f)}),l.offset(e.extend(I,{using:s}))}))},e.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=e.left-t.collisionPosition.marginLeft,l=o-s,c=s+t.collisionWidth-a-o;t.collisionWidth>a?l>0&&c<=0?(n=e.left+l+t.collisionWidth-a-o,e.left+=l-n):e.left=c>0&&l<=0?o:l>c?o+a-t.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-s,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=o-s,c=s+t.collisionHeight-a-o;t.collisionHeight>a?l>0&&c<=0?(n=e.top+l+t.collisionHeight-a-o,e.top+=l-n):e.top=c>0&&l<=0?o:l>c?o+a-t.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-s,e.top)}},flip:{left:function(e,t){var n,r,o=t.within,a=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-s-l,f="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];u<0?((n=e.left+f+p+h+t.collisionWidth-s-a)<0||n<i(u))&&(e.left+=f+p+h):d>0&&((r=e.left-t.collisionPosition.marginLeft+f+p+h-l)>0||i(r)<d)&&(e.left+=f+p+h)},top:function(e,t){var n,r,o=t.within,a=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-s-l,f="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,h=-2*t.offset[1];u<0?(r=e.top+f+p+h+t.collisionHeight-s-a,e.top+f+p+h>u&&(r<0||r<i(u))&&(e.top+=f+p+h)):d>0&&(n=e.top-t.collisionPosition.marginTop+f+p+h-l,e.top+f+p+h>d&&(n>0||i(n)<d)&&(e.top+=f+p+h))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,o,a=document.getElementsByTagName("body")[0],s=document.createElement("div");for(o in t=document.createElement(a?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"}),r)t.style[o]=r[o];t.appendChild(s),(n=a||document.documentElement).insertBefore(t,n.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",i=e(s).offset().left,e.support.offsetFractions=i>10&&i<11,t.innerHTML="",n.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(e(!0===n.iframeFix?"iframe":n.iframeFix).each((function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")})),!0))},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!e.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1)},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each((function(){this.parentNode.removeChild(this)})),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(r=(n=e(i.containment))[0])&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n)):this.containment=i.containment:this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:i.scrollTop(),left:i.scrollLeft()}),{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*r}},_generatePosition:function(t){var n,r,i,o,a=this.options,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(r=this.relative_container.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(i=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-a.grid[1]:i+a.grid[1]:i,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("ui-draggable"),i=r.options,o=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each((function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,o))}))},stop:function(t,n){var r=e(this).data("ui-draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,(function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))}))},drag:function(t,n){var r=e(this).data("ui-draggable"),i=this;e.each(r.sortables,(function(){var o=!1,a=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(r.sortables,(function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o}))),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)}))}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),r=n.options,i=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(document).scrollTop()<r.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(document).scrollLeft()<r.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed)))),!1!==i&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each((function(){var n=e(this),r=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})}))},drag:function(t,n){var r,i,o,a,s,l,c,u,d,f,p=e(this).data("ui-draggable"),h=p.options,m=h.snapTolerance,g=n.offset.left,v=g+p.helperProportions.width,b=n.offset.top,y=b+p.helperProportions.height;for(d=p.snapElements.length-1;d>=0;d--)l=(s=p.snapElements[d].left)+p.snapElements[d].width,u=(c=p.snapElements[d].top)+p.snapElements[d].height,v<s-m||g>l+m||y<c-m||b>u+m||!e.contains(p.snapElements[d].item.ownerDocument,p.snapElements[d].item)?(p.snapElements[d].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=!1):("inner"!==h.snapMode&&(r=Math.abs(c-y)<=m,i=Math.abs(u-b)<=m,o=Math.abs(s-v)<=m,a=Math.abs(l-g)<=m,r&&(n.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:s-p.helperProportions.width}).left-p.margins.left),a&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),f=r||i||o||a,"outer"!==h.snapMode&&(r=Math.abs(c-b)<=m,i=Math.abs(u-y)<=m,o=Math.abs(s-g)<=m,a=Math.abs(l-v)<=m,r&&(n.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:s}).left-p.margins.left),a&&(n.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[d].snapping&&(r||i||o||a||f)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=r||i||o||a||f)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,r=e.makeArray(e(n.stack)).sort((function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)}));r.length&&(t=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each((function(n){e(this).css("zIndex",t+n)})),this.css("zIndex",t+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(jQuery),function(e,t){function n(e,t,n){return e>t&&e<t+n}e.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},e.ui.ddmanager.droppables[n.scope]=e.ui.ddmanager.droppables[n.scope]||[],e.ui.ddmanager.droppables[n.scope].push(this),n.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,n=e.ui.ddmanager.droppables[this.options.scope];t<n.length;t++)n[t]===this&&n.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){"accept"===t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return i=!0,!1})),!i&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,t,r){if(!t.offset)return!1;var i,o=(e.positionAbs||e.position.absolute).left,a=(e.positionAbs||e.position.absolute).top,s=o+e.helperProportions.width,l=a+e.helperProportions.height,c=t.offset.left,u=t.offset.top,d=c+t.proportions().width,f=u+t.proportions().height;switch(r){case"fit":return c<=o&&s<=d&&u<=a&&l<=f;case"intersect":return c<o+e.helperProportions.width/2&&s-e.helperProportions.width/2<d&&u<a+e.helperProportions.height/2&&l-e.helperProportions.height/2<f;case"pointer":return i=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,n((e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,u,t.proportions().height)&&n(i,c,t.proportions().width);case"touch":return(a>=u&&a<=f||l>=u&&l<=f||a<u&&l>f)&&(o>=c&&o<=d||s>=c&&s<=d||o<c&&s>d);default:return!1}},e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var r,i,o=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<o.length;r++)if(!(o[r].options.disabled||t&&!o[r].accept.call(o[r].element[0],t.currentItem||t.element))){for(i=0;i<s.length;i++)if(s[i]===o[r].element[0]){o[r].proportions().height=0;continue e}o[r].visible="none"!==o[r].element.css("display"),o[r].visible&&("mousedown"===a&&o[r]._activate.call(o[r],n),o[r].offset=o[r].element.offset(),o[r].proportions({width:o[r].element[0].offsetWidth,height:o[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}))},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,o,a=e.ui.intersect(t,this,this.options.tolerance),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(i=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter((function(){return e.data(this,"ui-droppable").options.scope===i}))).length&&((r=e.data(o[0],"ui-droppable")).greedyChild="isover"===s)),r&&"isover"===s&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),r&&"isout"===s&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}}))},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e,t){function n(e){return parseInt(e,10)||0}function r(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,r,i,o=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)r=e.trim(t[n]),(i=e("<div class='ui-resizable-handle "+("ui-resizable-"+r)+"'></div>")).css({zIndex:a.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,o;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,o),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover((function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")})),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter((function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())})).mouseleave((function(){a.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())}))),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)((r=e(this.handles[n])[0])===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var r,i,o,a=this.options,s=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),r=n(this.helper.css("left")),i=n(this.helper.css("top")),a.containment&&(r+=e(a.containment).scrollLeft()||0,i+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:r,top:i},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r=this.helper,i={},o=this.originalMousePosition,a=this.axis,s=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,d=t.pageX-o.left||0,f=t.pageY-o.top||0,p=this._change[a];return!!p&&(n=p.apply(this,[t,d,f]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),this.position.top!==s&&(i.top=this.position.top+"px"),this.position.left!==l&&(i.left=this.position.left+"px"),this.size.width!==c&&(i.width=this.size.width+"px"),this.size.height!==u&&(i.height=this.size.height+"px"),r.css(i),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||this._trigger("resize",t,this.ui()),!1)},_mouseStop:function(t){this.resizing=!1;var n,r,i,o,a,s,l,c=this.options,u=this;return this._helper&&(i=(r=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&e.ui.hasScroll(n[0],"left")?0:u.sizeDiff.height,o=r?0:u.sizeDiff.width,a={width:u.helper.width()-o,height:u.helper.height()-i},s=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(a,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,i,o,a,s=this.options;a={minWidth:r(s.minWidth)?s.minWidth:0,maxWidth:r(s.maxWidth)?s.maxWidth:1/0,minHeight:r(s.minHeight)?s.minHeight:0,maxHeight:r(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,i=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),i>a.minHeight&&(a.minHeight=i),n<a.maxWidth&&(a.maxWidth=n),o<a.maxHeight&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),r(e.left)&&(this.position.left=e.left),r(e.top)&&(this.position.top=e.top),r(e.height)&&(this.size.height=e.height),r(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return r(e.height)?e.width=e.height*this.aspectRatio:r(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=r(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=r(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=r(e.width)&&t.minWidth&&t.minWidth>e.width,s=r(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(n),d=/nw|ne|n/.test(n);return a&&(e.width=t.minWidth),s&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),a&&u&&(e.left=l-t.minWidth),i&&u&&(e.left=l-t.maxWidth),s&&d&&(e.top=c-t.minHeight),o&&d&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,n,r,i,o=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(i=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],n=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],r=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")],t=0;t<n.length;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(r[t],10)||0);i.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize;return{top:this.originalPosition.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),a=o&&e.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,r,i,o,a,s,l,c=e(this).data("ui-resizable"),u=c.options,d=c.element,f=u.containment,p=f instanceof e?f.get(0):/parent/.test(f)?d.parent().get(0):f;p&&(c.containerElement=e(p),/document/.test(f)||f===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),r=[],e(["Top","Right","Left","Bottom"]).each((function(e,i){r[e]=n(t.css("padding"+i))})),c.containerOffset=t.offset(),c.containerPosition=t.position(),c.containerSize={height:t.innerHeight()-r[3],width:t.innerWidth()-r[1]},i=c.containerOffset,o=c.containerSize.height,a=c.containerSize.width,s=e.ui.hasScroll(p,"left")?p.scrollWidth:a,l=e.ui.hasScroll(p)?p.scrollHeight:o,c.parentData={element:p,left:i.left,top:i.top,width:s,height:l}))},resize:function(t){var n,r,i,o,a=e(this).data("ui-resizable"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||t.shiftKey,d={top:0,left:0},f=a.containerElement;f[0]!==document&&/static/.test(f.css("position"))&&(d=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),u&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,n=Math.abs((a._helper,a.offset.left-d.left+a.sizeDiff.width)),r=Math.abs((a._helper?a.offset.top-d.top:a.offset.top-l.top)+a.sizeDiff.height),i=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),i&&o&&(n-=Math.abs(a.parentData.left)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,u&&(a.size.height=a.size.width/a.aspectRatio)),r+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-r,u&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.containerOffset,i=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,c=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-i.left-r.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-i.left-r.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable").options,n=function(t){e(t).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})}))};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?n(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],n(t.alsoResize)):e.each(t.alsoResize,(function(e){n(e)}))},resize:function(t,n){var r=e(this).data("ui-resizable"),i=r.options,o=r.originalSize,a=r.originalPosition,s={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-a.top||0,left:r.position.left-a.left||0},l=function(t,r){e(t).each((function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),o={},a=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,(function(e,t){var n=(i[t]||0)+(s[t]||0);n&&n>=0&&(o[t]=n||null)})),t.css(o)}))};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?l(i.alsoResize):e.each(i.alsoResize,(function(e,t){l(e,t)}))},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size,i=t.originalSize,o=t.originalPosition,a=t.axis,s="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=s[0]||1,c=s[1]||1,u=Math.round((r.width-i.width)/l)*l,d=Math.round((r.height-i.height)/c)*c,f=i.width+u,p=i.height+d,h=n.maxWidth&&n.maxWidth<f,m=n.maxHeight&&n.maxHeight<p,g=n.minWidth&&n.minWidth>f,v=n.minHeight&&n.minHeight>p;n.grid=s,g&&(f+=l),v&&(p+=c),h&&(f-=l),m&&(p-=c),/^(se|s|e)$/.test(a)?(t.size.width=f,t.size.height=p):/^(ne)$/.test(a)?(t.size.width=f,t.size.height=p,t.position.top=o.top-d):/^(sw)$/.test(a)?(t.size.width=f,t.size.height=p,t.position.left=o.left-u):(p-c>0?(t.size.height=p,t.position.top=o.top-d):(t.size.height=c,t.position.top=o.top+i.height-c),f-l>0?(t.size.width=f,t.position.left=o.left-u):(t.size.width=l,t.position.left=o.left+i.width-l))}})}(jQuery),function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(n.options.filter,n.element[0])).addClass("ui-selectee"),t.each((function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})}))},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))})),e(t.target).parents().addBack().each((function(){var r,i=e.data(this,"selectable-item");if(i)return r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,r=this,i=this.options,o=this.opos[0],a=this.opos[1],s=t.pageX,l=t.pageY;return o>s&&(n=s,s=o,o=n),a>l&&(n=l,l=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:l-a}),this.selectees.each((function(){var n=e.data(this,"selectable-item"),c=!1;n&&n.element!==r.element[0]&&("touch"===i.tolerance?c=!(n.left>s||n.right<o||n.top>l||n.bottom<a):"fit"===i.tolerance&&(c=n.left>o&&n.right<s&&n.top>a&&n.bottom<l),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),r._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))))})),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})})),e(".ui-selecting",this.element[0]).each((function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})})),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e,t){function n(e,t,n){return e>t&&e<t+n}function r(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||r(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=null,i=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,o.widgetName+"-item")===o)return r=e(this),!1})),e.data(t.target,o.widgetName+"-item")===o&&(r=e(t.target)),!!r&&(!(this.options.handle&&!n&&(e(this.options.handle,r).find("*").addBack().each((function(){this===t.target&&(i=!0)})),!i))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,r){var i,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=(r=this.items[n]).item[0],(o=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===i||e.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],i))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){r._clear(t)}))}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each((function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))})),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each((function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")})),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||r+c>s&&r+c<l,f="y"===this.options.axis||t+u>o&&t+u<a,p=d&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||n(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||n(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&r,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!i&&(this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(e){var t=n(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=n(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&r||"left"===o&&!r:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,o,a=[],s=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(r=(i=e(l[n])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function c(){a.push(this)}for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(c);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,o,a,s,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=(i=e(f[n])).length-1;r>=0;r--)(o=e.data(i[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(a=d[n][1],r=0,c=(s=d[n][0]).length;r<c;r++)(l=e(s[r])).data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,r,i,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(r=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),o=i.offset(),r.left=o.left,r.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,r=(t=t||this).options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===r?t.currentItem.children().each((function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){n&&!r.forcePlaceholderSize||(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,o,a,s,l,c,u,d,f,p,h=null,m=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],m=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",t,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(a=1e4,s=null,l=(p=h.floating||r(this.currentItem))?"left":"top",c=p?"width":"height",u=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)e.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(p&&!n(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height)||(d=this.items[o].item.offset()[l],f=!1,Math.abs(d-u)>Math.abs(d+this.items[o][c]-u)&&(f=!0,d+=this.items[o][c]),Math.abs(d-u)<a&&(a=Math.abs(d-u),s=this.items[o],this.direction=f?"up":"down")));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[m].element,!0),this._trigger("change",t,this._uiHash()),this.containers[m]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",t,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!n.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!n.forceHelperSize||r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay((function(){i===this.counter&&this.refreshPositions(!r)}))},_clear:function(e,t){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function i(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}for(this.fromOutside&&!t&&r.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(r.push((function(e){this._trigger("remove",e,this._uiHash())})),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),o="textarea"===i,a="input"===i;this.isMultiLine=!!o||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return t=!0,r=!0,void(n=!0);t=!1,r=!1,n=!1;var o=e.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",i);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case o.UP:t=!0,this._keyEvent("previous",i);break;case o.DOWN:t=!0,this._keyEvent("next",i);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case o.TAB:this.menu.active&&this.menu.select(i);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||r.preventDefault());if(!n){var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}}},input:function(e){if(r)return r=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(r){r.target===t.element[0]||r.target===n||e.contains(n,r.target)||t.close()}))}))},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));var r=n.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay((function(){this.previous=r,this.selectedItem=n}))),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)}))},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,(function(e,n){r._renderItemData(t,n)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,(function(e){return r.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e,t){e.extend(e.ui,{datepicker:{version:"1.10.4"}});var n,r="datepicker";function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=o(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(t){var r="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(r,"mouseout",(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).delegate(r,"mouseover",(function(){e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}))}function a(t,n){for(var r in e.extend(t,n),n)null==n[r]&&(t[r]=n[r]);return t}e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return a(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var r,i,o;i="div"===(r=t.nodeName.toLowerCase())||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(e(t),i)).settings=e.extend({},n||{}),"input"===r?this._connectDatepicker(t,o):i&&this._inlineDatepicker(t,o)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?o(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,r,n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var r,i,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(r=this._get(n,"showOn"))&&"both"!==r||t.focus(this._showDatepicker),"button"!==r&&"both"!==r||(i=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:i,title:i}):i)),t[s?"before":"after"](n.trigger),n.trigger.click((function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(n=0,r=0,i=0;i<e.length;i++)e[i].length>n&&(n=e[i].length,r=i);return r},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,r,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,o,s){var l,c,u,d,f,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),(p=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],r,p)),a(p.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(p,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,f=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+d,u/2-150+f]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var n,i=e(t),o=e.data(t,r);i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,r),"input"===n?(o.append.remove(),o.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var n,i,o=e(t),a=e.data(t,r);o.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,a.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var n,i,o=e(t),a=e.data(t,r);o.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,a.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,r,i){var o,s,l,c,u=this._getInst(n);if(2===arguments.length&&"string"==typeof r)return"defaults"===r?e.extend({},e.datepicker._defaults):u?"all"===r?e.extend({},u.settings):this._get(u,r):null;o=r||{},"string"==typeof r&&((o={})[r]=i),u&&(this._curInst===u&&this._hideDatepicker(),s=this._getDateDatepicker(n,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),a(u.settings,o),null!==l&&o.dateFormat!==t&&o.minDate===t&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&o.dateFormat!==t&&o.maxDate===t&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in o&&(o.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(e(n),u),this._autoSize(u),this._setDate(u,s),this._updateAlternate(u),this._updateDatepicker(u))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,o=e.datepicker._getInst(t.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv))[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,i[0]),(n=e.datepicker._get(o,"onSelect"))?(r=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[r,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);if(e.datepicker._get(i,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!n||n.indexOf(r)>-1},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var n,r,i,o,s,l,c;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(i=(r=e.datepicker._get(n,"beforeShow"))?r.apply(t,[t,n]):{})&&(a(n.settings,i),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each((function(){return!(o|="fixed"===e(this).css("position"))})),s={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),s=e.datepicker._checkOffset(n,s,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(l=e.datepicker._get(n,"showAnim"),c=e.datepicker._get(n,"duration"),n.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?n.dpDiv.show(l,e.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,n=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var r,i=this._getNumberOfMonths(t),o=i[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(r=t.yearshtml,setTimeout((function(){r===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),r=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?i-a:0,n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=r&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>l&&l>i?Math.abs(n.left+i-l):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+s):0),n},_findPos:function(t){for(var n,r=this._getInst(t),i=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,i,o,a,s=this._curInst;!s||t&&s!==e.data(t,r)||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),o=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[n]||e.effects[n])?s.dpDiv.hide(n,e.datepicker._get(s,"showOptions"),i,o):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,o),n||o(),this._datepickerShowing=!1,(a=this._get(s,"onClose"))&&a.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),r=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===r)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,n+("M"===r?this._get(o,"showCurrentAtPos"):0),r),this._updateDatepicker(o))},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),o=this._getInst(i[0]);o["selected"+("M"===r?"Month":"Year")]=o["draw"+("M"===r?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(t,n,r,i){var o,a=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=e("a",i).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=r,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),o=this._getInst(i[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(r=this._get(o,"onSelect"))?r.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,r,i,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),i=this.formatDate(n,r,this._getFormatConfig(t)),e(o).each((function(){e(this).val(i)})))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var i,o,a,s,l=0,c=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,f=(r?r.dayNames:null)||this._defaults.dayNames,p=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,h=(r?r.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,y=!1,w=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},x=function(e){var t=w(e),r=new RegExp("^\\d{1,"+("@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2)+"}"),i=n.substring(l).match(r);if(!i)throw"Missing number at position "+l;return l+=i[0].length,parseInt(i[0],10)},_=function(t,r,i){var o=-1,a=e.map(w(t)?i:r,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(a,(function(e,t){var r=t[1];if(n.substr(l,r.length).toLowerCase()===r.toLowerCase())return o=t[0],l+=r.length,!1})),-1!==o)return o+1;throw"Unknown name at position "+l},k=function(){if(n.charAt(l)!==t.charAt(i))throw"Unexpected literal at position "+l;l++};for(i=0;i<t.length;i++)if(y)"'"!==t.charAt(i)||w("'")?k():y=!1;else switch(t.charAt(i)){case"d":v=x("d");break;case"D":_("D",d,f);break;case"o":b=x("o");break;case"m":g=x("m");break;case"M":g=_("M",p,h);break;case"y":m=x("y");break;case"@":m=(s=new Date(x("@"))).getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"!":m=(s=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"'":w("'")?k():y=!0;break;default:k()}if(l<n.length&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),b>-1)for(g=1,v=b;;){if(v<=(o=this._getDaysInMonth(m,g-1)))break;g++,v-=o}if((s=this._daylightSavingAdjust(new Date(m,g-1,v))).getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},c=function(e,t,n){var r=""+t;if(l(e))for(;r.length<n;)r="0"+r;return r},u=function(e,t,n,r){return l(e)?r[t]:n[t]},d="",f=!1;if(t)for(r=0;r<e.length;r++)if(f)"'"!==e.charAt(r)||l("'")?d+=e.charAt(r):f=!1;else switch(e.charAt(r)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),i,o);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),a,s);break;case"y":d+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":f=!0;break;default:d+=e.charAt(r)}return d},_possibleChars:function(e){var t,n="",r=!1,i=function(n){var r=t+1<e.length&&e.charAt(t+1)===n;return r&&t++,r};for(t=0;t<e.length;t++)if(r)"'"!==e.charAt(t)||i("'")?n+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":r=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,n){return e.settings[n]!==t?e.settings[n]:this._defaults[n]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),o=i,a=this._getFormatConfig(e);try{o=this.parseDate(n,r,a)||i}catch(e){r=t?"":r}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=r?o.getDate():0,e.currentMonth=r?o.getMonth():0,e.currentYear=r?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=null==n||""===n?r:"string"==typeof n?function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,i=r.getFullYear(),o=r.getMonth(),a=r.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(i,o));break;case"y":case"Y":i+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(i,o))}l=s.exec(n)}return new Date(i,o,a)}(n):"number"==typeof n?isNaN(n)?r:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(n):new Date(n.getTime());return(i=i&&"Invalid Date"===i.toString()?r:i)&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),this._daylightSavingAdjust(i)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),i===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,n,r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b,y,w,x,_,k,S,T,I,E,C,O,M,D,P,A,N,R,H,L,j,F,U=new Date,V=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),W=this._get(e,"isRTL"),$=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),z=this._get(e,"navigationAsDateFormat"),Y=this._getNumberOfMonths(e),q=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),K=1!==Y[0]||1!==Y[1],J=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-q,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-Y[0]*Y[1]+1,Q.getDate())),t=X&&t<X?X:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)--Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,n=this._get(e,"prevText"),n=z?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z-G,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>",i=this._get(e,"nextText"),i=z?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Z+G,1)),this._getFormatConfig(e)):i,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+i+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?J:V,a=z?this.formatDate(a,s,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=$?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),f=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),h=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),w="",_=0;_<Y[0];_++){for(k="",this.maxRows=4,S=0;S<Y[1];S++){if(T=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),I=" ui-corner-all",E="",K){if(E+="<div class='ui-datepicker-group",Y[1]>1)switch(S){case 0:E+=" ui-datepicker-group-first",I=" ui-corner-"+(W?"right":"left");break;case Y[1]-1:E+=" ui-datepicker-group-last",I=" ui-corner-"+(W?"left":"right");break;default:E+=" ui-datepicker-group-middle",I=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===_?W?o:r:"")+(/all|right/.test(I)&&0===_?W?r:o:"")+this._generateMonthYearHeader(e,Z,ee,X,Q,_>0||S>0,h,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;x<7;x++)C+="<th"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[O=(x+u)%7]+"'>"+p[O]+"</span></th>";for(E+=C+"</tr></thead><tbody>",M=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,M)),D=(this._getFirstDayOfMonth(ee,Z)-u+7)%7,P=Math.ceil((D+M)/7),A=K&&this.maxRows>P?this.maxRows:P,this.maxRows=A,N=this._daylightSavingAdjust(new Date(ee,Z,1-D)),R=0;R<A;R++){for(E+="<tr>",H=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(N)+"</td>":"",x=0;x<7;x++)L=g?g.apply(e.input?e.input[0]:null,[N]):[!0,""],F=(j=N.getMonth()!==Z)&&!b||!L[0]||X&&N<X||Q&&N>Q,H+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(N.getTime()===T.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===N.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+L[1]+(N.getTime()===J.getTime()?" "+this._currentClass:"")+(N.getTime()===V.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===V.getTime()?" ui-state-highlight":"")+(N.getTime()===J.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);E+=H+"</tr>"}++Z>11&&(Z=0,ee++),k+=E+="</tbody></table>"+(K?"</div>"+(Y[0]>0&&S===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=k}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,r,i,o,a,s){var l,c,u,d,f,p,h,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(o||!g)w+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=r&&r.getFullYear()===n,c=i&&i.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=r.getMonth())&&(!c||u<=i.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+s[u]+"</option>");w+="</select>"}if(b||(y+=w+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),f=(new Date).getFullYear(),h=(p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?f+parseInt(e,10):parseInt(e,10);return isNaN(t)?f:t})(d[0]),m=Math.max(h,p(d[1]||"")),h=r?Math.max(h,r.getFullYear()):h,m=i?Math.min(m,i.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";h<=m;h++)e.yearshtml+="<option value='"+h+"'"+(h===n?" selected='selected'":"")+">"+h+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!o&&g&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(e,t,n){var r=e.drawYear+("Y"===n?t:0),i=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),r=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=r),n[1].match(/[+\-].*/)&&(s+=r)),(!i||t.getTime()>=i.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"}(jQuery),function(e,t){e.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy((function(e){this.options.disabled&&e.preventDefault()}),this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var n=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,r,i,o,a,s=!0;function l(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,r=this.previousFilter||"",i=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),i===r?o=!0:i=r+i,a=new RegExp("^"+l(i),"i"),n=this.activeMenu.children(".ui-menu-item").filter((function(){return a.test(e(this).children("a").text())})),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(i=String.fromCharCode(t.keyCode),a=new RegExp("^"+l(i),"i"),n=this.activeMenu.children(".ui-menu-item").filter((function(){return a.test(e(this).children("a").text())}))),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=i,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter):delete this.previousFilter}s&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),r=t.prev("a"),i=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);r.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",r.attr("id"))})),(t=r.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each((function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")})),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,o,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.height(),i<0?this.activeMenu.scrollTop(o+i):i+s>a&&this.activeMenu.scrollTop(o+i-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay((function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,r)},nextPage:function(t){var n,r,i;this.active?this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-r-i<0})),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var n,r,i;this.active?this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-r+i>0})),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(jQuery),function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],e):e(ko,ko.mapping={})}((function(e,t){var n,r,i=e.dependentObservable,o=0,a=["create","update","key","arrayChanged"],s={},l={include:["_destroy"],ignore:[],copy:[],observe:[]},c=l;function u(){for(var e,t,n,r=arguments,i=r.length,o={},a=[];i--;)for(e=(n=r[i]).length;e--;)o[t=n[e]]||(o[t]=1,a.push(t));return a}function d(e,n){var r;for(var i in n)if(n.hasOwnProperty(i)&&n[i])if(r=t.getType(e[i]),i&&e[i]&&"array"!==r&&"string"!==r)d(e[i],n[i]);else{var o="array"===t.getType(e[i])&&"array"===t.getType(n[i]);e[i]=o?u(e[i],n[i]):n[i]}}function f(e,t){var n={};return d(n,e),d(n,t),n}function p(e,t){for(var n=f({},e),r=a.length-1;r>=0;r--){var i=a[r];n[i]&&(n[""]instanceof Object||(n[""]={}),n[""][i]=n[i],delete n[i])}return t&&(n.ignore=h(t.ignore,n.ignore),n.include=h(t.include,n.include),n.copy=h(t.copy,n.copy),n.observe=h(t.observe,n.observe)),n.ignore=h(n.ignore,c.ignore),n.include=h(n.include,c.include),n.copy=h(n.copy,c.copy),n.observe=h(n.observe,c.observe),n.mappedProperties=n.mappedProperties||{},n.copiedProperties=n.copiedProperties||{},n}function h(n,r){return"array"!==t.getType(n)&&(n="undefined"===t.getType(n)?[]:[n]),"array"!==t.getType(r)&&(r="undefined"===t.getType(r)?[]:[r]),e.utils.arrayGetDistinctValues(n.concat(r))}function m(o,a,l,c,u,d,p){var h="array"===t.getType(e.utils.unwrapObservable(a));if(d=d||"",t.isMapped(o)){var v=e.utils.unwrapObservable(o).__ko_mapping__;l=f(v,l)}var _={data:a,parent:p||u},k=function(){return l[c]&&l[c].create instanceof Function},S=function(t){return function(t,n){var r=e.dependentObservable;e.dependentObservable=function(n,r,o){o=o||{},n&&"object"==typeof n&&(o=n);var a=o.deferEvaluation,s=!1;o.deferEvaluation=!0;var l=new i(n,r,o);return a||(l=function(n){var r=e.dependentObservable;e.dependentObservable=i;var o=e.isWriteableObservable(n);e.dependentObservable=r;var a=i({read:function(){return s||(e.utils.arrayRemoveItem(t,n),s=!0),n.apply(n,arguments)},write:o&&function(e){return n(e)},deferEvaluation:!0});return a._wrapper=!0,a.__DO=n,a}(l),t.push(l)),l},e.dependentObservable.fn=i.fn,e.computed=e.dependentObservable;var o=n();return e.dependentObservable=r,e.computed=e.dependentObservable,o}(n,(function(){return e.utils.unwrapObservable(u)instanceof Array?l[c].create({data:t||_.data,parent:_.parent,skip:s}):l[c].create({data:t||_.data,parent:_.parent})}))},T=function(){return l[c]&&l[c].update instanceof Function},I=function(t,n){var r={data:n||_.data,parent:_.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(r.observable=t),l[c].update(r)},E=r.get(a);if(E)return E;if(c=c||"",h){var C=[],O=!1,M=function(e){return e};l[c]&&l[c].key&&(M=l[c].key,O=!0),e.isObservable(o)||((o=e.observableArray([])).mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===M(e)};return o.remove((function(e){return t(M(e))}))},o.mappedRemoveAll=function(t){var n=y(t,M);return o.remove((function(t){return-1!=e.utils.arrayIndexOf(n,M(t))}))},o.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===M(e)};return o.destroy((function(e){return t(M(e))}))},o.mappedDestroyAll=function(t){var n=y(t,M);return o.destroy((function(t){return-1!=e.utils.arrayIndexOf(n,M(t))}))},o.mappedIndexOf=function(t){var n=y(o(),M),r=M(t);return e.utils.arrayIndexOf(n,r)},o.mappedGet=function(e){return o()[o.mappedIndexOf(e)]},o.mappedCreate=function(t){if(-1!==o.mappedIndexOf(t))throw new Error("There already is an object with the key that you specified.");var n=k()?S(t):t;if(T()){var r=I(n,t);e.isWriteableObservable(n)?n(r):n=r}return o.push(n),n});var D=y(e.utils.unwrapObservable(o),M).sort(),P=y(a,M);O&&P.sort();var A,N,R=e.utils.compareArrays(D,P),H={},L=e.utils.unwrapObservable(a),j={},F=!0;for(A=0,N=L.length;A<N;A++){if(void 0===($=M(L[A]))||$ instanceof Object){F=!1;break}j[$]=L[A]}var U=[],V=0;for(A=0,N=R.length;A<N;A++){var W,$=R[A],B=d+"["+A+"]";switch($.status){case"added":W=m(void 0,Y=F?j[$.value]:b(e.utils.unwrapObservable(a),$.value,M),l,c,o,B,u),k()||(W=e.utils.unwrapObservable(W));var z=g(e.utils.unwrapObservable(a),Y,H);W===s?V++:U[z-V]=W,H[z]=!0;break;case"retained":var Y=F?j[$.value]:b(e.utils.unwrapObservable(a),$.value,M);m(W=b(o,$.value,M),Y,l,c,o,B,u),U[z=g(e.utils.unwrapObservable(a),Y,H)]=W,H[z]=!0;break;case"deleted":W=b(o,$.value,M)}C.push({event:$.status,item:W})}o(U),l[c]&&l[c].arrayChanged&&e.utils.arrayForEach(C,(function(e){l[c].arrayChanged(e.event,e.item)}))}else if(x(a)){if(!(o=e.utils.unwrapObservable(o))){if(k()){var q=S();return T()&&(q=I(q)),q}if(T())return I(q);o={}}if(T()&&(o=I(o)),r.save(a,o),T())return o;w(a,(function(t){var n=d.length?d+"."+t:t;if(-1==e.utils.arrayIndexOf(l.ignore,n))if(-1==e.utils.arrayIndexOf(l.copy,n)){if("object"!=typeof a[t]&&"array"!=typeof a[t]&&l.observe.length>0&&-1==e.utils.arrayIndexOf(l.observe,n))return o[t]=a[t],void(l.copiedProperties[n]=!0);var i=r.get(a[t]),s=m(o[t],a[t],l,t,o,n,o),c=i||s;if(l.observe.length>0&&-1==e.utils.arrayIndexOf(l.observe,n))return o[t]=e.utils.unwrapObservable(c),void(l.copiedProperties[n]=!0);e.isWriteableObservable(o[t])?(c=e.utils.unwrapObservable(c),o[t]()!==c&&o[t](c)):(c=void 0===o[t]?c:e.utils.unwrapObservable(c),o[t]=c),l.mappedProperties[n]=!0}else o[t]=a[t]}))}else switch(t.getType(a)){case"function":T()?e.isWriteableObservable(a)?(a(I(a)),o=a):o=I(a):o=a;break;default:if(e.isWriteableObservable(o)){if(T()){var G=I(o);return o(G),G}G=e.utils.unwrapObservable(a);return o(G),G}var K=k()||T();if(o=k()?S():e.observable(e.utils.unwrapObservable(a)),T()&&o(I(o)),K)return o}return o}function g(e,t,n){for(var r=0,i=e.length;r<i;r++)if(!0!==n[r]&&e[r]===t)return r;return null}function v(n,r){var i;return r&&(i=r(n)),"undefined"===t.getType(i)&&(i=n),e.utils.unwrapObservable(i)}function b(t,n,r){for(var i=0,o=(t=e.utils.unwrapObservable(t)).length;i<o;i++){var a=t[i];if(v(a,r)===n)return a}throw new Error("When calling ko.update*, the key '"+n+"' was not found!")}function y(t,n){return e.utils.arrayMap(e.utils.unwrapObservable(t),(function(e){return n?v(e,n):e}))}function w(e,n){if("array"===t.getType(e))for(var r=0;r<e.length;r++)n(r);else for(var i in e)n(i)}function x(e){var n=t.getType(e);return("object"===n||"array"===n)&&null!==e}function _(){var t=[],n=[];this.save=function(r,i){var o=e.utils.arrayIndexOf(t,r);o>=0?n[o]=i:(t.push(r),n.push(i))},this.get=function(r){var i=e.utils.arrayIndexOf(t,r);return i>=0?n[i]:void 0}}function k(){var e={},t=function(t){var n;try{n=t}catch(e){n="$$$"}var r=e[n];return void 0===r&&(r=new _,e[n]=r),r};this.save=function(e,n){t(e).save(e,n)},this.get=function(e){return t(e).get(e)}}t.isMapped=function(t){var n=e.utils.unwrapObservable(t);return n&&n.__ko_mapping__},t.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{var t,i;o++||(n=[],r=new k),2==arguments.length&&(arguments[1].__ko_mapping__?i=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],i=arguments[2]),i&&(t=f(t,i.__ko_mapping__));var a=m(i,e,t=p(t));if(i&&(a=i),!--o)for(;n.length;){var s=n.pop();s&&(s(),s.__DO.throttleEvaluation=s.throttleEvaluation)}return a.__ko_mapping__=f(a.__ko_mapping__,t),a}catch(e){throw o=0,e}},t.fromJSON=function(n){var r=e.utils.parseJson(n);return arguments[0]=r,t.fromJS.apply(this,arguments)},t.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(n,r){if(c||t.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(c.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(c.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(c.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return r=p(r,n.__ko_mapping__),t.visitModel(n,(function(t){return e.utils.unwrapObservable(t)}),r)},t.toJSON=function(n,r){var i=t.toJS(n,r);return e.utils.stringifyJson(i)},t.defaultOptions=function(){if(!(arguments.length>0))return c;c=arguments[0]},t.resetDefaultOptions=function(){c={include:l.include.slice(0),ignore:l.ignore.slice(0),copy:l.copy.slice(0),observe:l.observe.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(n,r,i){var o;(i=i||{}).visitedObjects=i.visitedObjects||new k;var a=e.utils.unwrapObservable(n);if(!x(a))return r(n,i.parentName);i=p(i,a.__ko_mapping__),r(n,i.parentName),o="array"===t.getType(a)?[]:{},i.visitedObjects.save(n,o);var s=i.parentName;return w(a,(function(n){if(!i.ignore||-1==e.utils.arrayIndexOf(i.ignore,n)){var l=a[n];if(i.parentName=function(e,n,r){var i=e||"";return"array"===t.getType(n)?e&&(i+="["+r+"]"):(e&&(i+="."),i+=r),i}(s,a,n),-1!==e.utils.arrayIndexOf(i.copy,n)||-1!==e.utils.arrayIndexOf(i.include,n)||!a.__ko_mapping__||!a.__ko_mapping__.mappedProperties||a.__ko_mapping__.mappedProperties[n]||!a.__ko_mapping__.copiedProperties||a.__ko_mapping__.copiedProperties[n]||"array"===t.getType(a))switch(t.getType(e.utils.unwrapObservable(l))){case"object":case"array":case"undefined":var c=i.visitedObjects.get(l);o[n]="undefined"!==t.getType(c)?c:t.visitModel(l,r,i);break;default:o[n]=r(l,i.parentName)}}})),o}})),function(e,t){var n={};e.trafficCop=function(t,r){var o,a=t;if(2===arguments.length&&(a=e.extend(!0,r,{url:t})),(o=JSON.stringify(a))in n)for(i in{success:1,error:1,complete:1})n[o][i](a[i]);else n[o]=e.ajax(a).always((function(){delete n[o]}));return n[o]}}(jQuery),function(e,t,n){var r={templates:{},storeTemplate:function(e,t){this.templates[e]=t},getTemplate:function(e){return this.templates[e]},purge:function(){this.templates={}}},i=function(e,t,n){return"<div class='infuser-error'>The template <a href='{TEMPLATEURL}'>{TEMPLATEID}</a> could not be loaded. {STATUS}</div>".replace("{STATUS}",e).replace("{TEMPLATEID}",t).replace("{TEMPLATEURL}",n)},o=[],a=function(e){var t=e.templatePrefix+e.templateId+e.templateSuffix;return e.templateUrl===n||""===e.templateUrl?t:e.templateUrl+"/"+t},s=function(e,t){return function(n){c.store.storeTemplate(e,n),t(c.store.getTemplate(e))}},l=function(t,n,r){return function(a){-1===e.inArray(t,o)&&o.push(t);var s=i("HTTP Status code: "+a.status,t,n);c.store.storeTemplate(t,s),r(c.store.getTemplate(t))}},c={storageOptions:{hash:r,script:{templateIds:[],storeTemplate:function(e,t){var n=document.getElementById(e);null===n&&(this.templateIds.push(e),(n=document.createElement("script")).type="text/html",n.id=e,document.body.appendChild(n)),n.text=t},getTemplate:function(e){return document.getElementById(e)},purge:function(){for(var e=0;e<this.templateIds.length;e++)document.body.removeChild(document.getElementById(this.templateIds[e]));this.templateIds=[]}}},store:r,defaults:{templateUrl:"",templateSuffix:".html",templatePrefix:"",ajax:{async:!0,dataType:"html",type:"GET"},target:function(e){return"#"+e},loadingTemplate:{content:'<div class="infuser-loading"></div>',transitionIn:function(t,n){var r=e(t);r.hide(),r.html(n),r.fadeIn()},transitionOut:function(t){e(t).html("")}},postRender:function(e){},preRender:function(e,t){},render:function(t,n){var r=e(t);0===r.children().length?r.append(e(n)):r.children().replaceWith(e(n))},bindingInstruction:function(e,t){return e},useLoadingTemplate:!0},get:function(t,n){var r,i=e.extend({},c.defaults,"object"==typeof t?t:{templateId:t});i.ajax.url=a(i),(r=c.store.getTemplate(i.ajax.url))&&-1===e.inArray(i.ajax.url,o)?n(r):(i.ajax.success=s(i.ajax.url,n),i.ajax.error=l(i.templateId,i.ajax.url,n),e.trafficCop(i.ajax))},getSync:function(t){var n,r,s=e.extend({},c.defaults,"object"==typeof t?t:{templateId:t},{ajax:{async:!1}});return s.ajax.url=a(s),(n=c.store.getTemplate(s.ajax.url))&&-1===e.inArray(s.ajax.url,o)||(r=null,s.ajax.success=function(e){r=e},s.ajax.error=function(t){-1===e.inArray(s.ajax.url)&&o.push(s.ajax.url),r=i("HTTP Status code: exception.status",s.templateId,s.ajax.url)},e.ajax(s.ajax),null===r?r=i("An unknown error occurred.",s.templateId,s.ajax.url):(c.store.storeTemplate(s.ajax.url,r),n=c.store.getTemplate(s.ajax.url))),n},infuse:function(t,r){var i=e.extend({},c.defaults,"object"==typeof t?t:r,"string"==typeof t?{templateId:t}:n),o="function"==typeof i.target?i.target(t):i.target;i.useLoadingTemplate&&i.loadingTemplate.transitionIn(o,i.loadingTemplate.content),c.get(i,(function(e){var t=e;i.preRender(o,t),t=i.bindingInstruction(t,i.model),i.useLoadingTemplate&&i.loadingTemplate.transitionOut(o),i.render(o,t),i.postRender(o)}))}};t.infuser=c}(jQuery,window),function(e,t,n,r,i){var o=function(e,n){var i,o=this;o.templateId=e,o.loaded=!1,o.template=t.observable(r.defaults.useLoadingTemplate?r.defaults.loadingTemplate.content:undefined),o.template.data={},o.options=n||{},o.options.templateId=e,o.options&&o.options.afterRender&&(i=o.options.afterRender,o.options.afterRender=function(){o.loaded&&i.apply(o.options,arguments)})};t.utils.extend(o.prototype,{data:function(e,t){if(1===arguments.length)return"precompiled"===e&&this.template(),this.template.data[e];this.template.data[e]=t},text:function(e){if(this.loaded||this.getTemplate(),0===arguments.length)return this.template();this.template(arguments[0])},getTemplate:function(){var e=this;r.get(e.options,(function(t){e.data("precompiled",null),e.template(t),e.loaded=!0}))}});var a=function(e){var n=e?new e:new t.nativeTemplateEngine;return n.templates={},n.makeTemplateSource=function(e,r,i){if("string"==typeof e){var a=document.getElementById(e);return a?new t.templateSources.domElement(a):(n.templates[e]||(n.templates[e]=new o(e,i)),n.templates[e])}if(1==e.nodeType||8==e.nodeType)return new t.templateSources.anonymousTemplate(e)},n.renderTemplate=function(e,t,r){var i=n.makeTemplateSource(e,t,r);return n.renderTemplateSource(i,t,r)},n};t.KoExternalTemplateEngine=a,n.tmpl&&n.tmpl.tag.tmpl.open.toString().indexOf("__")>=0?t.setTemplateEngine(new a(t.jqueryTmplTemplateEngine)):t.setTemplateEngine(new a)}(window,ko,jQuery,infuser),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):$.sammy=window.Sammy=e($)}((function(e){var t,n="([^/]+)",r=/:([\w\d]+)/g,i=/\?([^#]*)?$/,o=function(e){return Array.prototype.slice.call(e)},a=function(e){return"[object Function]"===Object.prototype.toString.call(e)},s=function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},c=function(e){return decodeURIComponent((e||"").replace(/\+/g," "))},u=encodeURIComponent,d=function(e){return String(e).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},f=function(e){return function(){return this.route.apply(this,[e].concat(Array.prototype.slice.call(arguments)))}},p={},h=!(!window.history||!history.pushState),m=[];return(t=function(){var n,r,i=o(arguments);return t.apps=t.apps||{},0===i.length||i[0]&&a(i[0])?t.apply(t,["body"].concat(i)):"string"==typeof(r=i.shift())?((n=t.apps[r]||new t.Application).element_selector=r,i.length>0&&e.each(i,(function(e,t){n.use(t)})),n.element_selector!=r&&delete t.apps[r],t.apps[n.element_selector]=n,n):void 0}).VERSION="0.7.4",t.addLogger=function(e){m.push(e)},t.log=function(){var n=o(arguments);n.unshift("["+Date()+"]"),e.each(m,(function(e,r){r.apply(t,n)}))},void 0!==window.console?a(window.console.log.apply)?t.addLogger((function(){window.console.log.apply(window.console,arguments)})):t.addLogger((function(){window.console.log(arguments)})):"undefined"!=typeof console&&t.addLogger((function(){console.log.apply(console,arguments)})),e.extend(t,{makeArray:o,isFunction:a,isArray:s}),t.Object=function(t){return e.extend(this,t||{})},e.extend(t.Object.prototype,{escapeHTML:d,h:d,toHash:function(){var t={};return e.each(this,(function(e,n){a(n)||(t[e]=n)})),t},toHTML:function(){var t="";return e.each(this,(function(e,n){a(n)||(t+="<strong>"+e+"</strong> "+n+"<br />")})),t},keys:function(e){var t=[];for(var n in this)a(this[n])&&e||t.push(n);return t},has:function(t){return this[t]&&""!==e.trim(this[t].toString())},join:function(){var e=o(arguments),t=e.shift();return e.join(t)},log:function(){t.log.apply(t,arguments)},toString:function(t){var n=[];return e.each(this,(function(e,r){a(r)&&!t||n.push('"'+e+'": '+r.toString())})),"Sammy.Object: {"+n.join(",")+"}"}}),t.targetIsThisWindow=function(t){var n=e(t.target).attr("target");return!n||n===window.name||"_self"===n||"_blank"!==n&&("top"===n&&window===window.top)},t.DefaultLocationProxy=function(e,t){this.app=e,this.is_native=!1,this.has_history=h,this._startPolling(t)},t.DefaultLocationProxy.fullPath=function(e){var t=e.toString().match(/^[^#]*(#.+)$/),n=t?t[1]:"";return[e.pathname,e.search,n].join("")},e.extend(t.DefaultLocationProxy.prototype,{bind:function(){var n=this,r=this.app,i=t.DefaultLocationProxy;e(window).bind("hashchange."+this.app.eventNamespace(),(function(e,t){!1!==n.is_native||t||(n.is_native=!0,window.clearInterval(i._interval),i._interval=null),r.trigger("location-changed")})),h&&!r.disable_push_state&&(e(window).bind("popstate."+this.app.eventNamespace(),(function(e){r.trigger("location-changed")})),e(document).delegate("a","click.history-"+this.app.eventNamespace(),(function(e){if(!(e.isDefaultPrevented()||e.metaKey||e.ctrlKey)){var o,a,s=i.fullPath(this);return(this.hostname?this.hostname:(o=this,(a=document.createElement("a")).href=o.href,a.hostname))==window.location.hostname&&r.lookupRoute("get",s)&&t.targetIsThisWindow(e)?(e.preventDefault(),n.setLocation(s),!1):void 0}}))),i._bindings||(i._bindings=0),i._bindings++},unbind:function(){e(window).unbind("hashchange."+this.app.eventNamespace()),e(window).unbind("popstate."+this.app.eventNamespace()),e(document).undelegate("a","click.history-"+this.app.eventNamespace()),t.DefaultLocationProxy._bindings--,t.DefaultLocationProxy._bindings<=0&&(window.clearInterval(t.DefaultLocationProxy._interval),t.DefaultLocationProxy._interval=null)},getLocation:function(){return t.DefaultLocationProxy.fullPath(window.location)},setLocation:function(e){if(/^([^#\/]|$)/.test(e)&&(e=h&&!this.app.disable_push_state?"/"+e:"#!/"+e),e!=this.getLocation()){if(window.location.hash=e,!h||this.app.disable_push_state||!/^\//.test(e))return window.location=e;history.pushState({path:e},window.title,e),this.app.trigger("location-changed")}},_startPolling:function(n){var r=this;if(!t.DefaultLocationProxy._interval){n||(n=10);var i=function(){var n=r.getLocation();void 0!==t.DefaultLocationProxy._last_location&&n==t.DefaultLocationProxy._last_location||window.setTimeout((function(){e(window).trigger("hashchange",[!0])}),0),t.DefaultLocationProxy._last_location=n};i(),t.DefaultLocationProxy._interval=window.setInterval(i,n)}}}),t.Application=function(e){var n=this;this.routes={},this.listeners=new t.Object({}),this.arounds=[],this.befores=[],this.namespace=(new Date).getTime()+"-"+parseInt(1e3*Math.random(),10),this.context_prototype=function(){t.EventContext.apply(this,arguments)},this.context_prototype.prototype=new t.EventContext,a(e)&&e.apply(this,[this]),this._location_proxy||this.setLocationProxy(new t.DefaultLocationProxy(this,this.run_interval_every)),this.debug&&this.bindToAllEvents((function(e,t){n.log(n.toString(),e.cleaned_type,t||{})}))},t.Application.prototype=e.extend({},t.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect","location-changed"],_last_route:null,_location_proxy:null,_running:!1,element_selector:"body",debug:!1,raise_errors:!1,run_interval_every:50,disable_push_state:!1,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(t){return t?e(this.element_selector).find(t):e(this.element_selector)},use:function(){var e=o(arguments),n=e.shift(),r=n||"";try{e.unshift(this),"string"==typeof n&&(r="Sammy."+n,n=t[n]),n.apply(this,e)}catch(e){void 0===n?this.error("Plugin Error: called use() but plugin ("+r.toString()+") is not defined",e):a(n)?this.error("Plugin Error",e):this.error("Plugin Error: called use() but '"+r.toString()+"' is not a function",e)}return this},setLocationProxy:function(e){var t=this._location_proxy;this._location_proxy=e,this.isRunning()&&(t&&t.unbind(),this._location_proxy.bind())},log:function(){t.log.apply(t,Array.prototype.concat.apply([this.element_selector],arguments))},route:function(t,i){var o,s,l=this,c=[],u=Array.prototype.slice.call(arguments,2);if(0===u.length&&a(i)&&(u=[i=t],t="any"),t=t.toLowerCase(),i.constructor==String){for(r.lastIndex=0;null!==(s=r.exec(i));)c.push(s[1]);i=new RegExp(i.replace(r,n)+"$")}return e.each(u,(function(e,t){"string"==typeof t&&(u[e]=l[t])})),o=function(e){var t={verb:e,path:i,callback:u,param_names:c};l.routes[e]=l.routes[e]||[],l.routes[e].push(t)},"any"===t?e.each(this.ROUTE_VERBS,(function(e,t){o(t)})):o(t),this},get:f("get"),post:f("post"),put:f("put"),del:f("delete"),any:f("any"),mapRoutes:function(t){var n=this;return e.each(t,(function(e,t){n.route.apply(n,t)})),this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(e,t,n){var r=this;void 0===n&&(n=t);var i=function(){var e,t,i;e=arguments[0],(i=arguments[1])&&i.context?(t=i.context,delete i.context):t=new r.context_prototype(r,"bind",e.type,i,e.target),e.cleaned_type=e.type.replace(r.eventNamespace(),""),n.apply(t,[e,i])};return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(i),this.isRunning()&&this._listen(e,i),this},trigger:function(e,t){return this.$element().trigger([e,this.eventNamespace()].join("."),[t]),this},refresh:function(){return this.last_location=null,this.trigger("location-changed"),this},before:function(e,t){return a(e)&&(t=e,e={}),this.befores.push([e,t]),this},after:function(e){return this.bind("event-context-after",e)},around:function(e){return this.arounds.push(e),this},onComplete:function(e){return this._onComplete=e,this},isRunning:function(){return this._running},helpers:function(t){return e.extend(this.context_prototype.prototype,t),this},helper:function(e,t){return this.context_prototype.prototype[e]=t,this},run:function(n){if(this.isRunning())return!1;var r=this;return e.each(this.listeners.toHash(),(function(t,n){e.each(n,(function(e,n){r._listen(t,n)}))})),this.trigger("run",{start_url:n}),this._running=!0,this.last_location=null,/\#(.+)/.test(this.getLocation())||void 0===n||this.setLocation(n),this._checkLocation(),this._location_proxy.bind(),this.bind("location-changed",(function(){r._checkLocation()})),this.bind("submit",(function(n){return!t.targetIsThisWindow(n)||!1===r._checkFormSubmission(e(n.target).closest("form"))&&n.preventDefault()})),e(window).bind("unload",(function(){r.unload()})),this.trigger("changed")},unload:function(){if(!this.isRunning())return!1;var t=this;return this.trigger("unload"),this._location_proxy.unbind(),this.$element().unbind("submit").removeClass(t.eventNamespace()),e.each(this.listeners.toHash(),(function(n,r){e.each(r,(function(e,r){t._unlisten(n,r)}))})),this._running=!1,this},destroy:function(){return this.unload(),delete t.apps[this.element_selector],this},bindToAllEvents:function(t){var n=this;return e.each(this.APP_EVENTS,(function(e,r){n.bind(r,t)})),e.each(this.listeners.keys(!0),(function(r,i){-1==e.inArray(i,n.APP_EVENTS)&&n.bind(i,t)})),this},routablePath:function(e){return e.replace(i,"")},lookupRoute:function(e,t){var n,r,i=!1,o=0;if(void 0!==this.routes[e])for(n=this.routes[e].length;o<n;o++)if(r=this.routes[e][o],this.routablePath(t).match(r.path)){i=r;break}return i},runRoute:function(t,n,r,i){var o,a,s,l,u,d,f,p,h=this,m=this.lookupRoute(t,n);if(this.debug&&this.log("runRoute",[t,n].join(" ")),this.trigger("run-route",{verb:t,path:n,params:r}),void 0===r&&(r={}),e.extend(r,this._parseQueryString(n)),m){this.trigger("route-found",{route:m}),null!==(f=m.path.exec(this.routablePath(n)))&&(f.shift(),e.each(f,(function(e,t){m.param_names[e]?r[m.param_names[e]]=c(t):(r.splat||(r.splat=[]),r.splat.push(c(t)))}))),o=new this.context_prototype(this,t,n,r,i),s=this.arounds.slice(0),l=this.befores.slice(0),d=[o],r.splat&&(d=d.concat(r.splat)),a=function(){for(var e,t,n;l.length>0;)if(u=l.shift(),h.contextMatchesOptions(o,u[0])&&!1===(e=u[1].apply(o,[o])))return!1;return h.last_route=m,o.trigger("event-context-before",{context:o}),"function"==typeof m.callback&&(m.callback=[m.callback]),m.callback&&m.callback.length&&(t=-1,n=function(){t++,m.callback[t]?e=m.callback[t].apply(o,d):h._onComplete&&(h._onComplete,1)&&h._onComplete(o)},d.push(n),n()),o.trigger("event-context-after",{context:o}),e},e.each(s.reverse(),(function(e,t){var n=a;a=function(){return t.apply(o,[n])}}));try{p=a()}catch(e){this.error(["500 Error",t,n].join(" "),e)}return p}return this.notFound(t,n)},contextMatchesOptions:function(t,n,r){var i=n;if(("string"==typeof i||l(i))&&(i={path:i}),void 0===r&&(r=!0),e.isEmptyObject(i))return!0;if(s(i.path)){var o,a,c,u;for(o=[],a=0,u=i.path.length;a<u;a+=1)c=e.extend({},i,{path:i.path[a]}),o.push(this.contextMatchesOptions(t,c));var d=e.inArray(!0,o)>-1;return r?d:!d}if(i.only)return this.contextMatchesOptions(t,i.only,!0);if(i.except)return this.contextMatchesOptions(t,i.except,!1);var f=!0,p=!0;return i.path&&(l(i.path)||(i.path=new RegExp(i.path.toString()+"$")),f=i.path.test(t.path)),i.verb&&(p="string"==typeof i.verb?i.verb===t.verb:i.verb.indexOf(t.verb)>-1),r?p&&f:!(p&&f)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(e){return this._location_proxy.setLocation(e)},swap:function(e,t){var n=this.$element().html(e);return a(t)&&t(e),n},templateCache:function(e,t){return void 0!==t?p[e]=t:p[e]},clearTemplateCache:function(){return p={}},notFound:function(e,t){var n=this.error(["404 Not Found",e,t].join(" "));return"get"!==e||n},error:function(e,t){if(t||(t=new Error),t.message=[e,t.message].join(" "),this.trigger("error",{message:t.message,error:t}),this.raise_errors)throw t;this.log(t.message,t)},_checkLocation:function(){var e,t;return e=this.getLocation(),this.last_location&&"get"==this.last_location[0]&&this.last_location[1]==e||(this.last_location=["get",e],t=this.runRoute("get",e)),t},_getFormVerb:function(t){var n,r,i=e(t);return(r=i.find('input[name="_method"]')).length>0&&(n=r.val()),n||(n=i[0].getAttribute("method")),n&&""!==n||(n="get"),e.trim(n.toString().toLowerCase())},_checkFormSubmission:function(t){var n,r,i,o,a;return this.trigger("check-form-submission",{form:t}),r=(n=e(t)).attr("action")||"",i=this._getFormVerb(n),this.debug&&this.log("_checkFormSubmission",n,r,i),"get"===i?(""!==(o=this._serializeFormParams(n))&&(r+="?"+o),this.setLocation(r),a=!1):(o=e.extend({},this._parseFormParams(n)),a=this.runRoute(i,r,o,t.get(0))),void 0!==a&&a},_serializeFormParams:function(e){var t,n="",r=e.serializeArray();if(r.length>0)for(n=this._encodeFormPair(r[0].name,r[0].value),t=1;t<r.length;t++)n=n+"&"+this._encodeFormPair(r[t].name,r[t].value);return n},_encodeFormPair:function(e,t){return u(e)+"="+u(t)},_parseFormParams:function(e){var t,n={},r=e.serializeArray();for(t=0;t<r.length;t++)n=this._parseParamPair(n,r[t].name,r[t].value);return n},_parseQueryString:function(e){var t,n,r,o,a={};if((t=e.match(i))&&t[1])for(n=t[1].split("&"),o=0;o<n.length;o++)r=n[o].split("="),a=this._parseParamPair(a,c(r[0]),c(r[1]||""));return a},_parseParamPair:function(e,t,n){return void 0!==e[t]?s(e[t])?e[t].push(n):e[t]=[e[t],n]:e[t]=n,e},_listen:function(e,t){return this.$element().bind([e,this.eventNamespace()].join("."),t)},_unlisten:function(e,t){return this.$element().unbind([e,this.eventNamespace()].join("."),t)}}),t.RenderContext=function(e){this.event_context=e,this.callbacks=[],this.previous_content=null,this.content=null,this.next_engine=!1,this.waiting=!1},t.RenderContext.prototype=e.extend({},t.Object.prototype,{then:function(e){if(!a(e)){if("string"!=typeof e||!(e in this.event_context))return this;var t=this.event_context[e];e=function(e){return t.apply(this.event_context,[e])}}var n=this;return this.waiting?this.callbacks.push(e):(this.wait(),window.setTimeout((function(){var t=e.apply(n,[n.content,n.previous_content]);!1!==t&&n.next(t)}),0)),this},wait:function(){this.waiting=!0},next:function(e){this.waiting=!1,void 0!==e&&(this.previous_content=this.content,this.content=e),this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(t,n,r){var i=this;return this.then((function(){var o,s,l;return a(n)?(r=n,n={}):n=e.extend({},n),r&&this.then(r),"string"==typeof t?(l=t.match(/\.json$/)||n.json,o=l?!0===n.cache:!1!==n.cache,i.next_engine=i.event_context.engineFor(t),delete n.cache,delete n.json,n.engine&&(i.next_engine=n.engine,delete n.engine),o&&(s=this.event_context.app.templateCache(t))?s:(this.wait(),e.ajax(e.extend({url:t,data:{},dataType:l?"json":"text",type:"get",success:function(e){o&&i.event_context.app.templateCache(t,e),i.next(e)}},n)),!1)):t.nodeType?t.innerHTML:t.selector?(i.next_engine=t.attr("data-engine"),!1===n.clone?t.remove()[0].innerHTML.toString():t[0].innerHTML.toString()):void 0}))},loadPartials:function(e){var t;if(e)for(t in this.partials=this.partials||{},e)!function(t,n){t.load(e[n]).then((function(e){this.partials[n]=e}))}(this,t);return this},render:function(e,t,n,r){return a(e)&&!t?this.then(e):(a(t)?(r=n,n=t,t=null):n&&!a(n)&&(r=n,n=null),this.loadPartials(r).load(e).interpolate(t,e).then(n))},partial:function(e,t,n,r){return a(n)?this.render(e,t,r).swap(n):a(t)?this.render(e,{},n).swap(t):this.render(e,t,n).swap()},send:function(){var e=this,t=o(arguments),n=t.shift();return s(t[0])&&(t=t[0]),this.then((function(r){return t.push((function(t){e.next(t)})),e.wait(),n.apply(n,t),!1}))},collect:function(t,n,r){var i=this,o=function(){a(t)&&(n=t,t=this.content);var r=[],o=!1;return e.each(t,(function(e,t){var a=n.apply(i,[e,t]);return a.jquery&&1==a.length&&(a=a[0],o=!0),r.push(a),a})),o?r:r.join("")};return r?o():this.then(o)},renderEach:function(t,n,r,i){return s(n)&&(i=r,r=n,n=null),this.load(t).then((function(o){var a=this;if(r||(r=s(this.previous_content)?this.previous_content:[]),!i)return this.collect(r,(function(e,r){var i={},a=this.next_engine||t;return n?i[n]=r:i=r,this.event_context.interpolate(o,i,a)}),!0);e.each(r,(function(e,r){var s={},l=this.next_engine||t;n?s[n]=r:s=r,i(r,a.event_context.interpolate(o,s,l))}))}))},interpolate:function(e,t,n){var r=this;return this.then((function(i,o){!e&&o&&(e=o),this.next_engine&&(t=this.next_engine,this.next_engine=!1);var a=r.event_context.interpolate(i,e,t,this.partials);return n?o+a:a}))},swap:function(e){return this.then((function(t){return this.event_context.swap(t,e),t})).trigger("changed",{})},appendTo:function(t){return this.then((function(n){e(t).append(n)})).trigger("changed",{})},prependTo:function(t){return this.then((function(n){e(t).prepend(n)})).trigger("changed",{})},replace:function(t){return this.then((function(n){e(t).html(n)})).trigger("changed",{})},trigger:function(e,t){return this.then((function(n){return void 0===t&&(t={content:n}),this.event_context.trigger(e,t),n}))}}),t.EventContext=function(e,n,r,i,o){this.app=e,this.verb=n,this.path=r,this.params=new t.Object(i),this.target=o},t.EventContext.prototype=e.extend({},t.Object.prototype,{$element:function(){return this.app.$element(o(arguments).shift())},engineFor:function(e){var t,n=this;return a(e)?e:((t=(e=(e||n.app.template_engine).toString()).match(/\.([^\.\?\#]+)$/))&&(e=t[1]),e&&a(n[e])?n[e]:n.app.template_engine?this.engineFor(n.app.template_engine):function(e,t){return e})},interpolate:function(e,t,n,r){return this.engineFor(n).apply(this,[e,t,r])},render:function(e,n,r,i){return new t.RenderContext(this).render(e,n,r,i)},renderEach:function(e,n,r,i){return new t.RenderContext(this).renderEach(e,n,r,i)},load:function(e,n,r){return new t.RenderContext(this).load(e,n,r)},loadPartials:function(e){return new t.RenderContext(this).loadPartials(e)},partial:function(e,n,r,i){return new t.RenderContext(this).partial(e,n,r,i)},send:function(){var e=new t.RenderContext(this);return e.send.apply(e,arguments)},redirect:function(){var t,n=o(arguments),r=this.app.getLocation(),i=n.length;if(i>1){for(var a=0,s=[],l=[],c={},u=!1;a<i;a++)"string"==typeof n[a]?s.push(n[a]):(e.extend(c,n[a]),u=!0);if(t=s.join("/"),u){for(var d in c)l.push(this.app._encodeFormPair(d,c[d]));t+="?"+l.join("&")}}else t=n[0];this.trigger("redirect",{to:t}),this.app.last_location=[this.verb,this.path],this.app.setLocation(t),new RegExp(t).test(r)&&this.app.trigger("location-changed")},trigger:function(e,t){return void 0===t&&(t={}),t.context||(t.context=this),this.app.trigger(e,t)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(e,t){return this.app.swap(e,t)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(t){return e.parseJSON(t)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}}),t})),
/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */
function(e,t){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(e){}module.exports=t(n)}else"function"==typeof define&&define.amd?define((function(e){try{n=e("moment")}catch(e){}return t(n)})):e.Pikaday=t(e.moment)}(this,(function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,r=window.document,i=window.setTimeout,o=function(e,t,r,i){n?e.addEventListener(t,r,!!i):e.attachEvent("on"+t,r)},a=function(e,t,r,i){n?e.removeEventListener(t,r,!!i):e.detachEvent("on"+t,r)},s=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},l=function(e,t){s(e,t)||(e.className=""===e.className?t:e.className+" "+t)},c=function(e,t){var n;e.className=(n=(" "+e.className+" ").replace(" "+t+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,"")},u=function(e){return/Array/.test(Object.prototype.toString.call(e))},d=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},f=function(e){var t=e.getDay();return 0===t||6===t},p=function(e){return e%4==0&&e%100!=0||e%400==0},h=function(e,t){return[31,p(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},m=function(e){d(e)&&e.setHours(0,0,0,0)},g=function(e,t){return e.getTime()===t.getTime()},v=function(e,t,n){var r,i;for(r in t)(i=void 0!==e[r])&&"object"==typeof t[r]&&null!==t[r]&&void 0===t[r].nodeName?d(t[r])?n&&(e[r]=new Date(t[r].getTime())):u(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=v({},t[r],n):!n&&i||(e[r]=t[r]);return e},b=function(e,t,n){var i;r.createEvent?((i=r.createEvent("HTMLEvents")).initEvent(t,!0,!1),i=v(i,n),e.dispatchEvent(i)):r.createEventObject&&(i=r.createEventObject(),i=v(i,n),e.fireEvent("on"+t,i))},y=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},w={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},x=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},_=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},k=function(n,r,i,o){var a=new Date(i,r,n);return'<td class="pika-week">'+(t?e(a).isoWeek():function(e,t){e.setHours(0,0,0,0);var n=e.getDate(),r=e.getDay(),i=t,o=i-1,a=function(e){return(e+7-1)%7};e.setDate(n+o-a(r));var s=new Date(e.getFullYear(),0,i),l=(e.getTime()-s.getTime())/864e5;return 1+Math.round((l-o+a(s.getDay()))/7)}(a,o))+"</td>"},S=function(e,t,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},T=function(e,t,n,r,i,o){var a,s,l,c,d,f=e._o,p=n===f.minYear,h=n===f.maxYear,m='<div id="'+o+'" class="pika-title" role="heading" aria-live="assertive">',g=!0,v=!0;for(l=[],a=0;a<12;a++)l.push('<option value="'+(n===i?a-t:12+a-t)+'"'+(a===r?' selected="selected"':"")+(p&&a<f.minMonth||h&&a>f.maxMonth?' disabled="disabled"':"")+">"+f.i18n.months[a]+"</option>");for(c='<div class="pika-label">'+f.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",u(f.yearRange)?(a=f.yearRange[0],s=f.yearRange[1]+1):(a=n-f.yearRange,s=1+n+f.yearRange),l=[];a<s&&a<=f.maxYear;a++)a>=f.minYear&&l.push('<option value="'+a+'"'+(a===n?' selected="selected"':"")+">"+a+"</option>");return d='<div class="pika-label">'+n+f.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",f.showMonthAfterYear?m+=d+c:m+=c+d,p&&(0===r||f.minMonth>=r)&&(g=!1),h&&(11===r||f.maxMonth<=r)&&(v=!1),0===t&&(m+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+f.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+f.i18n.nextMonth+"</button>"),m+"</div>"},I=function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+x(e,t)+'">'+x(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}(e)+("<tbody>"+t.join("")+"</tbody></table>")},E=function(a){var l=this,c=l.config(a);l._onMouseDown=function(e){if(l._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(s(t,"is-disabled")||(!s(t,"pika-button")||s(t,"is-empty")||s(t.parentNode,"is-disabled")?s(t,"pika-prev")?l.prevMonth():s(t,"pika-next")&&l.nextMonth():(l.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),c.bound&&i((function(){l.hide(),c.blurFieldOnSelect&&c.field&&c.field.blur()}),100))),s(t,"pika-select"))l._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},l._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(s(t,"pika-select-month")?l.gotoMonth(t.value):s(t,"pika-select-year")&&l.gotoYear(t.value))},l._onKeyChange=function(e){if(e=e||window.event,l.isVisible())switch(e.keyCode){case 13:case 27:c.field&&c.field.blur();break;case 37:l.adjustDate("subtract",1);break;case 38:l.adjustDate("subtract",7);break;case 39:l.adjustDate("add",1);break;case 40:l.adjustDate("add",7);break;case 8:case 46:l.setDate(null)}},l._parseFieldValue=function(){if(c.parse)return c.parse(c.field.value,c.format);if(t){var n=e(c.field.value,c.format,c.formatStrict);return n&&n.isValid()?n.toDate():null}return new Date(Date.parse(c.field.value))},l._onInputChange=function(e){var t;e.firedBy!==l&&(t=l._parseFieldValue(),d(t)&&l.setDate(t),l._v||l.show())},l._onInputFocus=function(){l.show()},l._onInputClick=function(){l.show()},l._onInputBlur=function(){var e=r.activeElement;do{if(s(e,"pika-single"))return}while(e=e.parentNode);l._c||(l._b=i((function(){l.hide()}),50)),l._c=!1},l._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,r=t;if(t){!n&&s(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",l._onChange)));do{if(s(r,"pika-single")||r===c.trigger)return}while(r=r.parentNode);l._v&&t!==c.trigger&&r!==c.trigger&&l.hide()}},l.el=r.createElement("div"),l.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:""),o(l.el,"mousedown",l._onMouseDown,!0),o(l.el,"touchend",l._onMouseDown,!0),o(l.el,"change",l._onChange),c.keyboardInput&&o(r,"keydown",l._onKeyChange),c.field&&(c.container?c.container.appendChild(l.el):c.bound?r.body.appendChild(l.el):c.field.parentNode.insertBefore(l.el,c.field.nextSibling),o(c.field,"change",l._onInputChange),c.defaultDate||(c.defaultDate=l._parseFieldValue(),c.setDefaultDate=!0));var u=c.defaultDate;d(u)?c.setDefaultDate?l.setDate(u,!0):l.gotoDate(u):l.gotoDate(new Date),c.bound?(this.hide(),l.el.className+=" is-bound",o(c.trigger,"click",l._onInputClick),o(c.trigger,"focus",l._onInputFocus),o(c.trigger,"blur",l._onInputBlur)):this.show()};return E.prototype={config:function(e){this._o||(this._o=v({},w,!0));var t=v(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,d(t.minDate)||(t.minDate=!1),d(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),u(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r,t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||w.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return n=n||this._o.format,d(this._d)?this._o.toString?this._o.toString(this._d,n):t?e(this._d).format(n):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,r){t&&e.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return d(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",b(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),d(e)){var n=this._o.minDate,r=this._o.maxDate;d(n)&&e<n?e=n:d(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),m(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),b(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(e){var t=!0;if(d(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=i<n.getTime()||r.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){var n,r=this.getDate()||new Date,i=24*parseInt(t)*60*60*1e3;"add"===e?n=new Date(r.valueOf()+i):"subtract"===e&&(n=new Date(r.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=y(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=y({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(m(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=w.minDate,this._o.minYear=w.minYear,this._o.minMonth=w.minMonth,this._o.startRange=w.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(m(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=w.maxDate,this._o.maxYear=w.maxYear,this._o.maxMonth=w.maxMonth,this._o.endRange=w.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,r=n.minYear,o=n.maxYear,a=n.minMonth,s=n.maxMonth,l="";this._y<=r&&(this._y=r,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=o&&(this._y=o,!isNaN(s)&&this._m>s&&(this._m=s));for(var c=0;c<n.numberOfMonths;c++)t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),l+='<div class="pika-lendar">'+T(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&i((function(){n.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)}},adjustPosition:function(){var e,t,n,i,o,a,s,u,d,f,p,h;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,n=this.el.offsetWidth,i=this.el.offsetHeight,o=window.innerWidth||r.documentElement.clientWidth,a=window.innerHeight||r.documentElement.clientHeight,s=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,p=!0,h=!0,"function"==typeof e.getBoundingClientRect)u=(f=e.getBoundingClientRect()).left+window.pageXOffset,d=f.bottom+window.pageYOffset;else for(u=t.offsetLeft,d=t.offsetTop+t.offsetHeight;t=t.offsetParent;)u+=t.offsetLeft,d+=t.offsetTop;(this._o.reposition&&u+n>o||this._o.position.indexOf("right")>-1&&u-n+e.offsetWidth>0)&&(u=u-n+e.offsetWidth,p=!1),(this._o.reposition&&d+i>a+s||this._o.position.indexOf("top")>-1&&d-i-e.offsetHeight>0)&&(d=d-i-e.offsetHeight,h=!1),this.el.style.left=u+"px",this.el.style.top=d+"px",l(this.el,p?"left-aligned":"right-aligned"),l(this.el,h?"bottom-aligned":"top-aligned"),c(this.el,p?"right-aligned":"left-aligned"),c(this.el,h?"top-aligned":"bottom-aligned")}},render:function(e,t,n){var r=this._o,i=new Date,o=h(e,t),a=new Date(e,t,1).getDay(),s=[],l=[];m(i),r.firstDay>0&&(a-=r.firstDay)<0&&(a+=7);for(var c=0===t?11:t-1,u=11===t?0:t+1,p=0===t?e-1:e,v=11===t?e+1:e,b=h(p,c),y=o+a,w=y;w>7;)w-=7;y+=7-w;for(var x=!1,T=0,E=0;T<y;T++){var C=new Date(e,t,T-a+1),O=!!d(this._d)&&g(C,this._d),M=g(C,i),D=-1!==r.events.indexOf(C.toDateString()),P=T<a||T>=o+a,A=T-a+1,N=t,R=e,H=r.startRange&&g(r.startRange,C),L=r.endRange&&g(r.endRange,C),j=r.startRange&&r.endRange&&r.startRange<C&&C<r.endRange;P&&(T<a?(A=b+A,N=c,R=p):(A-=o,N=u,R=v));var F={day:A,month:N,year:R,hasEvent:D,isSelected:O,isToday:M,isDisabled:r.minDate&&C<r.minDate||r.maxDate&&C>r.maxDate||r.disableWeekends&&f(C)||r.disableDayFn&&r.disableDayFn(C),isEmpty:P,isStartRange:H,isEndRange:L,isInRange:j,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&O&&(x=!0),l.push(_(F)),7==++E&&(r.showWeekNumber&&l.unshift(k(T-a,t,e,r.firstWeekOfYearMinDays)),s.push(S(l,r.isRTL,r.pickWholeWeek,x)),l=[],E=0,x=!1)}return I(r,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),c(this.el,"is-hidden"),this._o.bound&&(o(r,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&a(r,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),l(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var e=this._o;this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"touchend",this._onMouseDown,!0),a(this.el,"change",this._onChange),e.keyboardInput&&a(r,"keydown",this._onKeyChange),e.field&&(a(e.field,"change",this._onInputChange),e.bound&&(a(e.trigger,"click",this._onInputClick),a(e.trigger,"focus",this._onInputFocus),a(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},E})),
/*!
 * FullCalendar v2.3.0
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):e(jQuery,moment)}((function(e,t){var n=e.fullCalendar={version:"2.3.0"},r=n.views={};e.fn.fullCalendar=function(t){var r=Array.prototype.slice.call(arguments,1),i=this;return this.each((function(o,a){var s,l=e(a),c=l.data("fullCalendar");"string"==typeof t?c&&e.isFunction(c[t])&&(s=c[t].apply(c,r),o||(i=s),"destroy"===t&&l.removeData("fullCalendar")):c||(c=new n.CalendarBase(l,t),l.data("fullCalendar",c),c.render())})),i};var i=["header","buttonText","buttonIcons","themeButtonIcons"];function o(){var t,n,r,o,a,s=Array.prototype.slice.call(arguments),l={};for(t=0;t<i.length;t++){for(n=i[t],r=null,o=0;o<s.length;o++)a=s[o][n],e.isPlainObject(a)?r=e.extend(r||{},a):null!=a&&(r=null);null!==r&&(l[n]=r)}return s.unshift({}),s.push(l),e.extend.apply(e,s)}function a(e,t){t.left&&e.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&e.css({"border-right-width":1,"margin-right":t.right-1})}function s(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function l(){e("body").addClass("fc-not-allowed")}function c(){e("body").removeClass("fc-not-allowed")}function u(t,n,r){var i=Math.floor(n/t.length),o=Math.floor(n-i*(t.length-1)),a=[],s=[],l=[],c=0;d(t),t.each((function(n,r){var u=n===t.length-1?o:i,d=e(r).outerHeight(!0);d<u?(a.push(r),s.push(d),l.push(e(r).height())):c+=d})),r&&(n-=c,i=Math.floor(n/a.length),o=Math.floor(n-i*(a.length-1))),e(a).each((function(t,n){var r=t===a.length-1?o:i,c=s[t],u=r-(c-l[t]);c<r&&e(n).height(u)}))}function d(e){e.height("")}function f(t){var n=0;return t.find("> *").each((function(t,r){var i=e(r).outerWidth();i>n&&(n=i)})),n++,t.width(n),n}function p(e,t){return e.height(t).addClass("fc-scroller"),e[0].scrollHeight-1>e[0].clientHeight||(h(e),!1)}function h(e){e.height("").removeClass("fc-scroller")}function m(t){var n=t.css("position"),r=t.parents().filter((function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&r.length?r:e(t[0].ownerDocument||document)}function g(e){var t=e.offset();return{left:t.left,right:t.left+e.outerWidth(),top:t.top,bottom:t.top+e.outerHeight()}}function v(e){var t=e.offset(),n=b(e),r=t.left+w(e,"border-left-width")+n.left,i=t.top+w(e,"border-top-width")+n.top;return{left:r,right:r+e[0].clientWidth,top:i,bottom:i+e[0].clientHeight}}function b(t){var n=t.innerWidth()-t[0].clientWidth,r={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return!function(){null===y&&(y=function(){var t=e("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=t.children().offset().left>t.offset().left;return t.remove(),n}());return y}()||"rtl"!=t.css("direction")?r.right=n:r.left=n,r}n.intersectionToSeg=I,n.applyAll=F,n.debounce=q,n.isInt=z,n.htmlEscape=V,n.cssToStr=$,n.proxy=Y,n.getClientRect=v,n.getContentRect=function(e){var t=e.offset(),n=t.left+w(e,"border-left-width")+w(e,"padding-left"),r=t.top+w(e,"border-top-width")+w(e,"padding-top");return{left:n,right:n+e.width(),top:r,bottom:r+e.height()}},n.getScrollbarWidths=b;var y=null;function w(e,t){return parseFloat(e.css(t))||0}function x(e){return 1==e.which&&!e.ctrlKey}function _(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function k(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function S(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function T(e,t){return{left:e.left-t.left,top:e.top-t.top}}function I(e,t){var n,r,i,o,a=e.start,s=e.end,l=t.start,c=t.end;if(s>l&&a<c)return a>=l?(n=a.clone(),i=!0):(n=l.clone(),i=!1),s<=c?(r=s.clone(),o=!0):(r=c.clone(),o=!1),{start:n,end:r,isStart:i,isEnd:o}}n.computeIntervalUnit=D,n.durationHasTime=A;var E=["sun","mon","tue","wed","thu","fri","sat"],C=["year","month","week","day","hour","minute","second","millisecond"];function O(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function M(e,n,r){return t.duration(Math.round(e.diff(n,r,!0)),r)}function D(e,t){var n,r,i;for(n=0;n<C.length&&!((i=P(r=C[n],e,t))>=1&&z(i));n++);return r}function P(e,n,r){return null!=r?r.diff(n,e,!0):t.isDuration(n)?n.as(e):n.end.diff(n.start,e,!0)}function A(e){return Boolean(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function N(e){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}var R={}.hasOwnProperty;function H(e){var t=function(){};return t.prototype=e,new t}function L(e,t){for(var n in e)j(e,n)&&(t[n]=e[n])}function j(e,t){return R.call(e,t)}function F(t,n,r){if(e.isFunction(t)&&(t=[t]),t){var i,o;for(i=0;i<t.length;i++)o=t[i].apply(n,r)||o;return o}}function U(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function V(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function W(e){return e.replace(/&.*?;/g,"")}function $(t){var n=[];return e.each(t,(function(e,t){null!=t&&n.push(e+":"+t)})),n.join(";")}function B(e,t){return e-t}function z(e){return e%1==0}function Y(e,t){var n=e[t];return function(){return n.apply(e,arguments)}}function q(e,t){var n,r,i,o,a=function(){var s=+new Date-o;s<t&&s>0?n=setTimeout(a,t-s):(n=null,e.apply(i,r),n||(i=r=null))};return function(){i=this,r=arguments,o=+new Date,n||(n=setTimeout(a,t))}}var G,K,J,X=/^\s*\d{4}-\d\d$/,Q=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Z=t.fn,ee=e.extend({},Z);function te(n,r,i){var o,a,s,l,c=n[0],u=1==n.length&&"string"==typeof c;return t.isMoment(c)?re(c,l=t.apply(null,n)):!function(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}(c)&&void 0!==c?(o=!1,a=!1,u?X.test(c)?(n=[c+="-01"],o=!0,a=!0):(s=Q.exec(c))&&(o=!s[5],a=!0):e.isArray(c)&&(a=!0),l=r||o?t.utc.apply(t,n):t.apply(null,n),o?(l._ambigTime=!0,l._ambigZone=!0):i&&(a?l._ambigZone=!0:u&&(l.utcOffset?l.utcOffset(c):l.zone(c)))):l=t.apply(null,n),l._fullCalendar=!0,l}function ne(e,r){var i,o,a=!1,s=!1,l=e.length,c=[];for(i=0;i<l;i++)o=e[i],t.isMoment(o)||(o=n.moment.parseZone(o)),a=a||o._ambigTime,s=s||o._ambigZone,c.push(o);for(i=0;i<l;i++)o=c[i],r||!a||o._ambigTime?s&&!o._ambigZone&&(c[i]=o.clone().stripZone()):c[i]=o.clone().stripTime();return c}function re(e,t){e._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1),e._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function ie(e,t){e.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function oe(e,t){return ee.format.call(e,t)}function ae(e,t){return se(e,he(t))}function se(e,t){var n,r="";for(n=0;n<t.length;n++)r+=ce(e,t[n]);return r}n.moment=function(){return te(arguments)},n.moment.utc=function(){var e=te(arguments,!0);return e.hasTime()&&e.utc(),e},n.moment.parseZone=function(){return te(arguments,!0,!0)},Z.clone=function(){var e=ee.clone.apply(this,arguments);return re(this,e),this._fullCalendar&&(e._fullCalendar=!0),e},Z.week=Z.weeks=function(e){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return null==e&&"function"==typeof t?t(this):"ISO"===t?ee.isoWeek.apply(this,arguments):ee.week.apply(this,arguments)},Z.time=function(e){if(!this._fullCalendar)return ee.time.apply(this,arguments);if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var n=0;return t.isDuration(e)&&(n=24*Math.floor(e.asDays())),this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},Z.stripTime=function(){var e;return this._ambigTime||(e=this.toArray(),this.utc(),K(this,e.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Z.hasTime=function(){return!this._ambigTime},Z.stripZone=function(){var e,t;return this._ambigZone||(e=this.toArray(),t=this._ambigTime,this.utc(),K(this,e),this._ambigTime=t||!1,this._ambigZone=!0),this},Z.hasZone=function(){return!this._ambigZone},Z.local=function(){var e=this.toArray(),t=this._ambigZone;return ee.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&J(this,e),this},Z.utc=function(){return ee.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},e.each(["zone","utcOffset"],(function(e,t){ee[t]&&(Z[t]=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),ee[t].apply(this,arguments)})})),Z.format=function(){return this._fullCalendar&&arguments[0]?ae(this,arguments[0]):this._ambigTime?oe(this,"YYYY-MM-DD"):this._ambigZone?oe(this,"YYYY-MM-DD[T]HH:mm:ss"):ee.format.apply(this,arguments)},Z.toISOString=function(){return this._ambigTime?oe(this,"YYYY-MM-DD"):this._ambigZone?oe(this,"YYYY-MM-DD[T]HH:mm:ss"):ee.toISOString.apply(this,arguments)},Z.isWithin=function(e,t){var n=ne([this,e,t]);return n[0]>=n[1]&&n[0]<n[2]},Z.isSame=function(e,t){var r;return this._fullCalendar?t?(r=ne([this,e],!0),ee.isSame.call(r[0],r[1],t)):(e=n.moment.parseZone(e),ee.isSame.call(this,e)&&Boolean(this._ambigTime)===Boolean(e._ambigTime)&&Boolean(this._ambigZone)===Boolean(e._ambigZone)):ee.isSame.apply(this,arguments)},e.each(["isBefore","isAfter"],(function(e,t){Z[t]=function(e,n){var r;return this._fullCalendar?(r=ne([this,e]),ee[t].call(r[0],r[1],n)):ee[t].apply(this,arguments)}})),G="_d"in t()&&"updateOffset"in t,K=G?function(e,n){e._d.setTime(Date.UTC.apply(Date,n)),t.updateOffset(e,!1)}:ie,J=G?function(e,n){e._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),t.updateOffset(e,!1)}:ie;var le={t:function(e){return oe(e,"a").charAt(0)},T:function(e){return oe(e,"A").charAt(0)}};function ce(e,t){var n,r;return"string"==typeof t?t:(n=t.token)?le[n]?le[n](e):oe(e,n):t.maybe&&(r=se(e,t.maybe)).match(/[1-9]/)?r:""}function ue(e,t,r,i,o){return i=i||" - ",function(e,t,n,r,i){var o,a,s,l,c="",u="",d="",f="",p="";for(a=0;a<n.length&&!1!==(o=fe(e,t,n[a]));a++)c+=o;for(s=n.length-1;s>a&&!1!==(o=fe(e,t,n[s]));s--)u=o+u;for(l=a;l<=s;l++)d+=ce(e,n[l]),f+=ce(t,n[l]);(d||f)&&(p=i?f+r+d:d+r+f);return c+p+u}(e=n.moment.parseZone(e),t=n.moment.parseZone(t),he(r=(e.localeData||e.lang).call(e).longDateFormat(r)||r),i,o)}n.formatRange=ue;var de={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};function fe(e,t,n){var r,i;return"string"==typeof n?n:!!((r=n.token)&&(i=de[r.charAt(0)])&&e.isSame(t,i))&&oe(e,r)}var pe={};function he(e){return e in pe?pe[e]:pe[e]=me(e)}function me(e){for(var t,n=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=r.exec(e);)t[1]?n.push(t[1]):t[2]?n.push({maybe:me(t[2])}):t[3]?n.push({token:t[3]}):t[5]&&n.push(t[5]);return n}function ge(){}n.Class=ge,ge.extend=function(e){var t,n=this;return j(e=e||{},"constructor")&&(t=e.constructor),"function"!=typeof t&&(t=e.constructor=function(){n.apply(this,arguments)}),t.prototype=H(n.prototype),L(e,t.prototype),function(e,t){var n,r,i=["constructor","toString","valueOf"];for(n=0;n<i.length;n++)e[r=i[n]]!==Object.prototype[r]&&(t[r]=e[r])}(e,t.prototype),L(n,t),t},ge.mixin=function(e){L(e.prototype||e,this.prototype)};var ve=ge.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,n=this.options;this.el=e('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",(function(){t.hide()})),n.autoHide&&e(document).on("mousedown",this.documentMousedownProxy=Y(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!e(t.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),e(document).off("mousedown",this.documentMousedownProxy)},position:function(){var t,n,r,i,o,a=this.options,s=this.el.offsetParent().offset(),l=this.el.outerWidth(),c=this.el.outerHeight(),u=e(window),d=m(this.el);i=a.top||0,o=void 0!==a.left?a.left:void 0!==a.right?a.right-l:0,d.is(window)||d.is(document)?(d=u,t=0,n=0):(t=(r=d.offset()).top,n=r.left),t+=u.scrollTop(),n+=u.scrollLeft(),!1!==a.viewportConstrain&&(i=Math.min(i,t+d.outerHeight()-c-this.margin),i=Math.max(i,t+this.margin),o=Math.min(o,n+d.outerWidth()-l-this.margin),o=Math.max(o,n+this.margin)),this.el.css({top:i-s.top,left:o-s.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),be=ge.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(e){this.grid=e},build:function(){this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.rowCoords=null,this.colCoords=null},getCell:function(t,n){var r,i,o,a=this.rowCoords,s=a.length,l=this.colCoords,c=l.length,u=null,d=null;if(this.inBounds(t,n)){for(r=0;r<s;r++)if(n>=(i=a[r]).top&&n<i.bottom){u=r;break}for(r=0;r<c;r++)if(t>=(i=l[r]).left&&t<i.right){d=r;break}if(null!==u&&null!==d)return(o=this.grid.getCell(u,d)).grid=this.grid,e.extend(o,a[u],l[d]),o}return null},computeBounds:function(){this.bounds=this.containerEl?v(this.containerEl):null},inBounds:function(e,t){var n=this.bounds;return!n||e>=n.left&&e<n.right&&t>=n.top&&t<n.bottom}}),ye=ge.extend({coordMaps:null,constructor:function(e){this.coordMaps=e},build:function(){var e,t=this.coordMaps;for(e=0;e<t.length;e++)t[e].build()},getCell:function(e,t){var n,r=this.coordMaps,i=null;for(n=0;n<r.length&&!i;n++)i=r[n].getCell(e,t);return i},clear:function(){var e,t=this.coordMaps;for(e=0;e<t.length;e++)t[e].clear()}}),we=n.DragListener=ge.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(e){e=e||{},this.options=e,this.subjectEl=e.subjectEl},mousedown:function(e){x(e)&&(e.preventDefault(),this.startListening(e),this.options.distance||this.startDrag(e))},startListening:function(t){var n;this.isListening||(t&&this.options.scroll&&((n=m(e(t.target))).is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=q(Y(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),e(document).on("mousemove",this.mousemoveProxy=Y(this,"mousemove")).on("mouseup",this.mouseupProxy=Y(this,"mouseup")).on("selectstart",this.preventDefault),t?(this.originX=t.pageX,this.originY=t.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(t))},listenStart:function(e){this.trigger("listenStart",e)},mousemove:function(e){var t,n=e.pageX-this.originX,r=e.pageY-this.originY;this.isDragging||n*n+r*r>=(t=this.options.distance||1)*t&&this.startDrag(e),this.isDragging&&this.drag(n,r,e)},startDrag:function(e){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(e))},dragStart:function(e){var t=this.subjectEl;this.trigger("dragStart",e),(this.subjectHref=t?t.attr("href"):null)&&t.removeAttr("href")},drag:function(e,t,n){this.trigger("drag",e,t,n),this.updateScroll(n)},mouseup:function(e){this.stopListening(e)},stopDrag:function(e){this.isDragging&&(this.stopScrolling(),this.dragStop(e),this.isDragging=!1)},dragStop:function(e){var t=this;this.trigger("dragStop",e),setTimeout((function(){t.subjectHref&&t.subjectEl.attr("href",t.subjectHref)}),0)},stopListening:function(t){this.stopDrag(t),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),e(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(t))},listenStop:function(e){this.trigger("listenStop",e)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(e){e.preventDefault()},computeScrollBounds:function(){var e=this.scrollEl;this.scrollBounds=e?g(e):null},updateScroll:function(e){var t,n,r,i,o=this.scrollSensitivity,a=this.scrollBounds,s=0,l=0;a&&(t=(o-(e.pageY-a.top))/o,n=(o-(a.bottom-e.pageY))/o,r=(o-(e.pageX-a.left))/o,i=(o-(a.right-e.pageX))/o,t>=0&&t<=1?s=t*this.scrollSpeed*-1:n>=0&&n<=1&&(s=n*this.scrollSpeed),r>=0&&r<=1?l=r*this.scrollSpeed*-1:i>=0&&i<=1&&(l=i*this.scrollSpeed)),this.setScrollVel(s,l)},setScrollVel:function(e,t){this.scrollTopVel=e,this.scrollLeftVel=t,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(Y(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var e=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),xe=we.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(e,t){we.prototype.constructor.call(this,t),this.coordMap=e},listenStart:function(e){var t,n,r,i=this.subjectEl;we.prototype.listenStart.apply(this,arguments),this.computeCoords(),e?(r=n={left:e.pageX,top:e.pageY},i&&(r=k(r,t=g(i))),this.origCell=this.getCell(r.left,r.top),i&&this.options.subjectCenter&&(this.origCell&&(t=_(this.origCell,t)||t),r=S(t)),this.coordAdjust=T(r,n)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(e){var t;we.prototype.dragStart.apply(this,arguments),(t=this.getCell(e.pageX,e.pageY))&&this.cellOver(t)},drag:function(e,t,n){var r;we.prototype.drag.apply(this,arguments),_e(r=this.getCell(n.pageX,n.pageY),this.cell)||(this.cell&&this.cellOut(),r&&this.cellOver(r))},dragStop:function(){this.cellDone(),we.prototype.dragStop.apply(this,arguments)},cellOver:function(e){this.cell=e,this.trigger("cellOver",e,_e(e,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){we.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){we.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(e,t){return this.coordAdjust&&(e+=this.coordAdjust.left,t+=this.coordAdjust.top),this.coordMap.getCell(e,t)}});function _e(e,t){return!e&&!t||!(!e||!t)&&(e.grid===t.grid&&e.row===t.row&&e.col===t.col)}var ke=ge.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,n){this.options=n=n||{},this.sourceEl=t,this.parentEl=n.parentEl?e(n.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.mouseY0=t.pageY,this.mouseX0=t.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),e(document).on("mousemove",this.mousemoveProxy=Y(this,"mousemove")))},stop:function(t,n){var r=this,i=this.options.revertDuration;function o(){this.isAnimating=!1,r.destroyEl(),this.top0=this.left0=null,n&&n()}this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,e(document).off("mousemove",this.mousemoveProxy),t&&i&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:i,complete:o})):o())},getEl:function(){var e=this.el;return e||(this.sourceEl.width(),e=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),e},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var e,t;this.getEl(),null===this.top0&&(this.sourceEl.width(),e=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=e.top-t.top,this.left0=e.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(e){this.topDelta=e.pageY-this.mouseY0,this.leftDelta=e.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),Se=ge.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL")},rowHtml:function(e,t){var n,r=this.getHtmlRenderer("cell",e),i="";for(t=t||0,n=0;n<this.colCnt;n++)i+=r(this.getCell(t,n));return"<tr>"+(i=this.bookendCells(i,e,t))+"</tr>"},bookendCells:function(e,t,n){var r=this.getHtmlRenderer("intro",t)(n||0),i=this.getHtmlRenderer("outro",t)(n||0),o=this.isRTL?i:r,a=this.isRTL?r:i;return"string"==typeof e?o+e+a:e.prepend(o).append(a)},getHtmlRenderer:function(e,t){var n,r,i,o,a,s=this.view;return n=e+"Html",t&&(r=t+((a=e).charAt(0).toUpperCase()+a.slice(1))+"Html"),r&&(o=s[r])?i=s:r&&(o=this[r])?i=this:(o=s[n])?i=s:(o=this[n])&&(i=this),"function"==typeof o?function(){return o.apply(i,arguments)||""}:function(){return o||""}}}),Te=n.Grid=Se.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){Se.apply(this,arguments),this.coordMap=new be(this),this.elsByFill={},this.externalDragStartProxy=Y(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){var t,n,r=this.view;this.start=e.start.clone(),this.end=e.end.clone(),this.rowData=[],this.colData=[],this.updateCells(),this.colHeadFormat=r.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=r.opt("eventTimeFormat")||r.opt("timeFormat")||this.computeEventTimeFormat(),null==(t=r.opt("displayEventTime"))&&(t=this.computeDisplayEventTime()),null==(n=r.opt("displayEventEnd"))&&(n=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=n},updateCells:function(){},rangeToSegs:function(e){},diffDates:function(e,t){return this.largeUnit?M(e,t,this.largeUnit):O(e,t)},getCell:function(t,n){var r;return null==n&&("number"==typeof t?(n=t%this.colCnt,t=Math.floor(t/this.colCnt)):(n=t.col,t=t.row)),r={row:t,col:n},e.extend(r,this.getRowData(t),this.getColData(n)),e.extend(r,this.computeCellRange(r)),r},computeCellRange:function(e){var t=this.computeCellDate(e);return{start:t,end:t.clone().add(this.cellDuration)}},computeCellDate:function(e){},getRowData:function(e){return this.rowData[e]||{}},getColData:function(e){return this.colData[e]||{}},getRowEl:function(e){},getColEl:function(e){},getCellDayEl:function(e){return this.getColEl(e.col)||this.getRowEl(e.row)},computeRowCoords:function(){var e,t,n,r=[];for(e=0;e<this.rowCnt;e++)n=(t=this.getRowEl(e)).offset().top,r.push({top:n,bottom:n+t.outerHeight()});return r},computeColCoords:function(){var e,t,n,r=[];for(e=0;e<this.colCnt;e++)n=(t=this.getColEl(e)).offset().left,r.push({left:n,right:n+t.outerWidth()});return r},setElement:function(t){var n=this;this.el=t,t.on("mousedown",(function(t){e(t.target).is(".fc-event-container *, .fc-more")||e(t.target).closest(".fc-popover").length||n.dayMousedown(t)})),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},destroyDates:function(){},bindGlobalHandlers:function(){e(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){e(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(e){var t,n,r=this,i=this.view,o=i.opt("selectable");new xe(this.coordMap,{scroll:i.opt("dragScroll"),dragStart:function(){i.unselect()},cellOver:function(e,i,a){a&&(t=i?e:null,o&&((n=r.computeSelection(a,e))?r.renderSelection(n):l()))},cellOut:function(e){t=null,n=null,r.destroySelection(),c()},listenStop:function(e){t&&i.trigger("dayClick",r.getCellDayEl(t),t.start,e),n&&i.reportSelection(n,e),c()}}).mousedown(e)},renderRangeHelper:function(e,t){var n=this.fabricateHelperEvent(e,t);this.renderHelper(n,t)},fabricateHelperEvent:function(e,t){var n=t?H(t.event):{};return n.start=e.start.clone(),n.end=e.end?e.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventRange(n),n.className=(n.className||[]).concat("fc-helper"),t||(n.editable=!1),n},renderHelper:function(e,t){},destroyHelper:function(){},renderSelection:function(e){this.renderHighlight(e)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(e,t){var n,r=[e.start,e.end,t.start,t.end];return r.sort(B),n={start:r[0].clone(),end:r[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},renderHighlight:function(e){this.renderFill("highlight",this.rangeToSegs(e))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(e,t){},destroyFill:function(e){var t=this.elsByFill[e];t&&(t.remove(),delete this.elsByFill[e])},renderFillSegEls:function(t,n){var r,i=this,o=this[t+"SegEl"],a="",s=[];if(n.length){for(r=0;r<n.length;r++)a+=this.fillSegHtml(t,n[r]);e(a).each((function(t,r){var a=n[t],l=e(r);o&&(l=o.call(i,a,l)),l&&(l=e(l)).is(i.fillSegTag)&&(a.el=l,s.push(a))}))}return s},fillSegTag:"div",fillSegHtml:function(e,t){var n=this[e+"SegClasses"],r=this[e+"SegCss"],i=n?n.call(this,t):[],o=$(r?r.call(this,t):{});return"<"+this.fillSegTag+(i.length?' class="'+i.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(e){var t=this.view,n=e.start;return'<th class="fc-day-header '+t.widgetHeaderClass+" fc-"+E[n.day()]+'">'+V(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(e){var t=this.view,n=e.start,r=this.getDayClasses(n);return r.unshift("fc-day",t.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(e){var t=this.view,n=t.calendar.getNow().stripTime(),r=["fc-"+E[e.day()]];return 1==t.intervalDuration.as("months")&&e.month()!=t.intervalStart.month()&&r.push("fc-other-month"),e.isSame(n,"day")?r.push("fc-today",t.highlightStateClass):e<n?r.push("fc-past"):r.push("fc-future"),r}});function Ie(e){return U((e.source||{}).rendering,e.rendering)}function Ee(e,t){return e.eventStartMS-t.eventStartMS}function Ce(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||(e.event.title||"").localeCompare(t.event.title)}Te.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(e){var t,n,r,i,o=this.eventsToSegs(e),a=[],s=[];for(t=0;t<o.length;t++)n=o[t],r=n.event,i=void 0,"background"===(i=Ie(r))||"inverse-background"===i?a.push(n):s.push(n);a=this.renderBgSegs(a)||a,s=this.renderFgSegs(s)||s,this.segs=a.concat(s)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(e){},destroyFgSegs:function(){},renderFgSegEls:function(t,n){var r,i=this.view,o="",a=[];if(t.length){for(r=0;r<t.length;r++)o+=this.fgSegHtml(t[r],n);e(o).each((function(n,r){var o=t[n],s=i.resolveEventEl(o.event,e(r));s&&(s.data("fc-seg",o),o.el=s,a.push(o))}))}return a},fgSegHtml:function(e,t){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(e,t){return this.view.resolveEventEl(e.event,t)},bgEventSegClasses:function(e){var t=e.event,n=t.source||{};return["fc-bgevent"].concat(t.className,n.className||[])},bgEventSegCss:function(e){var t=this.view,n=e.event,r=n.source||{};return{"background-color":n.backgroundColor||n.color||r.backgroundColor||r.color||t.opt("eventBackgroundColor")||t.opt("eventColor")}},businessHoursSegClasses:function(e){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var t=this,n=this.view;e.each({mouseenter:function(e,n){t.triggerSegMouseover(e,n)},mouseleave:function(e,n){t.triggerSegMouseout(e,n)},click:function(e,t){return n.trigger("eventClick",this,e.event,t)},mousedown:function(r,i){e(i.target).is(".fc-resizer")&&n.isEventResizable(r.event)?t.segResizeMousedown(r,i,e(i.target).is(".fc-start-resizer")):n.isEventDraggable(r.event)&&t.segDragMousedown(r,i)}},(function(n,r){t.el.on(n,".fc-event-container > *",(function(n){var i=e(this).data("fc-seg");if(i&&!t.isDraggingSeg&&!t.isResizingSeg)return r.call(this,i,n)}))}))},triggerSegMouseover:function(e,t){this.mousedOverSeg||(this.mousedOverSeg=e,this.view.trigger("eventMouseover",e.el[0],e.event,t))},triggerSegMouseout:function(e,t){t=t||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",e.el[0],e.event,t))},segDragMousedown:function(e,t){var n,r=this,i=this.view,o=i.calendar,a=e.el,s=e.event,u=new ke(e.el,{parentEl:i.el,opacity:i.opt("dragOpacity"),revertDuration:i.opt("dragRevertDuration"),zIndex:2});new xe(i.coordMap,{distance:5,scroll:i.opt("dragScroll"),subjectEl:a,subjectCenter:!0,listenStart:function(e){u.hide(),u.start(e)},dragStart:function(t){r.triggerSegMouseout(e,t),r.segDragStart(e,t),i.hideEvent(s)},cellOver:function(t,a,c){e.cell&&(c=e.cell),(n=r.computeEventDrop(c,t,s))&&!o.isEventRangeAllowed(n,s)&&(l(),n=null),n&&i.renderDrag(n,e)?u.hide():u.show(),a&&(n=null)},cellOut:function(){i.destroyDrag(),u.show(),n=null},cellDone:function(){c()},dragStop:function(t){u.stop(!n,(function(){i.destroyDrag(),i.showEvent(s),r.segDragStop(e,t),n&&i.reportEventDrop(s,n,this.largeUnit,a,t)}))},listenStop:function(){u.stop()}}).mousedown(t)},segDragStart:function(e,t){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",e.el[0],e.event,t,{})},segDragStop:function(e,t){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",e.el[0],e.event,t,{})},computeEventDrop:function(e,t,n){var r,i,o=this.view.calendar,a=e.start,s=t.start;return a.hasTime()===s.hasTime()?(r=this.diffDates(s,a),n.allDay&&A(r)?(i={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventRangeTimes(i)):i={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},i.start.add(r),i.end&&i.end.add(r)):i={start:s.clone(),end:null,allDay:!s.hasTime()},i},applyDragOpacity:function(e){var t=this.view.opt("dragOpacity");null!=t&&e.each((function(e,n){n.style.opacity=t}))},externalDragStart:function(t,n){var r,i,o=this.view;o.opt("droppable")&&(r=e((n?n.item:null)||t.target),i=o.opt("dropAccept"),(e.isFunction(i)?i.call(r[0],r):r.is(i))&&(this.isDraggingExternal||this.listenToExternalDrag(r,t,n)))},listenToExternalDrag:function(r,i,o){var a,s=this,u=function(r){var i,o,a,s,l=n.dataAttrPrefix;l&&(l+="-");(i=r.data(l+"event")||null)&&(null==(o=(i="object"==typeof i?e.extend({},i):{}).start)&&(o=i.time),a=i.duration,s=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick);null==o&&(o=r.data(l+"start"));null==o&&(o=r.data(l+"time"));null==a&&(a=r.data(l+"duration"));null==s&&(s=r.data(l+"stick"));return o=null!=o?t.duration(o):null,a=null!=a?t.duration(a):null,s=Boolean(s),{eventProps:i,startTime:o,duration:a,stick:s}}(r);new xe(this.coordMap,{listenStart:function(){s.isDraggingExternal=!0},cellOver:function(e){(a=s.computeExternalDrop(e,u))?s.renderDrag(a):l()},cellOut:function(){a=null,s.destroyDrag(),c()},dragStop:function(){s.destroyDrag(),c(),a&&s.view.reportExternalDrop(u,a,r,i,o)},listenStop:function(){s.isDraggingExternal=!1}}).startDrag(i)},computeExternalDrop:function(e,t){var n={start:e.start.clone(),end:null};return t.startTime&&!n.start.hasTime()&&n.start.time(t.startTime),t.duration&&(n.end=n.start.clone().add(t.duration)),this.view.calendar.isExternalDropRangeAllowed(n,t.eventProps)?n:null},renderDrag:function(e,t){},destroyDrag:function(){},segResizeMousedown:function(e,t,n){var r,i=this,o=this.view,a=o.calendar,s=e.el,u=e.event,d=a.getEventEnd(u);new xe(this.coordMap,{distance:5,scroll:o.opt("dragScroll"),subjectEl:s,dragStart:function(t){i.triggerSegMouseout(e,t),i.segResizeStart(e,t)},cellOver:function(t,s,c){(r=n?i.computeEventStartResize(c,t,u):i.computeEventEndResize(c,t,u))&&(a.isEventRangeAllowed(r,u)?r.start.isSame(u.start)&&r.end.isSame(d)&&(r=null):(l(),r=null)),r&&(o.hideEvent(u),i.renderEventResize(r,e))},cellOut:function(){r=null},cellDone:function(){i.destroyEventResize(),o.showEvent(u),c()},dragStop:function(t){i.segResizeStop(e,t),r&&o.reportEventResize(u,r,this.largeUnit,s,t)}}).mousedown(t)},segResizeStart:function(e,t){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",e.el[0],e.event,t,{})},segResizeStop:function(e,t){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",e.el[0],e.event,t,{})},computeEventStartResize:function(e,t,n){return this.computeEventResize("start",e,t,n)},computeEventEndResize:function(e,t,n){return this.computeEventResize("end",e,t,n)},computeEventResize:function(e,t,n,r){var i,o,a=this.view.calendar,s=this.diffDates(n[e],t[e]);return(i={start:r.start.clone(),end:a.getEventEnd(r),allDay:r.allDay}).allDay&&A(s)&&(i.allDay=!1,a.normalizeEventRangeTimes(i)),i[e].add(s),i.start.isBefore(i.end)||(o=r.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration,this.cellDuration&&this.cellDuration<o&&(o=this.cellDuration),"start"==e?i.start=i.end.clone().subtract(o):i.end=i.start.clone().add(o)),i},renderEventResize:function(e,t){},destroyEventResize:function(){},getEventTimeText:function(e,t,n){return null==t&&(t=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?n&&e.end?this.view.formatRange(e,t):e.start.format(t):""},getSegClasses:function(e,t,n){var r=e.event,i=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return t&&i.push("fc-draggable"),n&&i.push("fc-resizable"),i},getEventSkinCss:function(e){var t=this.view,n=e.source||{},r=e.color,i=n.color,o=t.opt("eventColor");return{"background-color":e.backgroundColor||r||n.backgroundColor||i||t.opt("eventBackgroundColor")||o,"border-color":e.borderColor||r||n.borderColor||i||t.opt("eventBorderColor")||o,color:e.textColor||n.textColor||t.opt("eventTextColor")}},eventsToSegs:function(e,t){var n,r=this.eventsToRanges(e),i=[];for(n=0;n<r.length;n++)i.push.apply(i,this.eventRangeToSegs(r[n],t));return i},eventsToRanges:function(t){var n=this,r=function(e){var t,n,r={};for(t=0;t<e.length;t++)(r[(n=e[t])._id]||(r[n._id]=[])).push(n);return r}(t),i=[];return e.each(r,(function(e,t){t.length&&i.push.apply(i,"inverse-background"===Ie(t[0])?n.eventsToInverseRanges(t):n.eventsToNormalRanges(t))})),i},eventsToNormalRanges:function(e){var t,n,r,i,o=this.view.calendar,a=[];for(t=0;t<e.length;t++)r=(n=e[t]).start.clone().stripZone(),i=o.getEventEnd(n).stripZone(),a.push({event:n,start:r,end:i,eventStartMS:+r,eventDurationMS:i-r});return a},eventsToInverseRanges:function(e){var t,n,r=this.view,i=r.start.clone().stripZone(),o=r.end.clone().stripZone(),a=this.eventsToNormalRanges(e),s=[],l=e[0],c=i;for(a.sort(Ee),t=0;t<a.length;t++)(n=a[t]).start>c&&s.push({event:l,start:c,end:n.start}),c=n.end;return c<o&&s.push({event:l,start:c,end:o}),s},eventRangeToSegs:function(e,t){var n,r,i;for(n=t?t(e):this.rangeToSegs(e),r=0;r<n.length;r++)(i=n[r]).event=e.event,i.eventStartMS=e.eventStartMS,i.eventDurationMS=e.eventDurationMS;return n}}),n.compareSegs=Ce,n.dataAttrPrefix="";var Oe=Te.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){Te.apply(this,arguments),this.cellDuration=t.duration(1,"day")},renderDates:function(e){var t,n,r,i=this.view,o=this.rowCnt,a=o*this.colCnt,s="";for(t=0;t<o;t++)s+=this.dayRowHtml(t,e);for(this.el.html(s),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;n<a;n++)r=this.getCell(n),i.trigger("dayRender",null,r.start,this.dayEls.eq(n))},destroyDates:function(){this.destroySegPopover()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(e);this.renderFill("businessHours",t,"bgevent")},dayRowHtml:function(e,t){var n=["fc-row","fc-week",this.view.widgetContentClass];return t&&n.push("fc-rigid"),'<div class="'+n.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",e)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(e){return this.bgCellHtml(e)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var e,t,n,r;if(this.updateCellDates(),e=this.cellDates,this.breakOnWeeks){for(t=e[0].day(),r=1;r<e.length&&e[r].day()!=t;r++);n=Math.ceil(e.length/r)}else n=1,r=e.length;this.rowCnt=n,this.colCnt=r},updateCellDates:function(){for(var e=this.view,t=this.start.clone(),n=[],r=-1,i=[];t.isBefore(this.end);)e.isHiddenDay(t)?i.push(r+.5):(r++,i.push(r),n.push(t.clone())),t.add(1,"days");this.cellDates=n,this.dayToCellOffsets=i},computeCellDate:function(e){var t=this.colCnt,n=e.row*t+(this.isRTL?t-e.col-1:e.col);return this.cellDates[n].clone()},getRowEl:function(e){return this.rowEls.eq(e)},getColEl:function(e){return this.dayEls.eq(e)},getCellDayEl:function(e){return this.dayEls.eq(e.row*this.colCnt+e.col)},computeRowCoords:function(){var e=Te.prototype.computeRowCoords.call(this);return e[e.length-1].bottom+=this.bottomCoordPadding,e},rangeToSegs:function(e){var t,n,r,i,o,a,s,l,c,u,d=this.isRTL,f=this.rowCnt,p=this.colCnt,h=[];for(e=this.view.computeDayRange(e),t=this.dateToCellOffset(e.start),n=this.dateToCellOffset(e.end.subtract(1,"days")),r=0;r<f;r++)o=(i=r*p)+p-1,l=Math.max(i,t),c=Math.min(o,n),(l=Math.ceil(l))<=(c=Math.floor(c))&&(a=l===t,s=c===n,l-=i,c-=i,u={row:r,isStart:a,isEnd:s},d?(u.leftCol=p-c-1,u.rightCol=p-l-1):(u.leftCol=l,u.rightCol=c),h.push(u));return h},dateToCellOffset:function(e){var t=this.dayToCellOffsets,n=e.diff(this.start,"days");return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},renderDrag:function(e,t){if(this.renderHighlight(this.view.calendar.ensureVisibleEventRange(e)),t&&!t.el.closest(this.el).length)return this.renderRangeHelper(e,t),this.applyDragOpacity(this.helperEls),!0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderEventResize:function(e,t){this.renderHighlight(e),this.renderRangeHelper(e,t)},destroyEventResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(t,n){var r,i=[],o=this.eventsToSegs([t]);o=this.renderFgSegEls(o),r=this.renderSegRows(o),this.rowEls.each((function(t,o){var a,s=e(o),l=e('<div class="fc-helper-skeleton"><table/></div>');a=n&&n.row===t?n.el.position().top:s.find(".fc-content-skeleton tbody").position().top,l.css("top",a).find("table").append(r[t].tbodyEl),s.append(l),i.push(l[0])})),this.helperEls=e(i)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,n,r){var i,o,a,s=[];for(n=this.renderFillSegEls(t,n),i=0;i<n.length;i++)o=n[i],a=this.renderFillRow(t,o,r),this.rowEls.eq(o.row).append(a),s.push(a[0]);return this.elsByFill[t]=e(s),n},renderFillRow:function(t,n,r){var i,o,a=this.colCnt,s=n.leftCol,l=n.rightCol+1;return r=r||t.toLowerCase(),o=(i=e('<div class="fc-'+r+'-skeleton"><table><tr/></table></div>')).find("tr"),s>0&&o.append('<td colspan="'+s+'"/>'),o.append(n.el.attr("colspan",l-s)),l<a&&o.append('<td colspan="'+(a-l)+'"/>'),this.bookendCells(o,t),i}});function Me(e,t){var n,r;for(n=0;n<t.length;n++)if((r=t[n]).leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0;return!1}function De(e,t){return e.leftCol-t.leftCol}Oe.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover(),Te.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return Te.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var n=e.grep(t,(function(e){return e.event.allDay}));return Te.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each((function(t,r){e(r).find(".fc-content-skeleton > table").append(n[t].tbodyEl)})),t},destroyFgSegs:function(){for(var e,t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(e){var t,n,r=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)r.push(this.renderSegRow(n,t[n]));return r},fgSegHtml:function(e,t){var n,r,i=this.view,o=e.event,a=i.isEventDraggable(o),s=!t&&o.allDay&&e.isStart&&i.isEventResizableFromStart(o),l=!t&&o.allDay&&e.isEnd&&i.isEventResizableFromEnd(o),c=this.getSegClasses(e,a,s||l),u=$(this.getEventSkinCss(o)),d="";return c.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getEventTimeText(o))&&(d='<span class="fc-time">'+V(n)+"</span>"),r='<span class="fc-title">'+(V(o.title||"")||"&nbsp;")+"</span>",'<a class="'+c.join(" ")+'"'+(o.url?' href="'+V(o.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(this.isRTL?r+" "+d:d+" "+r)+"</div>"+(s?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,n){var r,i,o,a,s,l,c,u=this.colCnt,d=this.buildSegLevels(n),f=Math.max(1,d.length),p=e("<tbody/>"),h=[],m=[],g=[];function v(t){for(;o<t;)(c=(g[r-1]||[])[o])?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=e("<td/>"),a.append(c)),m[r][o]=c,g[r][o]=c,o++}for(r=0;r<f;r++){if(i=d[r],o=0,a=e("<tr/>"),h.push([]),m.push([]),g.push([]),i)for(s=0;s<i.length;s++){for(v((l=i[s]).leftCol),c=e('<td class="fc-event-container"/>').append(l.el),l.leftCol!=l.rightCol?c.attr("colspan",l.rightCol-l.leftCol+1):g[r][o]=c;o<=l.rightCol;)m[r][o]=c,h[r][o]=l,o++;a.append(c)}v(u),this.bookendCells(a,"eventSkeleton"),p.append(a)}return{row:t,tbodyEl:p,cellMatrix:m,segMatrix:h,segLevels:d,segs:n}},buildSegLevels:function(e){var t,n,r,i=[];for(e.sort(Ce),t=0;t<e.length;t++){for(n=e[t],r=0;r<i.length&&Me(n,i[r]);r++);n.level=r,(i[r]||(i[r]=[])).push(n)}for(r=0;r<i.length;r++)i[r].sort(De);return i},groupSegRows:function(e){var t,n=[];for(t=0;t<this.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n}}),Oe.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(e){var t,n,r=this.rowStructs||[];for(t=0;t<r.length;t++)this.unlimitRow(t),!1!==(n=!!e&&("number"==typeof e?e:this.computeRowLevelLimit(t)))&&this.limitRow(t,n)},computeRowLevelLimit:function(t){var n,r,i,o=this.rowEls.eq(t).height(),a=this.rowStructs[t].tbodyEl.children();function s(t,n){i=Math.max(i,e(n).outerHeight())}for(n=0;n<a.length;n++)if(r=a.eq(n).removeClass("fc-limited"),i=0,r.find("> td > :first-child").each(s),r.position().top+i>o)return n;return!1},limitRow:function(t,n){var r,i,o,a,s,l,c,u,d,f,p,h,m,g,v,b,y=this,w=this.rowStructs[t],x=[],_=0;function k(i){for(;_<i;)r=y.getCell(t,_),(c=y.getCellSegs(r,n)).length&&(f=o[n-1][_],b=y.renderMoreLink(r,c),v=e("<div/>").append(b),f.append(v),x.push(v[0])),_++}if(n&&n<w.segLevels.length){for(i=w.segLevels[n-1],o=w.cellMatrix,a=w.tbodyEl.children().slice(n).addClass("fc-limited").get(),s=0;s<i.length;s++){for(k((l=i[s]).leftCol),d=[],u=0;_<=l.rightCol;)r=this.getCell(t,_),c=this.getCellSegs(r,n),d.push(c),u+=c.length,_++;if(u){for(p=(f=o[n-1][l.leftCol]).attr("rowspan")||1,h=[],m=0;m<d.length;m++)g=e('<td class="fc-more-cell"/>').attr("rowspan",p),c=d[m],r=this.getCell(t,l.leftCol+m),b=this.renderMoreLink(r,[l].concat(c)),v=e("<div/>").append(b),g.append(v),h.push(g[0]),x.push(g[0]);f.addClass("fc-limited").after(e(h)),a.push(f[0])}}k(this.colCnt),w.moreEls=e(x),w.limitedEls=e(a)}},unlimitRow:function(e){var t=this.rowStructs[e];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,n){var r=this,i=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",(function(o){var a=i.opt("eventLimitClick"),s=t.start,l=e(this),c=r.getCellDayEl(t),u=r.getCellSegs(t),d=r.resliceDaySegs(u,s),f=r.resliceDaySegs(n,s);"function"==typeof a&&(a=i.trigger("eventLimitClick",null,{date:s,dayEl:c,moreEl:l,segs:d,hiddenSegs:f},o)),"popover"===a?r.showSegPopover(t,l,d):"string"==typeof a&&i.calendar.zoomTo(s,a)}))},showSegPopover:function(e,t,n){var r,i,o=this,a=this.view,s=t.parent();r=1==this.rowCnt?a.el:this.rowEls.eq(e.row),i={className:"fc-more-popover",content:this.renderSegPopoverContent(e,n),parentEl:this.el,top:r.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){o.segPopover.destroy(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?i.right=s.offset().left+s.outerWidth()+1:i.left=s.offset().left-1,this.segPopover=new ve(i),this.segPopover.show()},renderSegPopoverContent:function(t,n){var r,i=this.view,o=i.opt("theme"),a=t.start.format(i.opt("dayPopoverFormat")),s=e('<div class="fc-header '+i.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+V(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+i.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=s.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,r=0;r<n.length;r++)n[r].cell=t,l.append(n[r].el);return s},resliceDaySegs:function(t,n){var r=e.map(t,(function(e){return e.event})),i=n.clone().stripTime(),o=i.clone().add(1,"days"),a={start:i,end:o};return(t=this.eventsToSegs(r,(function(e){var t=I(e,a);return t?[t]:[]}))).sort(Ce),t},getMoreLinkText:function(e){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},getCellSegs:function(e,t){for(var n,r=this.rowStructs[e.row].segMatrix,i=t||0,o=[];i<r.length;)(n=r[i][e.col])&&o.push(n),i++;return o}});var Pe=Te.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){Te.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(e),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(e){return this.bgCellHtml(e)},slatRowHtml:function(){for(var e,n,r,i=this.view,o=this.isRTL,a="",s=this.slotDuration.asMinutes()%15==0,l=t.duration(+this.minTime);l<this.maxTime;)n=(e=this.start.clone().time(l)).minutes(),r='<td class="fc-axis fc-time '+i.widgetContentClass+'" '+i.axisStyleAttr()+">"+(s&&n?"":"<span>"+V(e.format(this.axisFormat))+"</span>")+"</td>",a+="<tr "+(n?'class="fc-minor"':"")+">"+(o?"":r)+'<td class="'+i.widgetContentClass+'"/>'+(o?r:"")+"</tr>",l.add(this.slotDuration);return a},processOptions:function(){var e=this.view,n=e.opt("slotDuration"),r=e.opt("snapDuration");n=t.duration(n),r=r?t.duration(r):n,this.slotDuration=n,this.snapDuration=r,this.cellDuration=r,this.minTime=t.duration(e.opt("minTime")),this.maxTime=t.duration(e.opt("maxTime")),this.axisFormat=e.opt("axisFormat")||e.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){var e,t=this.view,n=[];for(e=this.start.clone();e.isBefore(this.end);)n.push({day:e.clone()}),e.add(1,"day"),e=t.skipHiddenDays(e);this.isRTL&&n.reverse(),this.colData=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(e){var t=this.computeSnapTime(e.row);return this.view.calendar.rezoneDate(e.day).time(t)},getColEl:function(e){return this.dayEls.eq(e)},computeSnapTime:function(e){return t.duration(this.minTime+this.snapDuration*e)},rangeToSegs:function(e){var t,n,r,i=this.colCnt,o=[];for(e={start:e.start.clone().stripZone(),end:e.end.clone().stripZone()},n=0;n<i;n++)(t=I(e,{start:(r=this.colData[n].day).clone().time(this.minTime),end:r.clone().time(this.maxTime)}))&&(t.col=n,o.push(t));return o},updateSize:function(e){this.computeSlatTops(),e&&this.updateSegVerticals()},computeRowCoords:function(){var e,t,n=this.el.offset().top,r=[];for(e=0;e<this.rowCnt;e++)t={top:n+this.computeTimeTop(this.computeSnapTime(e))},e>0&&(r[e-1].bottom=t.top),r.push(t);return t.bottom=t.top+this.computeTimeTop(this.computeSnapTime(e)),r},computeDateTop:function(e,n){return this.computeTimeTop(t.duration(e.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(e){var t,n,r,i=(e-this.minTime)/this.slotDuration;return i=Math.max(0,i),n=(i=Math.min(this.slatEls.length,i))-(t=Math.floor(i)),r=this.slatTops[t],n?r+(this.slatTops[t+1]-r)*n:r},computeSlatTops:function(){var t,n=[];this.slatEls.each((function(r,i){t=e(i).position().top,n.push(t)})),n.push(t+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(e,t){if(t)return this.renderRangeHelper(e,t),this.applyDragOpacity(this.helperEl),!0;this.renderHighlight(this.view.calendar.ensureVisibleEventRange(e))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderEventResize:function(e,t){this.renderRangeHelper(e,t)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(t,n){var r,i,o,a,s=this.eventsToSegs([t]);for(s=this.renderFgSegEls(s),r=this.renderSegTable(s),i=0;i<s.length;i++)o=s[i],n&&n.col===o.col&&(a=n.el,o.el.css({left:a.css("left"),right:a.css("right"),"margin-left":a.css("margin-left"),"margin-right":a.css("margin-right")}));this.helperEl=e('<div class="fc-helper-skeleton"/>').append(r).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderRangeHelper(e):this.renderHighlight(e)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(t,n,r){var i,o,a,s,l,c,u,d,f,p;if(n.length){for(n=this.renderFillSegEls(t,n),i=this.groupSegCols(n),r=r||t.toLowerCase(),a=(o=e('<div class="fc-'+r+'-skeleton"><table><tr/></table></div>')).find("tr"),s=0;s<i.length;s++)if(l=i[s],c=e("<td/>").appendTo(a),l.length)for(u=e('<div class="fc-'+r+'-container"/>').appendTo(c),d=this.colData[s].day,f=0;f<l.length;f++)p=l[f],u.append(p.el.css({top:this.computeDateTop(p.start,d),bottom:-this.computeDateTop(p.end,d)}));this.bookendCells(a,t),this.el.append(o),this.elsByFill[t]=o}return n}});function Ae(e){var t,n,r;if(e.sort(Ce),function(e){var t,n,r,i,o;for(t=0;t<e.length;t++)for(n=e[t],r=0;r<n.length;r++)for((i=n[r]).forwardSegs=[],o=t+1;o<e.length;o++)He(i,e[o],i.forwardSegs)}(t=function(e){var t,n,r,i=[];for(t=0;t<e.length;t++){for(n=e[t],r=0;r<i.length&&He(n,i[r]).length;r++);n.level=r,(i[r]||(i[r]=[])).push(n)}return i}(e)),n=t[0]){for(r=0;r<n.length;r++)Ne(n[r]);for(r=0;r<n.length;r++)Re(n[r],0,0)}}function Ne(e){var t,n,r=e.forwardSegs,i=0;if(void 0===e.forwardPressure){for(t=0;t<r.length;t++)Ne(n=r[t]),i=Math.max(i,1+n.forwardPressure);e.forwardPressure=i}}function Re(e,t,n){var r,i=e.forwardSegs;if(void 0===e.forwardCoord)for(i.length?(i.sort(Le),Re(i[0],t+1,n),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),r=0;r<i.length;r++)Re(i[r],0,e.forwardCoord)}function He(e,t,n){n=n||[];for(var r=0;r<t.length;r++)i=e,o=t[r],i.bottom>o.top&&i.top<o.bottom&&n.push(t[r]);var i,o;return n}function Le(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||Ce(e,t)}Pe.mixin({eventSkeletonEl:null,renderFgSegs:function(t){return t=this.renderFgSegEls(t),this.el.append(this.eventSkeletonEl=e('<div class="fc-content-skeleton"/>').append(this.renderSegTable(t))),t},destroyFgSegs:function(e){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(t){var n,r,i,o,a,s,l=e("<table><tr/></table>"),c=l.find("tr");for(n=this.groupSegCols(t),this.computeSegVerticals(t),o=0;o<n.length;o++){for(Ae(a=n[o]),s=e('<div class="fc-event-container"/>'),r=0;r<a.length;r++)(i=a[r]).el.css(this.generateSegPositionCss(i)),i.bottom-i.top<30&&i.el.addClass("fc-short"),s.append(i.el);c.append(e("<td/>").append(s))}return this.bookendCells(c,"eventSkeleton"),l},updateSegVerticals:function(){var e,t=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(t),e=0;e<t.length;e++)t[e].el.css(this.generateSegVerticalCss(t[e]))},computeSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)(n=e[t]).top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(e,t){var n,r,i,o=this.view,a=e.event,s=o.isEventDraggable(a),l=!t&&e.isStart&&o.isEventResizableFromStart(a),c=!t&&e.isEnd&&o.isEventResizableFromEnd(a),u=this.getSegClasses(e,s,l||c),d=$(this.getEventSkinCss(a));return u.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(a)?(e.isStart||e.isEnd)&&(n=this.getEventTimeText(e),r=this.getEventTimeText(e,"LT"),i=this.getEventTimeText(e,null,!1)):(n=this.getEventTimeText(a),r=this.getEventTimeText(a,"LT"),i=this.getEventTimeText(a,null,!1)),'<a class="'+u.join(" ")+'"'+(a.url?' href="'+V(a.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+V(i)+'" data-full="'+V(r)+'"><span>'+V(n)+"</span></div>":"")+(a.title?'<div class="fc-title">'+V(a.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(e){var t,n,r=this.view.opt("slotEventOverlap"),i=e.backwardCoord,o=e.forwardCoord,a=this.generateSegVerticalCss(e);return r&&(o=Math.min(1,i+2*(o-i))),this.isRTL?(t=1-o,n=i):(t=i,n=1-o),a.zIndex=e.level+1,a.left=100*t+"%",a.right=100*n+"%",r&&e.forwardPressure&&(a[this.isRTL?"marginLeft":"marginRight"]=20),a},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},groupSegCols:function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n}});var je=n.View=ge.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,isDisplayed:!1,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(e,n,r,i){this.calendar=e,this.type=this.name=n,this.options=r,this.intervalDuration=i||t.duration(1,"day"),this.nextDayThreshold=t.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.documentMousedownProxy=Y(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(e){return this.options[e]},trigger:function(e,t){var n=this.calendar;return n.trigger.apply(n,[e,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(e){this.setRange(this.computeRange(e))},setRange:function(t){e.extend(this,t),this.updateTitle()},computeRange:function(e){var t,n,r=D(this.intervalDuration),i=e.clone().startOf(r),o=i.clone().add(this.intervalDuration);return/year|month|week|day/.test(r)?(i.stripTime(),o.stripTime()):(i.hasTime()||(i=this.calendar.rezoneDate(i)),o.hasTime()||(o=this.calendar.rezoneDate(o))),t=i.clone(),t=this.skipHiddenDays(t),n=o.clone(),{intervalUnit:r,intervalStart:i,intervalEnd:o,start:t,end:n=this.skipHiddenDays(n,-1,!0)}},computePrevDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(e,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(e)&&(e=this.skipHiddenDays(e,t)).startOf("day"),e},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(e,t,n){var r=e.end;return r.hasTime()||(r=r.clone().subtract(1)),ue(e.start,r,t,n,this.opt("isRTL"))},setElement:function(e){this.el=e,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.destroySkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(e){var t=null;this.isDisplayed&&(t=this.queryScroll()),this.clear(),this.setDate(e),this.render(),this.updateSize(),this.renderBusinessHours(),this.isDisplayed=!0,t=this.computeInitialScroll(t),this.forceScroll(t),this.triggerRender()},clear:function(){this.isDisplayed&&(this.unselect(),this.clearEvents(),this.triggerDestroy(),this.destroyBusinessHours(),this.destroy(),this.isDisplayed=!1)},render:function(){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.renderDates()},destroy:function(){this.destroyDates()},renderSkeleton:function(){},destroySkeleton:function(){},renderDates:function(){},destroyDates:function(){},renderBusinessHours:function(){},destroyBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerDestroy:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){e(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){e(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},updateSize:function(e){var t;e&&(t=this.queryScroll()),this.updateHeight(),this.updateWidth(),e&&this.setScroll(t)},updateWidth:function(){},updateHeight:function(){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(e,t){},computeScrollerHeight:function(e){var t,n,r=this.scrollerEl;return(t=this.el.add(r)).css({position:"relative",left:-1}),n=this.el.outerHeight()-r.height(),t.css({position:"",left:""}),e-n},computeInitialScroll:function(e){return 0},queryScroll:function(){if(this.scrollerEl)return this.scrollerEl.scrollTop()},setScroll:function(e){if(this.scrollerEl)return this.scrollerEl.scrollTop(e)},forceScroll:function(e){var t=this;this.setScroll(e),setTimeout((function(){t.setScroll(e)}),0)},displayEvents:function(e){var t=this.queryScroll();this.clearEvents(),this.renderEvents(e),this.isEventsRendered=!0,this.setScroll(t),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventDestroy(),this.destroyEvents(),this.isEventsRendered=!1)},renderEvents:function(e){},destroyEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach((function(e){this.trigger("eventAfterRender",e.event,e.event,e.el)})),this.trigger("eventAfterAllRender")},triggerEventDestroy:function(){this.renderedEventSegEach((function(e){this.trigger("eventDestroy",e.event,e.event,e.el)}))},resolveEventEl:function(t,n){var r=this.trigger("eventRender",t,t,n);return!1===r?n=null:r&&!0!==r&&(n=e(r)),n},showEvent:function(e){this.renderedEventSegEach((function(e){e.el.css("visibility","")}),e)},hideEvent:function(e){this.renderedEventSegEach((function(e){e.el.css("visibility","hidden")}),e)},renderedEventSegEach:function(e,t){var n,r=this.getEventSegs();for(n=0;n<r.length;n++)t&&r[n].event._id!==t._id||r[n].el&&e.call(this,r[n])},getEventSegs:function(){return[]},isEventDraggable:function(e){var t=e.source||{};return U(e.startEditable,t.startEditable,this.opt("eventStartEditable"),e.editable,t.editable,this.opt("editable"))},reportEventDrop:function(e,t,n,r,i){var o=this.calendar,a=o.mutateEvent(e,t,n);this.triggerEventDrop(e,a.dateDelta,(function(){a.undo(),o.reportEventChange()}),r,i),o.reportEventChange()},triggerEventDrop:function(e,t,n,r,i){this.trigger("eventDrop",r[0],e,t,n,i,{})},reportExternalDrop:function(t,n,r,i,o){var a,s,l=t.eventProps;l&&(a=e.extend({},l,n),s=this.calendar.renderEvent(a,t.stick)[0]),this.triggerExternalDrop(s,n,r,i,o)},triggerExternalDrop:function(e,t,n,r,i){this.trigger("drop",n[0],t.start,r,i),e&&this.trigger("eventReceive",null,e)},renderDrag:function(e,t){},destroyDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(e){var t=e.source||{};return U(e.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),e.editable,t.editable,this.opt("editable"))},reportEventResize:function(e,t,n,r,i){var o=this.calendar,a=o.mutateEvent(e,t,n);this.triggerEventResize(e,a.durationDelta,(function(){a.undo(),o.reportEventChange()}),r,i),o.reportEventChange()},triggerEventResize:function(e,t,n,r,i){this.trigger("eventResize",r[0],e,t,n,i,{})},select:function(e,t){this.unselect(t),this.renderSelection(e),this.reportSelection(e,t)},renderSelection:function(e){},reportSelection:function(e,t){this.isSelected=!0,this.trigger("select",null,e.start,e.end,t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,e))},destroySelection:function(){},documentMousedown:function(t){var n;this.isSelected&&this.opt("unselectAuto")&&x(t)&&((n=this.opt("unselectCancel"))&&e(t.target).closest(n).length||this.unselect(t))},initHiddenDays:function(){var t,n=this.opt("hiddenDays")||[],r=[],i=0;for(!1===this.opt("weekends")&&n.push(0,6),t=0;t<7;t++)(r[t]=-1!==e.inArray(t,n))||i++;if(!i)throw"invalid hiddenDays";this.isHiddenDayHash=r},isHiddenDay:function(e){return t.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(e,t,n){var r=e.clone();for(t=t||1;this.isHiddenDayHash[(r.day()+(n?t:0)+7)%7];)r.add(t,"days");return r},computeDayRange:function(e){var t,n=e.start.clone().stripTime(),r=e.end,i=null;return r&&(i=r.clone().stripTime(),(t=+r.time())&&t>=this.nextDayThreshold&&i.add(1,"days")),(!r||i<=n)&&(i=n.clone().add(1,"days")),{start:n,end:i}},isMultiDayEvent:function(e){var t=this.computeDayRange(e);return t.end.diff(t.start,"days")>1}}),Fe=n.Calendar=n.CalendarBase=ge.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,constructor:function(r,i){var o=this;o.initOptions(i||{});var a=this.options;o.render=function(){f?k()&&(I(),S()):function(){a.theme?"ui":"fc",r.addClass("fc"),a.isRTL?r.addClass("fc-rtl"):r.addClass("fc-ltr");a.theme?r.addClass("ui-widget"):r.addClass("fc-unthemed");f=e("<div class='fc-view-container'/>").prependTo(r),u=o.header=new Ye(o,a),(d=u.render())&&r.prepend(d);S(a.defaultView),a.handleWindowResize&&(m=q(C,a.windowResizeDelay),e(window).resize(m))}()},o.destroy=function(){p&&p.removeElement();u.destroy(),f.remove(),r.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),m&&e(window).unbind("resize",m)},o.refetchEvents=function(){D(),p.clearEvents(),P(),M()},o.reportEvents=function(e){_=e,O()},o.reportEventChange=function(){O()},o.rerenderEvents=O,o.changeView=S,o.select=function(e,t){e=o.moment(e),t=t?o.moment(t):e.hasTime()?e.clone().add(o.defaultTimedEventDuration):e.clone().add(o.defaultAllDayEventDuration);p.select({start:e,end:t})},o.unselect=function(){p&&p.unselect()},o.prev=function(){g=p.computePrevDate(g),S()},o.next=function(){g=p.computeNextDate(g),S()},o.prevYear=function(){g.add(-1,"years"),S()},o.nextYear=function(){g.add(1,"years"),S()},o.today=function(){g=o.getNow(),S()},o.gotoDate=function(e){g=o.moment(e),S()},o.incrementDate=function(e){g.add(t.duration(e)),S()},o.zoomTo=function(e,t){var n;t=t||"day",n=o.getViewSpec(t)||o.getUnitViewSpec(t),g=e,S(n?n.type:null)},o.getDate=function(){return g.clone()},o.getCalendar=function(){return o},o.getView=function(){return p},o.option=function(e,t){if(void 0===t)return a[e];"height"!=e&&"contentHeight"!=e&&"aspectRatio"!=e||(a[e]=t,T(!0))},o.trigger=function(e,t){if(a[e])return a[e].apply(t||y,Array.prototype.slice.call(arguments,2))};var s=H(ze(a.lang));a.monthNames&&(s._months=a.monthNames);a.monthNamesShort&&(s._monthsShort=a.monthNamesShort);a.dayNames&&(s._weekdays=a.dayNames);a.dayNamesShort&&(s._weekdaysShort=a.dayNamesShort);if(null!=a.firstDay){var l=H(s._week);l.dow=a.firstDay,s._week=l}s._fullCalendar_weekCalc=(c=a.weekNumberCalculation,"function"==typeof c||"local"===c?c:"iso"===c||"ISO"===c?"ISO":void 0),o.defaultAllDayEventDuration=t.duration(a.defaultAllDayEventDuration),o.defaultTimedEventDuration=t.duration(a.defaultTimedEventDuration),o.moment=function(){var e;return"local"===a.timezone?(e=n.moment.apply(null,arguments)).hasTime()&&e.local():e="UTC"===a.timezone?n.moment.utc.apply(null,arguments):n.moment.parseZone.apply(null,arguments),"_locale"in e?e._locale=s:e._lang=s,e},o.getIsAmbigTimezone=function(){return"local"!==a.timezone&&"UTC"!==a.timezone},o.rezoneDate=function(e){return o.moment(e.toArray())},o.getNow=function(){var e=a.now;return"function"==typeof e&&(e=e()),o.moment(e)},o.getEventEnd=function(e){return e.end?e.end.clone():o.getDefaultEventEnd(e.allDay,e.start)},o.getDefaultEventEnd=function(e,t){var n=t.clone();return e?n.stripTime().add(o.defaultAllDayEventDuration):n.add(o.defaultTimedEventDuration),o.getIsAmbigTimezone()&&n.stripZone(),n},o.humanizeDuration=function(e){return(e.locale||e.lang).call(e,a.lang).humanize()},Ke.call(o,a);var c;var u,d,f,p,h,m,g,v=o.isFetchNeeded,b=o.fetchEvents,y=r[0],w={},x=0,_=[];g=null!=a.defaultDate?o.moment(a.defaultDate):o.getNow();function k(){return r.is(":visible")}function S(t){x++,p&&t&&p.type!==t&&(u.deactivateButton(p.type),D(),p.removeElement(),p=o.view=null),!p&&t&&((p=o.view=w[t]||(w[t]=o.instantiateView(t))).setElement(e("<div class='fc-view fc-"+t+"-view' />").appendTo(f)),u.activateButton(t)),p&&(g=p.massageCurrentDate(g),p.isDisplayed&&g.isWithin(p.intervalStart,p.intervalEnd)||k()&&(D(),p.display(g),P(),u.updateTitle(p.title),o.getNow().isWithin(p.intervalStart,p.intervalEnd)?u.disableButton("today"):u.enableButton("today"),!a.lazyFetching||v(p.start,p.end)?M():O())),P(),x--}function T(e){if(k())return e&&E(),x++,p.updateSize(!0),x--,!0}function I(){k()&&E()}function E(){h="number"==typeof a.contentHeight?a.contentHeight:"number"==typeof a.height?a.height-(d?d.outerHeight(!0):0):Math.round(f.width()/Math.max(a.aspectRatio,.5))}function C(e){!x&&e.target===window&&p.start&&T(!0)&&p.trigger("windowResize",y)}function O(){k()&&(D(),p.displayEvents(_),P())}function M(){b(p.start,p.end)}function D(){f.css({width:"100%",height:f.height(),overflow:"hidden"})}function P(){f.css({width:"",height:"",overflow:""})}o.getSuggestedViewHeight=function(){return void 0===h&&I(),h},o.isHeightAuto=function(){return"auto"===a.contentHeight||"auto"===a.height}},initOptions:function(t){var n,r,a;n=(t=function(t){var n,r={views:t.views||{}};return e.each(t,(function(t,o){"views"!=t&&(e.isPlainObject(o)&&!/(time|duration|interval)$/i.test(t)&&-1==e.inArray(t,i)?(n=null,e.each(o,(function(e,i){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(e)?(r.views[e]||(r.views[e]={}),r.views[e][t]=i):(n||(n={}),n[e]=i)})),n&&(r[t]=n)):r[t]=o)})),r}(t)).lang,(r=Ue[n])||(n=Fe.defaults.lang,r=Ue[n]||{}),a=U(t.isRTL,r.isRTL,Fe.defaults.isRTL)?Fe.rtlDefaults:{},this.dirDefaults=a,this.langDefaults=r,this.overrides=t,this.options=o(Fe.defaults,a,r,t),Be(this.options),this.viewSpecCache={}},getViewSpec:function(e){var t=this.viewSpecCache;return t[e]||(t[e]=this.buildViewSpec(e))},getUnitViewSpec:function(t){var r,i,o;if(-1!=e.inArray(t,C))for(r=this.header.getViewsWithButtons(),e.each(n.views,(function(e){r.push(e)})),i=0;i<r.length;i++)if((o=this.getViewSpec(r[i]))&&o.singleUnit==t)return o},buildViewSpec:function(e){for(var n,i,a,s,l,c,u=this.overrides.views||{},d=[],f=[],p=e;p&&!n;)i=r[p]||{},a=u[p]||{},s=s||a.duration||i.duration,p=a.type||i.type,"function"==typeof i?(n=i,d.unshift(n.defaults||{})):d.unshift(i),f.unshift(a);if(n)return c={class:n,type:e},s&&((s=t.duration(s)).valueOf()||(s=null)),s&&(c.duration=s,l=D(s),1===s.as(l)&&(c.singleUnit=l,f.unshift(u[l]||{}))),c.defaults=o.apply(null,d),c.overrides=o.apply(null,f),this.buildViewSpecOptions(c),this.buildViewSpecButtonText(c,e),c},buildViewSpecOptions:function(e){e.options=o(Fe.defaults,e.defaults,this.dirDefaults,this.langDefaults,this.overrides,e.overrides),Be(e.options)},buildViewSpecButtonText:function(e,t){function n(n){var r=n.buttonText||{};return r[t]||(e.singleUnit?r[e.singleUnit]:null)}e.buttonTextOverride=n(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||e.defaults.buttonText||n(Fe.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||t},instantiateView:function(e){var t=this.getViewSpec(e);return new t.class(this,e,t.options,t.duration)},isValidViewType:function(e){return Boolean(this.getViewSpec(e))}});Fe.defaults={titleRangeSeparator:" — ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},Fe.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},Fe.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Ue=n.langs={};n.datepickerLang=function(t,n,r){var i=Ue[t]||(Ue[t]={});i.isRTL=r.isRTL,i.weekNumberTitle=r.weekHeader,e.each(Ve,(function(e,t){i[e]=t(r)})),e.datepicker&&(e.datepicker.regional[n]=e.datepicker.regional[t]=r,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(r))},n.lang=function(t,n){var r,i;r=Ue[t]||(Ue[t]={}),n&&(r=Ue[t]=o(r,n)),i=ze(t),e.each(We,(function(e,t){null==r[e]&&(r[e]=t(i,r))})),Fe.defaults.lang=t};var Ve={buttonText:function(e){return{prev:W(e.prevText),next:W(e.nextText),today:W(e.currentText)}},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},We={dayOfMonthFormat:function(e,t){var n=e.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},$e={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};function Be(t){e.each($e,(function(e,n){null==t[e]&&(t[e]=n(t))}))}function ze(e){var n=t.localeData||t.langData;return n.call(t,e)||n.call(t,"en")}function Ye(t,n){var r=this;r.render=function(){var t=n.header;if(i=n.theme?"ui":"fc",t)return o=e("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>')},r.destroy=function(){o.remove()},r.updateTitle=function(e){o.find("h2").text(e)},r.activateButton=function(e){o.find(".fc-"+e+"-button").addClass(i+"-state-active")},r.deactivateButton=function(e){o.find(".fc-"+e+"-button").removeClass(i+"-state-active")},r.disableButton=function(e){o.find(".fc-"+e+"-button").attr("disabled","disabled").addClass(i+"-state-disabled")},r.enableButton=function(e){o.find(".fc-"+e+"-button").removeAttr("disabled").removeClass(i+"-state-disabled")},r.getViewsWithButtons=function(){return a};var i,o=e(),a=[];function s(r){var o=e('<div class="fc-'+r+'"/>'),s=n.header[r];return s&&e.each(s.split(" "),(function(r){var s,l=e(),c=!0;e.each(this.split(","),(function(r,o){var s,u,d,f,p,h,m,g;"title"==o?(l=l.add(e("<h2>&nbsp;</h2>")),c=!1):((s=t.getViewSpec(o))?(u=function(){t.changeView(o)},a.push(o),d=s.buttonTextOverride,f=s.buttonTextDefault):t[o]&&(u=function(){t[o]()},d=(t.overrides.buttonText||{})[o],f=n.buttonText[o]),u&&(p=n.themeButtonIcons[o],h=n.buttonIcons[o],m=d?V(d):p&&n.theme?"<span class='ui-icon ui-icon-"+p+"'></span>":h&&!n.theme?"<span class='fc-icon fc-icon-"+h+"'></span>":V(f),g=e('<button type="button" class="'+["fc-"+o+"-button",i+"-button",i+"-state-default"].join(" ")+'">'+m+"</button>").click((function(){g.hasClass(i+"-state-disabled")||(u(),(g.hasClass(i+"-state-active")||g.hasClass(i+"-state-disabled"))&&g.removeClass(i+"-state-hover"))})).mousedown((function(){g.not("."+i+"-state-active").not("."+i+"-state-disabled").addClass(i+"-state-down")})).mouseup((function(){g.removeClass(i+"-state-down")})).hover((function(){g.not("."+i+"-state-active").not("."+i+"-state-disabled").addClass(i+"-state-hover")}),(function(){g.removeClass(i+"-state-hover").removeClass(i+"-state-down")})),l=l.add(g)))})),c&&l.first().addClass(i+"-corner-left").end().last().addClass(i+"-corner-right").end(),l.length>1?(s=e("<div/>"),c&&s.addClass("fc-button-group"),s.append(l),o.append(s)):o.append(l)})),o}}n.lang("en",Fe.englishDefaults),n.sourceNormalizers=[],n.sourceFetchers=[];var qe={dataType:"json",cache:!1},Ge=1;function Ke(r){var i=this;i.isFetchNeeded=function(e,t){return!o||e.clone().stripZone()<o.clone().stripZone()||t.clone().stripZone()>a.clone().stripZone()},i.fetchEvents=function(e,t){o=e,a=t,m=[];var n=++f,r=d.length;p=r;for(var i=0;i<r;i++)g(d[i],n)},i.addEventSource=function(e){var t=b(e);t&&(d.push(t),p++,g(t,f))},i.removeEventSource=function(t){d=e.grep(d,(function(e){return!y(e,t)})),m=e.grep(m,(function(e){return!y(e.source,t)})),c(m)},i.updateEvent=function(t){t.start=i.moment(t.start),t.end?t.end=i.moment(t.end):t.end=null;A(t,function(t){var n={};return e.each(t,(function(t,r){x(t)&&void 0!==r&&function(t){return/undefined|null|boolean|number|string/.test(e.type(t))}(r)&&(n[t]=r)})),n}(t)),c(m)},i.renderEvent=function(e,t){var n,r,i,o=T(e);if(o){for(n=P(o),r=0;r<n.length;r++)(i=n[r]).source||(t&&(u.events.push(i),i.source=u),m.push(i));return c(m),n}return[]},i.removeEvents=function(t){var n,r;null==t?t=function(){return!0}:e.isFunction(t)||(n=t+"",t=function(e){return e._id==n});for(m=e.grep(m,t,!0),r=0;r<d.length;r++)e.isArray(d[r].events)&&(d[r].events=e.grep(d[r].events,t,!0));c(m)},i.clientEvents=_,i.mutateEvent=A,i.normalizeEventRange=E,i.normalizeEventRangeTimes=C,i.ensureVisibleEventRange=D;var o,a,s=i.trigger,l=i.getView,c=i.reportEvents,u={events:[]},d=[u],f=0,p=0,h=0,m=[];function g(t,n){v(t,(function(r){var i,o,a,s=e.isArray(t.events);if(n==f){if(r)for(i=0;i<r.length;i++)o=r[i],(a=s?o:T(o,t))&&m.push.apply(m,P(a));--p||c(m)}}))}function v(t,s){var l,c,u=n.sourceFetchers;for(l=0;l<u.length;l++){if(!0===(c=u[l].call(i,t,o.clone(),a.clone(),r.timezone,s)))return;if("object"==typeof c)return void v(c,s)}var d=t.events;if(d)e.isFunction(d)?(k(),d.call(i,o.clone(),a.clone(),r.timezone,(function(e){s(e),S()}))):e.isArray(d)?s(d):s();else if(t.url){var f,p=t.success,h=t.error,m=t.complete;f=e.isFunction(t.data)?t.data():t.data;var g=e.extend({},f||{}),b=U(t.startParam,r.startParam),y=U(t.endParam,r.endParam),w=U(t.timezoneParam,r.timezoneParam);b&&(g[b]=o.format()),y&&(g[y]=a.format()),r.timezone&&"local"!=r.timezone&&(g[w]=r.timezone),k(),e.ajax(e.extend({},qe,t,{data:g,success:function(t){t=t||[];var n=F(p,this,arguments);e.isArray(n)&&(t=n),s(t)},error:function(){F(h,this,arguments),s()},complete:function(){F(m,this,arguments),S()}}))}else s()}function b(t){var r,o,a=n.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?r={events:t}:"string"==typeof t?r={url:t}:"object"==typeof t&&(r=e.extend({},t)),r){for(r.className?"string"==typeof r.className&&(r.className=r.className.split(/\s+/)):r.className=[],e.isArray(r.events)&&(r.origArray=r.events,r.events=e.map(r.events,(function(e){return T(e,r)}))),o=0;o<a.length;o++)a[o].call(i,r);return r}}function y(e,t){return e&&t&&w(e)==w(t)}function w(e){return("object"==typeof e?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function x(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function _(t){return e.isFunction(t)?e.grep(m,t):null!=t?(t+="",e.grep(m,(function(e){return e._id==t}))):m}function k(){h++||s("loading",null,!0,l())}function S(){--h||s("loading",null,!1,l())}function T(n,o){var a,s,l,c={};if(r.eventDataTransform&&(n=r.eventDataTransform(n)),o&&o.eventDataTransform&&(n=o.eventDataTransform(n)),e.extend(c,n),o&&(c.source=o),c._id=n._id||(void 0===n.id?"_fc"+Ge++:n.id+""),n.className?"string"==typeof n.className?c.className=n.className.split(/\s+/):c.className=n.className:c.className=[],a=n.start||n.date,s=n.end,N(a)&&(a=t.duration(a)),N(s)&&(s=t.duration(s)),n.dow||t.isDuration(a)||t.isDuration(s))c.start=a?t.duration(a):null,c.end=s?t.duration(s):null,c._recurring=!0;else{if(a&&!(a=i.moment(a)).isValid())return!1;s&&((s=i.moment(s)).isValid()||(s=null)),void 0===(l=n.allDay)&&(l=U(o?o.allDayDefault:void 0,r.allDayDefault)),I(a,s,l,c)}return c}function I(e,t,n,r){r.start=e,r.end=t,r.allDay=n,E(r),Je(r)}function E(e){C(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(r.forceEventDuration?e.end=i.getDefaultEventEnd(e.allDay,e.start):e.end=null)}function C(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=i.rezoneDate(e.start)),e.end&&!e.end.hasTime()&&(e.end=i.rezoneDate(e.end)))}function D(t){var n;return t.end||(null==(n=t.allDay)&&(n=!t.start.hasTime()),(t=e.extend({},t)).end=i.getDefaultEventEnd(n,t.start)),t}function P(t,n,r){var i,s,l,c,u,d,f,p,h,m=[];if(n=n||o,r=r||a,t)if(t._recurring){if(s=t.dow)for(i={},l=0;l<s.length;l++)i[s[l]]=!0;for(c=n.clone().stripTime();c.isBefore(r);)i&&!i[c.day()]||(u=t.start,d=t.end,f=c.clone(),p=null,u&&(f=f.time(u)),d&&(p=c.clone().time(d)),I(f,p,!u&&!d,h=e.extend({},t)),m.push(h)),c.add(1,"days")}else m.push(t);return m}function A(n,r,o){var a,s,l,c,u,d={};function f(e,n){return o?M(e,n,o):r.allDay?(i=e,a=n,t.duration({days:i.clone().stripTime().diff(a.clone().stripTime(),"days")})):O(e,n);var i,a}return(r=r||{}).start||(r.start=n.start.clone()),void 0===r.end&&(r.end=n.end?n.end.clone():null),null==r.allDay&&(r.allDay=n.allDay),E(r),E(a={start:n._start.clone(),end:n._end?n._end.clone():i.getDefaultEventEnd(n._allDay,n._start),allDay:r.allDay}),s=null!==n._end&&null===r.end,l=f(r.start,a.start),c=r.end?f(r.end,a.end).subtract(l):null,e.each(r,(function(e,t){x(e)&&void 0!==t&&(d[e]=t)})),u=function(t,n,r,o,a,s){var l=i.getIsAmbigTimezone(),c=[];o&&!o.valueOf()&&(o=null);a&&!a.valueOf()&&(a=null);return e.each(t,(function(t,u){var d,f;d={start:u.start.clone(),end:u.end?u.end.clone():null,allDay:u.allDay},e.each(s,(function(e){d[e]=u[e]})),E(f={start:u._start,end:u._end,allDay:r}),n?f.end=null:a&&!f.end&&(f.end=i.getDefaultEventEnd(f.allDay,f.start)),o&&(f.start.add(o),f.end&&f.end.add(o)),a&&f.end.add(a),l&&!f.allDay&&(o||a)&&(f.start.stripZone(),f.end&&f.end.stripZone()),e.extend(u,s,f),Je(u),c.push((function(){e.extend(u,d),Je(u)}))})),function(){for(var e=0;e<c.length;e++)c[e]()}}(_(n._id),s,r.allDay,l,c,d),{dateDelta:l,durationDelta:c,undo:u}}function R(t){var n,o=r.businessHours,a=i.getView();return o&&(n=e.extend({},{className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},"object"==typeof o?o:{})),n?(t&&(n.start=null,n.end=null),P(T(n),a.start,a.end)):[]}function H(e,t){var n=t.source||{},i=U(t.constraint,n.constraint,r.eventConstraint),o=U(t.overlap,n.overlap,r.eventOverlap);return j(e=D(e),i,o,t)}function L(e){return j(e,r.selectConstraint,r.selectOverlap)}function j(t,n,r,o){var a,s,l,c,u,d;if((t=e.extend({},t)).start=t.start.clone().stripZone(),t.end=t.end.clone().stripZone(),null!=n){for(a=function(e){if("businessHours"===e)return R();if("object"==typeof e)return P(T(e));return _(e)}(n),s=!1,c=0;c<a.length;c++)if(V(a[c],t)){s=!0;break}if(!s)return!1}for(l=i.getPeerEvents(o,t),c=0;c<l.length;c++)if(W(u=l[c],t)){if(!1===r)return!1;if("function"==typeof r&&!r(u,o))return!1;if(o){if(!1===(d=U(u.overlap,(u.source||{}).overlap)))return!1;if("function"==typeof d&&!d(o,u))return!1}}return!0}function V(e,t){var n=e.start.clone().stripZone(),r=i.getEventEnd(e).stripZone();return t.start>=n&&t.end<=r}function W(e,t){var n=e.start.clone().stripZone(),r=i.getEventEnd(e).stripZone();return t.start<r&&t.end>n}e.each((r.events?[r.events]:[]).concat(r.eventSources||[]),(function(e,t){var n=b(t);n&&d.push(n)})),i.getBusinessHoursEvents=R,i.isEventRangeAllowed=H,i.isSelectionRangeAllowed=L,i.isExternalDropRangeAllowed=function(t,n){var r,i;n&&(r=e.extend({},n,t),i=P(T(r))[0]);return i?H(t,i):L(t=D(t))},i.getEventCache=function(){return m}}function Je(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}Fe.prototype.getPeerEvents=function(e,t){var n,r,i=this.getEventCache(),o=[];for(n=0;n<i.length;n++)r=i[n],e&&e._id===r._id||o.push(r);return o};var Xe=r.basic=je.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new Oe(this),this.coordMap=this.dayGrid.coordMap},setRange:function(e){je.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function(e){var t=je.prototype.computeRange.call(this,e);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){if(this.weekNumbersVisible)return'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+V(this.opt("weekNumberTitle"))+"</span></th>"},numberIntroHtml:function(e){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(e,0).start.format("w")+"</span></td>"},dayIntroHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>"},introHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>"},numberCellHtml:function(e){var t,n=e.start;return this.dayNumbersVisible?((t=this.dayGrid.getDayClasses(n)).unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=f(this.el.find(".fc-week-number")))},setHeight:function(e,t){var n,r=this.opt("eventLimit");h(this.scrollerEl),s(this.headRowEl),this.dayGrid.destroySegPopover(),r&&"number"==typeof r&&this.dayGrid.limitRows(r),n=this.computeScrollerHeight(e),this.setGridHeight(n,t),r&&"number"!=typeof r&&this.dayGrid.limitRows(r),!t&&p(this.scrollerEl,n)&&(a(this.headRowEl,b(this.scrollerEl)),n=this.computeScrollerHeight(e),this.scrollerEl.height(n))},setGridHeight:function(e,t){t?d(this.dayGrid.rowEls):u(this.dayGrid.rowEls,e,!0)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(e,t){return this.dayGrid.renderDrag(e,t)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},destroySelection:function(){this.dayGrid.destroySelection()}}),Qe=r.month=Xe.extend({computeRange:function(e){var t,n=Xe.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(t=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-t,"weeks")),n},setGridHeight:function(e,t){(t=t||"variable"===this.opt("weekMode"))&&(e*=this.rowCnt/6),u(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){var e=this.opt("weekMode");return e?"fixed"===e:this.opt("fixedWeekCount")}});Qe.duration={months:1},Qe.defaults={fixedWeekCount:!0},r.basicWeek={type:"basic",duration:{weeks:1}},r.basicDay={type:"basic",duration:{days:1}};(r.agenda=je.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new Pe(this),this.opt("allDaySlot")?(this.dayGrid=new Oe(this),this.coordMap=new ye([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(e){je.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=e('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroyDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.destroyDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var e;return this.opt("weekNumbers")?(e=this.timeGrid.getCell(0).start.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+V(e)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||V(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(e){this.timeGrid.updateSize(e),je.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=f(this.el.find(".fc-axis"))},setHeight:function(e,t){var n,r;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),s(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),(n=this.opt("eventLimit"))&&"number"!=typeof n&&(n=5),n&&this.dayGrid.limitRows(n)),t||(r=this.computeScrollerHeight(e),p(this.scrollerEl,r)?(a(this.noScrollRowEls,b(this.scrollerEl)),r=this.computeScrollerHeight(e),this.scrollerEl.height(r)):(this.scrollerEl.height(r).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var e=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(e);return(n=Math.ceil(n))&&n++,n},renderEvents:function(e){var t,n=[],r=[];for(t=0;t<e.length;t++)e[t].allDay?n.push(e[t]):r.push(e[t]);this.timeGrid.renderEvents(r),this.dayGrid&&this.dayGrid.renderEvents(n),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(e,t){return e.start.hasTime()?this.timeGrid.renderDrag(e,t):this.dayGrid?this.dayGrid.renderDrag(e,t):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}})).defaults={allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0},r.agendaWeek={type:"agenda",duration:{weeks:1}},r.agendaDay={type:"agenda",duration:{days:1}}})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("knockout"),require("ramda"),require("jquery")):"function"==typeof define&&define.amd?define(["exports","knockout","ramda","jquery"],t):t(e.imJsCore={},e.ko,e.R,e.$)}(this,(function(e,t,n,r){"use strict";function i(e){return""===e||null==e}t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r;var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,f="object"==(void 0===o?"undefined":a(o))&&o&&o.Object===Object&&o,p="object"==("undefined"==typeof self?"undefined":a(self))&&self&&self.Object===Object&&self,h=f||p||Function("return this")(),m=Object.prototype.toString,g=Math.max,v=Math.min,b=function(){return h.Date.now()};function y(e){var t=void 0===e?"undefined":a(e);return!!e&&("object"==t||"function"==t)}function w(e){return"symbol"==(void 0===e?"undefined":a(e))||function(e){return!!e&&"object"==(void 0===e?"undefined":a(e))}(e)&&"[object Symbol]"==m.call(e)}function x(e){if("number"==typeof e)return e;if(w(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=c.test(e);return n||u.test(e)?d(e.slice(2),n?2:8):l.test(e)?NaN:+e}var _=function(e,t,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function h(e){return c=e,s=setTimeout(w,t),u?p(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function w(){var e=b();if(m(e))return _(e);s=setTimeout(w,function(e){var n=t-(e-l);return d?v(n,o-(e-c)):n}(e))}function _(e){return s=void 0,f&&r?p(e):(r=i=void 0,a)}function k(){var e=b(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return h(l);if(d)return s=setTimeout(w,t),p(l)}return void 0===s&&(s=setTimeout(w,t)),a}return t=x(t)||0,y(n)&&(u=!!n.leading,o=(d="maxWait"in n)?g(x(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),k.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},k.flush=function(){return void 0===s?a:_(b())},k};var k=function(e,t,n){return function(){var r=e(),i=r.items,o=r.page;0!==i.length&&(t(o),n(i))}},S=function(e,t,r,i){return function(o){if(!1===Array.isArray(o))throw"updateAllItems can only accept an array";e(o),t(n.slice(0,r,o)),i(0)}},T=function(e,r,i,o){return function(){var a=t.unwrap(e),s=r(),l=o+i*s,c=l+i;return{items:n.slice(l,c,a),page:s+1}}},I=function(e,t,n){return function(){var r=e(),i=r.items,o=r.page;if(0!==i.length){var a=n().concat(i);t(o),n(a)}}},E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C=function(e,r){var i=t.unwrap(r);return n.isNil(i)?""+n.propOr("0","length",e):n.isNil(e)?"0/"+i:e.length+"/"+i},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D=function e(n,r){return n&&n.length>t.unwrap(r)?e(n.slice(0,n.length-1),r):n},P=n.curry((function(e,t){return n.reduce((function(n,r){return n[e[r]||r]=t[r],n}),{},n.keys(t))})),A=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},N=function(e,t){var n=[],r=void 0,i=void 0;if(t=t.toLowerCase(),void 0!==(i=e.split("?")[1])){i=i.split("&");for(var o=0;o<i.length;o++)r=i[o].split("="),n.push(r[1]),n[r[0].toLowerCase()]=r[1]}return n[t]},R=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},H=function(e,t){return i(e)||e!=e?"":e.toString?t?e.toString(t):e.toString():e+""},L=function(e,t){return e.toFixed(t)},j=function(e,t){var r=n.pipe(H,n.split("."),n.nth(1),n.defaultTo(""),n.length),i=n.max(r(e),r(t)),o=n.pipe(n.curry(L)(n.__,i),n.replace(".",""),parseInt);return o(e)%o(t)/Math.pow(10,i)};e.isNullOrEmpty=i,e.debounce=_,e.formatFileSizeFromBytes=function(e){var t=e||0,n=1024,r=Math.pow(n,2),i=Math.pow(n,3),o="",a=function(e,t,n){return""+Math.round(e/t)+n};return t<n?o=t+"B":t>=n&&t<r?o=a(t,n,"KB"):t>=r&&t<i?o=a(t,r,"MB"):t>=i&&(o=a(t,i,"GB")),o},e.createPagedObservableArray=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,i=arguments[2],o=i||r,a=t.observableArray(e),s=t.observable(0),l=t.observableArray(n.slice(0,o,e)),c=t.pureComputed((function(){return a()})),u=T(a,s,r,o);return{items:l,nextPage:k(u,s,l),updateAllItems:S(a,l,o,s),appendNextPage:I(u,s,l),allItemsReadOnly:c}},e.addKoCharacterCounter=function(e){var r=e.maxLength,i=e.textInput,o=t.observable();return i.subscribe((function(e){return n.pipe(C,o)(e,r)})),t.isObservable(r)&&r.subscribe((function(e){return n.pipe(C,o)(i(),e)})),i.valueHasMutated(),E({},e,{count:o})},e.addKoMaxTextReached=function(e){var r=e.textInput,i=e.maxLength,o=e.mustExceed,a=function(e,r){return function(i){var o=t.unwrap(e);return!n.isNil(i)&&(r?i.length>o:i.length>=o)}}(i,o),s=t.observable();return r.subscribe((function(e){a(e,i),s(a(e,i))})),t.isObservable(i)&&i.subscribe((function(e){s(a(r(),e))})),r.valueHasMutated(),O({},e,{maxReached:s})},e.addKoTextTruncater=function(e){var n=e.textInput,r=e.maxLength;return n.subscribe((function(e){var t=D(e,r);n(t)})),t.isObservable(r)&&r.subscribe((function(e){var t=D(n(),e);n(t)})),n.valueHasMutated(),M({},e)},e.factoryInjector=function(e,t){if(void 0===e)throw"No factory provided";return function(n){var i=Array.prototype.slice.call(arguments),o=r.extend(!0,{},t,n),a=[o,i.slice(1,i.length)];return e.apply(null,a)}},e.getBy=function(e,t,r){return n.find(n.propEq(e,t),r)},e.renameKeys=P,e.noop=function(){},e.isFunction=A,e.pipeMerge=function(){var e=Array.prototype.slice.call(arguments);return function(t){var r=Array.prototype.slice.call(arguments);return n.merge(t,e.reduce((function(e,t,i){var o=0===i?r:[e];return A(t)?n.merge(e,t.apply(null,o)):n.merge(e,t)}),t))}},e.toDecimalString=function(e,t){return n.pipe(n.match(function(e){return new RegExp("(-?\\d+[\\.,]?\\d{0,"+n.defaultTo("",e)+"})|-","g")}(e)),n.head,n.defaultTo(""),n.replace(/[.|,]$/,""))(t)},e.getPluckedString=function(e,t,r){return"string"==typeof e&&e.length?n.pipe(n.pluck(e),n.join(r||""===r?r:","))(t):""},e.getURLParameter=N,e.getURLParameters=function(e){var t=e.split("?")[1],n=(void 0===t?"":decodeURIComponent(t)).split("&"),r={};return 1===n.length&&""===n[0]||(r=n.reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),r)),r},e.setQueryString=function(e,t,n){var r=new RegExp("([?|&]"+e+"=).*?(&|#|$)"),i=n.split("#"),o=R(i,2),a=o[0],s=o[1];return a=a.search(r)>=0?a.replace(r,"$1"+t+"$2"):a+(a.indexOf("?")>0?"&":"?")+e+"="+t,s?a+"#"+s:a},e.toString=H,e.numericMarkIsValid=function(e,t,r,i){return n.pipe(H,n.replace(",","."),parseFloat,(function(n){return n>=e&&n<=t&&0===j(n,r)}))(i)},e.mockTranslations=function(e,t){var r="true"!==N(document.location.href,"HideTranslationMockSymbols")?["!! "," !!"]:["",""];return n.merge(n.mapObjIndexed((function(e){return r[0]+e+r[1]}),t),e)},Object.defineProperty(e,"__esModule",{value:!0})})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("ramda")):"function"==typeof define&&define.amd?define(["exports","ramda"],t):t((e=e||self).imTsAria={},e.R)}(this,(function(e,t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r={},i=function(e){if("string"!=typeof e||0===e.length)throw"generateNamespace: function must be called with a string";r.hasOwnProperty(e)||(r=t.assoc(e,0,r));var n=e+"-"+r[e]+"-";if(r[e]++,n.includes(" "))throw"generateNamespace: baseIdStr cannot contain spaces";return n};e.createButton=function(e){return{role:"button","aria-haspopup":!0,"aria-expanded":!1,"aria-controls":i(e)+"controlsId"}},e.createCombobox=function(e){var t=i(e),r=t+"combobox",o=t+"input",a=t+"listbox";return n(n({},function(e){var t=0;return{getNextListItemId:function(){return t++,e+"item-"+t}}}(t)),{comboboxId:r,inputId:o,listboxId:a})},e.createDialog=function(e,t){return e||console.warn("aria-label required"),t||console.warn("Button aria-label required"),{dialogBody:{role:"dialog","aria-modal":!0,"aria-label":e},dialogButton:{"aria-label":t}}},e.createLabelledBy=function(e){var t,n=i(e)+"labelledby-id";return(t={})["aria-labelledby"]=n,t.id=n,t},e.createMenuButton=function(e){var t=i(e)+"controlsId";return{role:"button","aria-haspopup":!0,"aria-expanded":!1,"aria-controls":t,ariaControlsId:t}},e.createTabs=function(e){var t=e.namespace,r=e.ariaLabel,o=e.tabs,a=void 0===o?[]:o;r||console.warn("aria-label required");var s=i(t),l=a.map(function(e){return function(t){var r=e+"_tab_"+t.id,i=e+"_panel_"+t.id;return{tab:n(n({},t),{tabAttributes:{tabIndex:-1,role:"tab","aria-selected":!1,"aria-controls":i,id:r}}),panel:{id:t.id,panelAttributes:{role:"tabpanel",id:i,"aria-labelledby":r,hidden:!0,tabIndex:-1}}}}}(s));return{tabListAttributes:{role:"tablist","aria-label":r},tabButtons:l.map((function(e){return e.tab})),tabPanels:l.map((function(e){return e.panel}))}},Object.defineProperty(e,"__esModule",{value:!0})})),"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null===e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=Math.pow(2,53)-1,r=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),n)};return function(e){var n=this,i=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!t(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var s,l=r(i.length),c=t(n)?Object(new n(l)):new Array(l),u=0;u<l;)s=i[u],c[u]=a?void 0===o?a(s,u):a.call(o,s,u):s,u+=1;return c.length=l,c}}()),Array.prototype.fill||(Array.prototype.fill=function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),n=t.length>>>0,r=arguments[1],i=r>>0,o=i<0?Math.max(n+i,0):Math.min(i,n),a=arguments[2],s=void 0===a?n:a>>0,l=s<0?Math.max(n+s,0):Math.min(s,n);o<l;)t[o]=e,o++;return t}),Array.prototype.find||(Array.prototype.find=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return o;return-1}),Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),n=parseInt(t.length,10)||0;if(0===n)return!1;var r,i,o=parseInt(arguments[1],10)||0;for(o>=0?r=o:(r=n+o)<0&&(r=0);r<n;){if(e===(i=t[r])||e!=e&&i!=i)return!0;r++}return!1}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.prototype.repeat||(String.prototype.repeat=function(e){"use strict";if(null==this)throw new TypeError("can't convert "+this+" to object");var t=""+this;if((e=+e)!=e&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e==1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),0==t.length||0==e)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="";1==(1&e)&&(n+=t),0!=(e>>>=1);)t+=t;return n}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}),IMHome=IMHome||{},IMHome.core=$.extend(IMHome.core||{},function(e,t){var n=ko.observable(),r={SKIP_LINK_TARGET:{HOME:"skip-link-target-home",MAIN:"skip-link-target-main"},MARK_SCHEME_TYPES:{NUMERIC:"numeric",TEXTUAL:"textual",COMMENTS:"comments",ICON:"icon",ECAVISUAL:"ecavisual"},TILES:{HOME:"home",ASSESSMENT_V2:"assessmentv2",ASSIGNMENTS:"task",ATTENDANCE:"attendance",CALENDAR:"calendar",CALENDAR_V2:"calendarv2",DOCUMENTATION:"documentation",GROUP_TIMELINE:"grouptimeline",MESSAGE:"message",COMMUNICATION:"communication",ONLINE_TEST:"onlinetest",PORTFOLIO:"portfolio",TIMETABLE:"timetable",UOL:"uol",UOL_V2:"uolv2",PREFERENCES:"preferences",FAMILY_WEB:"familyweb",SURVEY:"survey",HOMEWORK:"homework",CLASS_LIST:"classlist",TIME_REGISTRATION:"timeregistration",PARENT_MEETING:"parentmeeting",SKOLA24_SSO:"skola24"},OS:{IOS:"IOS",ANDROID:"ANDROID",WINDOWS_PHONE:"WINDOWS_PHONE",DESKTOP:"DESKTOP",UNKNOWN:"UNKNOWN"},USER_ROLE:{PARENT:"parent",PUPIL:"pupil"},CHIP_TYPES:{DEFAULT:"DEFAULT",PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",AUTO_TEXT_COLOUR:"AUTO_TEXT_COLOUR"},SORT_STATES:{NONE:"SORT_NONE",ASC:"SORT_ASC",DESC:"SORT_DESC"},DIALOG_SIZES:{NORMAL:"NORMAL",SMALL:"SMALL"},KEY_CODES:{ESCAPE:27,ARROW_RIGHT:39,ARROW_LEFT:37,HOME:36,END:35},BUTTON_TYPES:{NORMAL:"normal",SECONDARY:"secondary",DELETE:"delete",SUCCESS:"success",ICON_ONLY:"iconOnly",ICON_WITH_BORDER:"iconWithBorder"}},i={BREAKPOINT_1:768,BREAKPOINT_2:852,BREAKPOINT_3:980,BREAKPOINT_4:1050,BREAKPOINT_5:1200,BREAKPOINT_6:1460,BREAKPOINT_7:5e3},o=null,a="YYYY/MM/DD",s=function(){return t.pipe(t.keys,t.find((function(e){return window.matchMedia("(max-width: "+i[e]+"px)").matches})))(i)},l=t.curry((function(e,n){return t.reduce((function(t,r){return t[e[r]||r]=n[r],t}),{},t.keys(n))})),c=t.curry((function(e,n){return t.pipe(t.toPairs,t.find((function(t){return e(t[1],t[0])})),(function(e){return e?e[1]:e}))(n)})),u=function(){return"BREAKPOINT_1"===s()},d=ko.observable(u()),f=ko.observable(!1),p=ko.observable(!1),h={chromeOs:function(){return/\bCrOS\b/.test(navigator.userAgent)},android:function(){return/Android/i.test(navigator.userAgent)},blackberry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},windows:function(){return/IEMobile/i.test(navigator.userAgent)},anyHandheld:function(){return h.android()||h.blackberry()||h.iOS()||h.windows()}},m=ko.observable(window.location),g=t.curry((function(e,t){return _(e+t)})),v=t.curry((function(e,n,r){return t.find((function(t){return ko.unwrap(t[e])===r}),n)})),b=v("id"),y=t.curry((function(e,t,n){return n[e]=t,n})),w=function(e,n){return void 0!==t.find(t.equals(e),n)},x=t.complement(w),_=function(t,n){return e.ajax({type:"POST",url:t,data:JSON.stringify(n),contentType:"application/json; charset=utf-8"}).fail((function(e,n,r){IMHome.core.OnError({message:n+": "+r,url:t})}))},k=t.curry(_),S=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return t.pipe(t.defaultTo(""),(function(e){return e.toString()}),t.replace(/[^\s0-9a-zA-Z]/g,n))(e)},T=function(e,n){var r=t.pipe((function(e){return e.toString()}),t.split("."),t.nth(1),t.defaultTo(""),t.length),i=t.max(r(e),r(n)),o=t.pipe((function(e){return e.toFixed(i)}),t.replace(".",""),parseInt);return o(e)%o(n)/Math.pow(10,i)},I=function(e,n){var r=t.defaultTo(IMHome.pikaday_i18n.dateFormat,n);return moment(e,r).format(a)},E=function(e,n){var r=t.curry((function(e,n){return n.format(t.defaultTo(IMHome.pikaday_i18n.dateFormat,e))}));return t.pipe(moment,r(n))(e)},C=t.pipe(E,I),O=t.curry((function(e,n,r){return t.assoc(n,e(r),r)})),M=t.ifElse(Array.isArray,t.isEmpty,t.F),D=t.both(ko.isObservable,t.pipe(ko.unwrap,Array.isArray)),P=t.ifElse(D,t.identity,ko.observableArray);function A(t){null!==o&&0===e(o).find(t.target).length&&(t.stopPropagation(),o.focus())}function N(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,n=e.split("?")[1],r=void 0===n?"":decodeURIComponent(n),i=r.split("&");return 1!==i.length||""!==i[0]?i.reduce((function(e,n){var r=n.split("="),i=t.head(r),o=t.tail(r).join("=");return t.assoc(i,o,e)}),{}):{}}var H,L=ko.observableArray([]),j=ko.pureComputed((function(){return IMHome.core.locationObservable().hash.substring(1)}));return{isConstructor:(H={construct:function(){return H}},function(e){try{return!!new new Proxy(e,H)}catch(e){return!1}}),constants:r,currentTile:n,hasUnsavedChanges:undefined,guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},normaliseDecimalSeparators:S,floatModulo:T,numericalMarkIsValid:function(e,n,r,i){return t.pipe(t.defaultTo(""),S,parseFloat,(function(t){return t>=n&&t<=e&&0===T(t,r)}))(i)},dateOverlapGuard:function(e,t){var n=function(n,r){return function(){if(ko.unwrap(r)){var i=ko.unwrap(e),o=ko.unwrap(t);i&&o&&i>o&&r(ko.unwrap(n))}}};if(!ko.isObservable(e)||!ko.isObservable(t))throw new Error("dateOverlapGuard expects both parameters to be observables");e.subscribe(n(e,t)),t.subscribe(n(t,e))},isIn:w,isNotIn:x,copyArray:function(e){return[].concat(e)},getLocationHash:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?window.location.hash:window.location.hash.replace(/#/g,"")},getOpenTile:function(){var e=IMHome.core.getLocationHash(!1);return"/"===e?r.TILES.HOME:t.find((function(e){return""!==e}))(e.split("/"))},locationObservable:m,extractWhere:function(e,t){var n=t.filter((function(t){return!0===e(t)})).length;return t.sort((function(t,n){var r=e(t)?1:0;return(e(n)?1:0)-r})),t.splice(0,n)},setProp:y,getBy:v,getById:b,fetchById:g,invokeDownload:function(e){return window.location.assign(e)},getDialogApi:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.templateName,r=void 0!==n&&n,i=t.templateUrl,o=void 0!==i&&i,a=t.data,s=void 0!==a&&a,l=e.Deferred(),c=function(e){!1!==r&&e.setTemplateName(r),!1!==o&&e.setTemplateUrl(o),!1!==s&&e.setData(s),l.resolve(e)};return e.publish("dialog/api",c),l.promise()},formatFileSizeFromBytes:function(e){var t=e||0,n=1024,r=1048576,i=1024*r,o="";return t<n&&(o=t+"B"),t>n&&t<r&&(o=Math.round(t/n)+"KB"),t>r&&t<i&&(o=Math.round(t/r)+"MB"),t>i&&(o=Math.round(t/i)+"GB"),o},defaults:{PAGE_SIZE:20},lightboxableFiles:["jpg","png","gif"],screenWidths:i,postJSON:_,curriedPostJSON:k,postFormattedJSON:t.curry((function(e,n,r){return t.pipe(n,k(e))(r)})),postFormattedUrl:t.curry((function(e,n,r){return t.pipe(n,_)(e,r)})),pipeMerge:function(){var e=Array.prototype.slice.call(arguments);return function(n){var r=Array.prototype.slice.call(arguments);return t.merge(n,e.reduce((function(e,n,i){var o=0===i?r:[e];return IMHome.core.isFunction(n)?t.merge(e,n.apply(null,o)):t.merge(e,n)}),n))}},isEmptyArray:M,isFunction:function(e){return"function"==typeof e},acceptLatest:function(){var e=null;return function(t){return null!==e&&e.abort(),e=t,t}},deleteCookie:N,awaitServer:function(t,n){if(!window.docCookies)throw'docCookies.js must be loaded to use "awaitServer"';var r=e.Deferred(),i=setInterval((function(){"true"===window.docCookies.getItem(t)&&(N(t),clearInterval(i),r.resolve())}),n||5e3);return r.promise()},triggerNotificationUpdate:function(t){setTimeout((function(){e.publish("notification/triggerUpdate",{types:t})}),1)},allNotifications:L,isNullOrEmpty:function(e){return""===e||null==e},isNullOrEmptyArray:t.anyPass([t.isNil,t.isEmpty]),addDay:function(e,t){return new Date(e.setDate(e.getDate()+t))},throttle:function(e,t,n){var r=null;return!0===n?function(){var n=this,i=arguments;r||e.apply(n,i),r=setTimeout((function(){clearTimeout(r)}),t)}:function(){var n=this,i=arguments;clearTimeout(r),r=setTimeout((function(){e.apply(n,i)}),t)}},isCompactView:u,isMobile:d,isNativeApp:f,isTabNavMode:p,getScreenBreakpoint:s,regEx:{timeHHMM:/^([01][0-9]|2[0-3])(:|\.)[0-5][0-9]$/,fileExtension:/\.([0-9a-z]+)(?:[\?#]|$)/,YOUTUBE:/(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((?:\w|-){11})/gi,VIMEO:/vimeo\.com\/(\d+)/gi,URL:/((?:(?:https?:\/\/)|(?:www\.))(?:[-a-zA-Z0-9.]{2,253})(?:(?:\.(?:[a-z]{2,6}))|(?::[0-9]{1,6}))\/?[-a-zA-Z0-9@:;%_+.,~#?!&//=]*)/},event:{transitionEnd:"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",animationEnd:"webkitAnimationEnd oAnimationEnd msAnimationEnd animationend"},standardDateFormat:a,getComponentTemplatePath:function(){return this.baseUrl+IMHome.init.environmentPath+"/html/components/"},getTemplatePath:function(e){return this.baseUrl+IMHome.init.environmentPath+"/html/apps/"+e},afterRepaint:function(t){var n={element:null,success:e.noop,fail:e.noop,tries:20,delay:20},r=1;t=e.extend(n,t),function e(){setTimeout((function(){var n,i;n=t.element,i=!1,getComputedStyle(n).height&&(i=!0),i?t.success():(r=t.delay,--t.tries>0?e():t.fail())}),r)}()},rejectFocus:function(t){t=e(t),setTimeout((function(){t.find("a, input, select, textarea, button, [tabindex]").each((function(){var t=e(this);t.data("originalTabIndex",e(this).attr("tabindex")),t.attr("tabindex","-1")}))}),0)},restoreFocus:function(t){(t=e(t)).find("*").each((function(){var t=e(this);t.removeAttr("tabindex"),void 0!==t.data("originalTabIndex")&&t.attr("tabindex",t.data("originalTabIndex"))}))},confineFocus:function(t){(o=e(t)).attr("tabindex",0),o.focus(),document.addEventListener("focus",A,!0)},releaseFocus:function(){document.removeEventListener("focus",A),o=null},baseUrl:e('meta[name="baseUrl"]').attr("content"),loadScript:function(t){var n=e.Deferred(),r=document.createElement("script");return r.async="async",r.type="text/javascript",r.src=t+"?"+e('meta[name="cachekey"]').attr("content"),r.onload=r.onreadystatechange=function(e,t){r.readyState&&!/loaded|complete/.test(r.readyState)||(t?n.reject():n.resolve())},r.onerror=function(){n.reject()},e("head")[0].appendChild(r),n.promise()},addElementToBody:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=document.createElement(e);return document.body.appendChild(t),t},getURLParameters:R,setHashParameters:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.hash;window.location.hash=IMHome.core.buildUrl(t,e)},buildUrl:function(e,n){var r,i=R(e);if(Array.isArray(n)&&(n=n.reduce((function(e,n){return t.assoc(n.name,n.value||null,e)}),{})),""!==(r=function e(t,n){var r=[];for(var i in t)if(t.hasOwnProperty(i)){var o=n?n+"["+i+"]":i,a=IMHome.core.isNullOrEmpty(t[i])?"":t[i];r.push("object"!==_typeof(a)||Array.isArray(a)?encodeURIComponent(o)+"="+(/{\d*}/.test(a)?a:encodeURIComponent(a)):e(a,o))}return r.join("&")}(t.merge(i,n)))){var o=e.indexOf("?"),a=-1!==o?o:e.length;e=e.substr(0,a)+"?"+r}return e},loadView:function(t){var n,r,i,o,a,s,l,c=[],u=e.Deferred();if(o=t.viewUrl.replace(/\/|\./g,"_"),n=document.getElementById(o),l=t.element instanceof HTMLElement?t.element:t.element instanceof jQuery?t.element[0]:"string"==typeof t.element?e(t.element)[0]:null,"function"==typeof t.viewModel)i=t.viewModel,c.push(i);else{if("string"!=typeof t.viewModel)throw i=null,"ViewModel constructor is undefined";c.push(IMHome.core.loadScript(t.viewModel))}return null===n?c.push(e.ajax({url:t.viewUrl,dataType:"html",cache:!1})):c.push(n),"string"==typeof t.data?c.push(e.ajax({url:IMHome.core.buildUrl(t.data,[{name:"_",value:IMHome.init.cacheKey}]),dataType:"json",data:t.postData,type:"POST"})):"object"===_typeof(t.data)?c.push([t.data]):c.push([{}]),e.when.apply(void 0,c).then((function(c,d,f){var p,h=d[0];void 0===i&&(r=t.viewModel.split("."),a=r[r.length-3],s=r[r.length-2],i=IMHome[a][s]),null===n&&((n=document.createElement("script")).type="text/template",n.id=o,document.body.appendChild(n),n.innerHTML=h),p=IMHome.core.isConstructor(i)?new i(f[0]):i(f[0]),!0===e.isFunction(p.init)&&p.init();if(h&&null!==h.match(/class(?==("|')(?:main-content|.*?\smain-content|main-content\s.*?|.*?\main-content\s.*?)("|'))/))throw'Cannot use ".main-content" in your app HTML - IMHome.home.HomeViewModel.openApp relies on only one element with this class existing';ko.renderTemplate(o,p,{},l,"replaceChildren"),!0===e.isFunction(t.callback)&&t.callback(),u.resolve(p)})),u},confirm:function(e){IMHome.core.showDialog(new IMHome.core.Dialog({title:e.title,content:e.message,buttons:e.buttons,dialogCssClass:"confirm-dialog"}))},setTitleTag:function(e){var t,n,r,i=IMHome.localisation.title,o=(null===(t=IMHome.home.homeData)||void 0===t||null===(n=t.apps)||void 0===n||null===(r=n.find((function(t){return t.codeName===e})))||void 0===r?void 0:r.displayName)||"";o=o?"".concat(o," - ").concat(i):IMHome.localisation.title;var a=document.getElementsByTagName("title");a[0]&&(a[0].innerHTML=o)},showDialog:function(e){var t=this.addElementToBody();ko.renderTemplate("t_dialog",e,{},t,"replaceChildren"),t.style.display="block",setTimeout((function(){e.active(!0)}),0)},hideDialog:function(){var t,n=e(".dialog-wrapper.active"),r=n.get(0);r&&(t=ko.dataFor(r),n.one(IMHome.core.event.transitionEnd,(function(){ko.cleanNode(r),n.parent().remove()})),t.active(!1))},format:function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),IMHome.core.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,(function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),n)})),t)},htmlDecodeWithLineBreaks:function(t){var n="_______break_______",r=t.replace(/<br\s?\/?>/gi,n).replace(/<p\.*?>(.*?)<\/p>/gi,n+"$1"+n);return e("<div>").html(r).text().replace(new RegExp(n,"g"),"\n")},isEnterKey:function(e){return 13===(e.keyCode?e.keyCode:e.which)},toJSON:function(e){var t;try{t=JSON.parse(e)}catch(e){return!1}return t},noop:function(){},mockAjax:function(t,n,r){var i=e.Deferred();return e.publish("ajaxStart"),window.setTimeout((function(){e.publish("ajaxStop"),r?i.reject(t):i.resolve(t)}),n),i.promise()},mockTranslations:t.curry((function(e,n){return t.merge(t.mapObjIndexed((function(e){return"!! "+e+" !!"}),n),e)})),dateTo24HourString:function(e){var t=e.getHours(),n=t<10?"0"+t:t,r=e.getMinutes();return n+":"+(r<10?"0"+r:r)},getMonday:function(e){var t=(e=new Date(e)).getDay(),n=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(n))},capitaliseFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},truncateText:function(e,t,n){return n=n||"...",e.substring(0,t-n.length)+n},stripHTML:function(t){return"string"==typeof t?e.trim(e("<div>"+t+"</div>").text()):t},activateItem:function(e,t){ko.utils.arrayForEach(e(),(function(e){e.active(!1)})),t.active(!0)},koJQueryHelper:function(t,n,r){return r.callFunction=function(){var r=e()[n];return arguments.length>1?r.apply(e(t),arguments):r.call(e(t),arguments[0])},{addListener:function(n){e(t).on(n.eventName,n.func)},removeListener:function(n){e(t).off(n.eventName,n.func)}}},getSvgIconIdFromContextType:function(e){var t;switch(e.toLowerCase()){case"task":t="clipboardA";break;case"message":t="envelope";break;case"grid":t="reading-book"}return t},getIconTemplateFromFileType:function(e){var t;switch((e||"").toLowerCase()){case"image":t="t_icon_image";break;case"video":t="t_icon_video";break;case"word processor":t="t_icon_word";break;case"spreadsheet":t="t_icon_excel";break;case"presentation":t="t_icon_powerpoint";break;case"audio":t="t_icon_audio";break;case"archive":t="t_icon_zip";break;case"document":t="t_icon_pdf";break;default:t="t_icon_text"}return t},getSvgIconIdFromFileType:function(e){switch((e=t.defaultTo("",e)).toLowerCase()){case"word processor":return"metro-word";case"spreadsheet":return"metro-excel";case"presentation":return"metro-power-point";case"image":return"metro-image";case"video":return"metro-video";case"audio":return"metro-sound";case"archive":case"publisher":return"metro-zip";case"document":case"markScheme":return"metro-pdf";case"activeinspire":case"smart notebook":default:return"metro-notepad"}},createTextareaCountLimiter:function(e,t){var n=ko.observable(),r=ko.observable(),i=ko.observable();return r.subscribe((function(e){var a,s=o(e);r(s),n((null===(a=s)?0:a.length)+"/"+t),i(e&&e.length>=t)})),r(e||""),{count:n,maxReached:i,textInput:r};function o(e){return e&&e.length>t?o(e.slice(0,e.length-1)):e}},makeObservable:function(e,n){return e=t.defaultTo(n,e),ko.isObservable(e)?e:Array.isArray(e)?ko.observableArray(e):ko.observable(e)},defaultObservable:t.pipe(t.defaultTo,(function(e){return ko.isObservable(e)?e:ko.observable(e)})),isObservableArray:D,toObservableArray:P,defaultObservableArray:t.pipe(t.defaultTo,P),formatLocaleDateStringToStandardFormat:I,formatStandardDateStringToLocaleFormat:function(e,n){var r=t.defaultTo(IMHome.pikaday_i18n.dateFormat,n);return moment(e,a).format(r)},formatDateToLocaleFormat:E,formatDateToStandardFormat:C,renameKeys:l,findInObject:c,factoryInjector:function(t,n){if(void 0===t)throw"No factory provided";return function(r){var i=Array.prototype.slice.call(arguments),o=e.extend(!0,{},n,r),a=[o,i.slice(1,i.length)];return t.apply(null,a)}},assocWith:O,toLowerCase:function(e){return t.defaultTo("",e).toLowerCase()},getMobileOS:function(){return h.anyHandheld()?h.windows()?r.OS.WINDOWS_PHONE:h.android()?r.OS.ANDROID:h.iOS()?r.OS.IOS:r.OS.UNKNOWN:r.OS.DESKTOP},prefixIdWithHash:function(e){var n=j();return!1===t.isNil(e)?"".concat(n,"/").concat(e.toLowerCase()):null},currentHash:j,init:function(){var t,n=matchMedia("screen and (max-width: ".concat(IMHome.core.screenWidths.BREAKPOINT_1,"px)"));"-ms-user-select"in document.documentElement.style&&navigator.userAgent.match(/IEMobile\/10\.0/)&&((t=document.createElement("style")).appendChild(document.createTextNode("@@-ms-viewport{width:auto!important}")),document.getElementsByTagName("head")[0].appendChild(t)),window.navigator.standalone&&e((function(){e(".pupiltrigger").click((function(t){t.preventDefault(),location.href=e(this).attr("href")}))})),e("body").on("keyup",(function(t){9===t.keyCode&&p(!0),e.publish("global/keyup",t)})),e("body").on("keydown",(function(t){e.publish("global/keydown",t)})),e("body").on("click",(function(t){t.originalEvent&&0!==t.originalEvent.detail&&p(!1),e.publish("global/click",t)})),window.hasOwnProperty("ontouchstart")&&/iPhone|iPad|iPod/i.test(navigator.userAgent)&&e("body").addClass("is-ios-device"),n.addListener((function(e){d(e.matches)})),IMHome.core.hasUnsavedChanges=IMHome.core.hasUnsavedChangesHandler.hasUnsavedChanges,IMHome.core.hasUnsavedChanges(!1),window.addEventListener("beforeunload",IMHome.core.hasUnsavedChangesHandler.beforeUnload);var r=function(){return IMHome.core.currentTile(IMHome.core.getOpenTile())};window.addEventListener("hashchange",r,!1),r()}}}(jQuery,R)),IMHome.core=R.merge(imJsCore,IMHome.core),IMHome.aria=imTsAria,$((function(){IMHome.core.init()})),IMHome.core=IMHome.core||{},IMHome.core.Checkbox=function(e){var t=this;t.templateName="t_filterCheckbox",t.checked=ko.observable(e.checked),t.name=e.name,t.displayName=e.displayName,t.toggleCheckbox=function(e){e.checked(!e.checked())},t.handleKeydown=function(e,n){return 32===n.keyCode&&t.toggleCheckbox(e),!0},t.clear=function(){t.checked(!1)}},IMHome.core=IMHome.core||{},IMHome.core.ColourConverter=function(){return{hexToRgb:e,hexToRgba:function(t,n){return R.merge(e(t),{a:n})},rgbToCssRule:function(e,t){var n=t+": rgba("+e.r+", "+e.g+", "+e.b;n=e.a?n+=", "+e.a+")":n+=")";return n},toRgbaString:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a||t,")")},lighten:function(t,n){void 0!==t.charAt&&"#"===t.charAt(0)&&(t=e(t));var r=function(e){return t=e,r=n,R.clamp(0,255)(Math.round(t+(255-t)*r));var t,r};return{r:r(t.r),g:r(t.g),b:r(t.b)}},rgbaToRgb:function(e,t){var n=t.a;return{r:Math.round((1-n)*e.r+n*t.r),g:Math.round((1-n)*e.g+n*t.g),b:Math.round((1-n)*e.b+n*t.b)}}};function e(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t=t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},IMHome.core=IMHome.core||{},IMHome.core.CompactAppController=function(e){var t=this;t.translations=e.translations,t.listItems=e.listItems,t.selectItem=e.selectItem,t.hideItem=e.hideItem,t.activeListItem=ko.computed((function(){return ko.unwrap(t.listItems).filter((function(e){return!0===e.active()}))[0]||null})),t.selectedItemIndex=ko.computed((function(){var e=-1;return ko.unwrap(t.listItems).length>0&&(e=t.listItems.indexOf(t.activeListItem())),e})),t.pageCount=ko.computed((function(){var e="-";return-1!==t.selectedItemIndex()&&(e=t.selectedItemIndex()+1),IMHome.core.format(t.translations.pageCount,e,ko.unwrap(t.listItems).length)})),t.previousButtonIsDisabled=ko.computed((function(){return t.selectedItemIndex()<=0})),t.nextButtonIsDisabled=ko.computed((function(){return t.selectedItemIndex()===ko.unwrap(t.listItems).length-1})),t.previousItemClick=function(){var e=t.selectedItemIndex();e>0&&t.selectItem(null,ko.unwrap(t.listItems)[e-1])},t.nextItemClick=function(){var e=t.selectedItemIndex();e<ko.unwrap(t.listItems).length-1&&t.selectItem(null,ko.unwrap(t.listItems)[e+1])},t.onBackClick=function(e){e=e||t.appName,window.location.hash="/"+e}},IMHome.core=IMHome.core||{},IMHome.core.ContentController=function(e){var t=ko.observable(null),n=ko.observable(null),r=ko.observable(!1),i=ko.observable(!1),o=ko.observable(!1),a=IMHome.core.acceptLatest(),s=e.hasItemEmptyTemplate,l=e.appTemplateName?e.appTemplateName:e.appName?e.appName+"."+e.appName:"",c=function(){return null===t()||!0===t().noResults?!0===s?l:"t_itemEmpty":l},u=function(){return null===n()||!0===n().noResults?!0===s?l:"t_itemEmpty":l},d={getItemParamName:"id",ItemConstructor:$.noop,getItemUrl:"",appName:"",activeItemTemplateName:c,nextItemTemplateName:u,itemDataFormatter:null,onListItemClick:function(t,n){if(n=0===n?0:n||null){var r="/"+e.appName+"/show/"+n;window.location.hash=r}else g(n)}},f=(e=$.extend(d,e)).onListItemClick;$.subscribe("listItem/click",f),$.subscribe("route",e.onRouteChange||h);var p={templatePath:e.templatePath,activeItemTemplateName:c,nextItemTemplateName:u,activeItem:t,nextItem:n,addingNewItem:i,compactViewActive:o,newItemTransitionEnd:function(){i(!1),t(n()),n(null),$.publish("item/transitionEnd")},newItemRendered:function(e){IMHome.core.afterRepaint({element:e[0].parentNode,success:function(){i(!0)},fail:function(){i(!0)}})},isLoadingItem:r,destroy:function(){p.onListItemClick&&$.unsubscribe("listItem/click",p.onListItemClick);p.onRouteChange&&$.unsubscribe("route",p.onRouteChange)},onListItemClick:f,defaultOnRouteChange:h,getItem:e.getItem||function(t){var n,r=$.Deferred(),i=null;"function"==typeof e.getItemParams?i=e.getItemParams(t):(i={})[e.getItemParamName]=t;return a(IMHome.core.postJSON(e.getItemUrl,i)).then((function(t){n=null!==e.itemDataFormatter?e.itemDataFormatter(t):t,r.resolve(n)})),r.promise()},selectItem:g};return p;function h(e,t){var n=t.params;i(!1),"action"in n==!1&&o(!1),"show"===n.action&&g(isNaN(parseInt(n.id))?n.id:parseInt(n.id))}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=IMHome.core.isNullOrEmpty(e.itemConstructorResolver)?e.ItemConstructor:e.itemConstructorResolver(t);t.noResults?n({noResults:!0}):n(new r(t))}function g(e){var t={noResults:!0};return null===e?(m(t),void $.publish("item/newItem",t)):void 0!==e?(r(!0),p.getItem(e).then((function(e){m(e),o(!0),r(!1),$.publish("item/newItem",e)}))):void 0}},IMHome.core=IMHome.core||{},IMHome.core.ContentPager=function(e){var t=e.translations,n=e.currentPage,r=e.totalPages,i=ko.pureComputed((function(){var e=ko.unwrap(r);return IMHome.core.format(t.pageCount,n(),e)})),o=this;return{translations:t,totalPages:r,currentPage:n,nextItemClick:function(){$.publish("pager/nextClick",o)},previousItemClick:function(){$.publish("pager/prevClick",o)},hideItem:function(){$.publish("pager/backClick",o)},pageCount:i,previousButtonIsDisabled:e.previousButtonIsDisabled,nextButtonIsDisabled:e.nextButtonIsDisabled}},IMHome.core=IMHome.core||{},IMHome.core.createContextMenuAdvanced=function(e){"use strict";var t="placement-top",n="placement-bottom",r="placement-left",i="placement-right",o=e.icon,a=void 0===o?"dots":o,s=e.clippingParentSelector,l=void 0===s?"body":s,c=(e.items||[]).map((function(e){return e})),u=IMHome.core.defaultObservable(!1,e.isOpen),d=IMHome.core.defaultObservable(n,e.placement),f=function(e){var o,a=e.placement,s=(_defineProperty(o={},t,ko.observable(!1)),_defineProperty(o,i,ko.observable(!1)),_defineProperty(o,n,ko.observable(!0)),_defineProperty(o,r,ko.observable(!1)),o);return a.subscribe((function(e){var t=R.equals(e);Object.keys(s).forEach((function(e){s[e](t(e))}))})),s}({placement:d}),p="context-menu-advanced-".concat(IMHome.core.guid());return{onTriggerClick:function(e){return(u()?m:h)(e)},isOpen:u,items:c,icon:a,rootClassNames:f,rootId:p};function h(){return u()||window.requestAnimationFrame((function(){$.subscribe("global/click",m),$(window).on("scroll resize",g),$(".im-dialog-wrapper").on("scroll",g),u(!0),d(n),g()})),!0}function m(){return u()&&window.requestAnimationFrame((function(){u(!1),$.unsubscribe("global/click",m),$(window).off("scroll resize",g),$(".im-dialog-wrapper").off("scroll",g)})),!0}function g(){var e=document.getElementById(p),t=e.getElementsByClassName("context-menu-advanced")[0],i=document.querySelector(l).getBoundingClientRect(),o=i.height,a=i.top,s=t.getBoundingClientRect().height,c=e.getBoundingClientRect(),u=c.height,f=c.top;d(u+f+s<o+a?n:r)}},IMHome.core=IMHome.core||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=arguments.length>1?arguments[1]:void 0;t.createTabTemplateHandler=function(e){var r=e.tabs,i=e.APP_NAME,o=e.factoryData,a=e.selectedTabId,s=t.getTemplatePath(i),l={name:n.observable(null),data:n.observable(null)},c=null;return l.name.subscribe((function(e){null!==e&&c&&c()}),null,"beforeChange"),{tabs:r,templateObservables:l,selectedTabId:a,templatePath:s,init:function(){a.subscribe((function(e){!function(e){var n=t.getById(r,e);if(n){var i=t.getURLParameters(window.location.hash),a=n.factory(_objectSpread(_objectSpread({},o),{},{urlParams:i}));l.name(null),l.data(a),c=a.destroy,l.name(n.templateName)}}(e)}))},onPageDestroy:function(){c&&c()}}}}(IMHome,ko,R),IMHome.core=IMHome.core||{},IMHome.core.defaultAppMethods={onRouteChange:function(e,t){"action"in t.params==!1&&!1===IMHome.core.isCompactView()&&this.list.totalItems()>0&&!1===this.controller.isLoadingItem()&&this.showFirstItemInList()},pureOnRouteChange:function(e,t){return function(n,r){"action"in r.params==!1&&!1===IMHome.core.isCompactView()&&e.totalItems()>0&&!1===t.isLoadingItem()&&IMHome.core.defaultAppMethods.pureShowFirstItemInList(e,t)}},showFirstItemInList:function(){var e=null;this.list.items().length>0&&(e=this.list.items()[0].id),this.controller.selectItem(e)},pureShowFirstItemInList:function(e,t){var n=null;e.items().length>0&&(n=e.items()[0].id),t.selectItem(n)},showFirstItemInListIfNotCompactView:function(){var e=IMHome.core.Router.getSammyObject().lookupRoute("get",window.location.hash).param_names,t=this.list.items();!1===IMHome.core.isCompactView()&&1===e.length&&t.length>0&&this.showFirstItemInList()},pureShowFirstItemInListIfNotCompactView:function(e,t){var n=IMHome.core.Router.getSammyObject().lookupRoute("get",window.location.hash).param_names,r=e.items();!1===IMHome.core.isCompactView()&&1===n.length&&r.length>0&&IMHome.core.defaultAppMethods.pureShowFirstItemInList(e,t)},publishNewItems:function(e,t,n,r){var i=n||this.controller,o=(r||this.list).items.subscribe((function(e){var t=i.nextItem()||i.activeItem()||null;IMHome.core.isNullOrEmpty(t)||ko.utils.arrayForEach(e,(function(e){e.id===t.id?e.active(!0):e.active(!1)})),o.dispose()}));$.publish("listItem/newItems",{items:e,append:t})},getMoreItems:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:IMHome.core.defaults.PAGE_SIZE,i=R.merge({page:n,pageSize:r},t);return IMHome.core.postJSON(e,i)},getCurrentPageNumber:function(e){return null!==(e=e||this.list).activeItemIndex()?e.activeItemIndex()+1:""},onNextClick:function(e,t){t=R.defaultTo(this.list,t);var n="/"+(e=R.defaultTo(this.appName,e))+"/show/"+t.getNextItemId();window.location.hash=n},onPrevClick:function(e,t){t=R.defaultTo(this.list,t);var n="/"+(e=R.defaultTo(this.appName,e))+"/show/"+t.getPrevItemId();window.location.hash=n},onBackClick:function(e){e=this.appName||e,window.location.hash="/"+e},getTotalPageCount:function(e){return(e=e||this.list).totalItems()},prevPageAvailable:function(e){return!1===(e=e||this.list).hasPrev()},nextPageAvailable:function(e){return!1===(e=e||this.list).hasNext()},submitFilter:function(e,t,n){var r=this;return IMHome.core.defaultAppMethods.getMoreItems(t,e,1).then((function(e){r.publishNewItems(e.items,!1)})).then((function(){r.list.items().length>0&&IMHome.core.isCompactView()?(window.location.hash="/"+n,r.controller.nextItem(null)):r.list.items().length>0?window.location.hash="/"+n+"/show/"+r.list.items()[0].id:(window.location.hash="/"+n,r.controller.nextItem({noResults:!0})),r.filterActive(!1)}))},makeFilterModels:function(e){return e.map((function(e){var t;switch(e.type){case"textbox":t=new IMHome.core.Textbox(e);break;case"checkbox":t=new IMHome.core.Checkbox(e);break;case"selectlist":t=new IMHome.core.SelectList(e)}return t}))},getFilterValues:function(e){return R.mergeAll(e.map((function(e){var t=e instanceof IMHome.core.Textbox?e.value():e instanceof IMHome.core.Checkbox?e.checked():e instanceof IMHome.core.SelectList&&ko.utils.unwrapObservable(e.selectedOption)||"";return _defineProperty({},e.name,t)})))},destroy:function(){this.controller.destroy(),this.list.destroy(),this.appSubscriptionList.unsubscribeAll()},pureDestroy:function(e){e.controller&&e.controller.destroy(),e.list&&e.list.destroy(),e.appSubscriptionList&&e.appSubscriptionList.unsubscribeAll()},ready:function(){var e=this,t=IMHome.core.Router.getSammyObject().lookupRoute("get",window.location.hash).param_names;!1===IMHome.core.isCompactView()&&1===t.length&&setTimeout((function(){e.list.totalItems()>0&&!1===e.controller.isLoadingItem()&&e.showFirstItemInList()}),1)}},IMHome.core.Dialog=function(e){"use strict";var t=this;t.active=e.active||ko.observable(!1),t.title=e.title||null,t.contentsTemplate=e.contentsTemplate||null,t.contentsModel=e.contentsModel||null,t.content=e.content||null,t.buttons=e.buttons||[],t.dialogCssClass=e.dialogCssClass||"",t.dialogTitleCssClass=e.dialogTitleCssClass||"",t.wrapperCssClass=e.wrapperCssClass||""},IMHome.core.FileUpload=function(e){"use strict";var t=this,n=new FormData,r=new XMLHttpRequest,i=e.url,o=e.params||[],a=e.setXrequest||!1;function s(t){if(t.lengthComputable){var n=Math.round(100*t.loaded/t.total);$.isFunction(e.progress)&&e.progress(n)}}function l(t,n){$.isFunction(e.failed)&&(e.failed(t),IMHome.home.homeViewModel.displayAlerts(n.notifications)),u()}function c(t){$.isFunction(e.cancelled)&&e.cancelled(t),u()}function u(){t.fileElement.off("change").remove(),t.formElement.remove()}t.uploadFile=function(d){var f=IMHome.core.buildUrl(i,o);d=t.fileElement[0].files[0],n.append("fileToUpload",d),r.upload.addEventListener("progress",s,!1),r.addEventListener("load",(function(t){!function(t,n){var r=JSON.parse(t.target.responseText),i=!0;!1===r.success&&(i=!1);$.isFunction(e.complete)&&!0===i?e.complete(r,n):$.isFunction(e.failed)&&!1===i&&l(t,r);u()}(t,d)}),!1),r.addEventListener("error",l,!1),r.addEventListener("abort",c,!1),r.open("POST",f),!IMHome.core.isNullOrEmpty(a)&&a&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(n)},t.init=function(){t.formElement=$('<form enctype="multipart/form-data"></form>').appendTo("body"),t.fileElement=$('<input type="file" />').appendTo(t.formElement),t.fileElement.on("change",(function(n){var r,i=n.target.files||n.dataTransfer.files;for(r=0;r<i.length;r++)$.isFunction(e.beforeUpload)?e.beforeUpload(i[r]).done(t.uploadFile):t.uploadFile()})),t.fileElement.trigger("click")}},IMHome.core=IMHome.core||{},IMHome.core.FilterViewModel=function(e){"use strict";var t=this;t.filters=ko.observableArray(),t.translations=e.translations,t.stopPropagation=function(e,t){t.stopPropagation()},t.submit=function(){var e=[];t.filters().forEach((function(t){if(t instanceof IMHome.core.Textbox&&e.push({name:t.name,value:t.value()}),t instanceof IMHome.core.Checkbox&&e.push({name:t.name,value:t.checked()}),t instanceof IMHome.core.SelectList){var n=ko.utils.unwrapObservable(t.selectedOption),r=void 0===n?"":n;e.push({name:t.name,value:r})}})),$.publish("filter.submit",[e,t])},t.clear=function(){t.filters().forEach((function(e){e.clear()})),t.submit()},t.destroy=function(){t.filters([])},e.filters.forEach((function(e){switch(e.type){case"textbox":t.filters.push(new IMHome.core.Textbox(e));break;case"checkbox":t.filters.push(new IMHome.core.Checkbox(e));break;case"selectlist":t.filters.push(new IMHome.core.SelectList(e))}}))},IMHome.core=IMHome.core||{},IMHome.core.GoogleAnalytics=function(){var e,t={UI:"UI"},n={DEFAULT:"Not set",OPEN_TILE:"Open tile",OPEN_USER_SIDEBAR_MENU:"Open user menu",OPEN_USER_SIDEBAR_MENU_ITEM:"Open user menu item",OPEN_NOTIFICATIONS_SIDEBAR_MENU:"Open notifications menu",ON_PUPIL_SWITCH:"Pupil switched",OPEN_MESSAGES:"Open messages",OPEN_GMAIL_MESSAGES:"Open Gmail messages",OPEN_OFFICE_365_MESSAGES:"Open Office 365 messages",ON_HOME_SCREEN:"Back to home screen",ON_SKIP_LINK:"Skip link keyboard navigation"},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;a("".concat(s(),"\n").concat(e),t)},i=(e=t.UI,function(r,i,o,a){i="object"===_typeof(i)?s(i):i,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.NO_CATEGORY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s(),o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;ga=window.ga||l(),ga("send","event",e,r,i,o,a)}(e,r,i,o,a)});return window.addEventListener("hashchange",(function(){return o()}),!1),{pageView:o,errorEvent:r,uiEvent:i,eventActions:n};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:IMHome.core.getLocationHash(!1)};ga=window.ga||l(),ga("set",e),ga("send","pageview")}function a(e,t){ga=window.ga||l(),ga("send","exception",{exDescription:e,exFatal:t})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tile,n=void 0===t?IMHome.core.getOpenTile():t,r=e.userRole,i=void 0===r?IMHome.init.userRole:r,o="/";return"".concat(n).concat(o).concat(i)}function l(){var e=IMHome.init.googleAnalyticsCode;if(!IMHome.core.isNullOrEmpty(e)){var t=document.createElement("script");return t.src="//www.google-analytics.com/analytics.js",document.getElementsByTagName("head")[0].appendChild(t),window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",e,"auto"),ga}return function(){}}}(),IMHome.core=IMHome.core||{},IMHome.core.hasUnsavedChangesHandler=function(e){"use strict";var t=ko.observable(!1),n=ko.observable(window.location.hash),r=function(){return!t()||confirm(e)},i=function(){return t(!1)};return $.subscribe("beforeroute",(function(){return n(window.location.hash)})),$.subscribe("app/rendered",i),$.subscribe("app/closed",i),{hasUnsavedChanges:t,lastLocationHash:n,confirmUnsavedChanges:r,beforeUnload:function(n){if(t())return(n||window).returnValue=e,e},beforeNavigation:function(){return IMHome.core.getLocationHash()===n()||(r()?void IMHome.core.getDialogApi().then((function(e){return e.close()})):(window.location.hash=n(),!1))}}}(IMHome.localisation.unsavedChanges),IMHome.core=IMHome.core||{},IMHome.core.InfiniteScroller=function(e){var t=this;t.translations=e.data.translations,t.id=e.id,t.items=ko.observableArray([]),t.activeItem=ko.observable(null),t.canSelect=ko.observable(!0),t.pagingParams=ko.observable(e.data.pagingParams||{}),t.paramsDirty=ko.observable(!1),t.headers=ko.observable({}),t.sortedDesc=ko.observable(!1),t.filters=ko.observable(),t.allItemIds=ko.observableArray(e.data.allItemIds||[]),t.itemCount=ko.computed((function(){return t.items().length})).extend({notify:"always"}),t.infiniteScrollOptions={itemCount:t.itemCount,listUrl:e.data.listUrl,loadFunction:$.isFunction(e.loadFunction)?e.loadFunction:function(){var n=$.Deferred();return $.ajax({url:e.data.listUrl,type:"post",data:t.pagingParams()}).then((function(r){var i;for(i in $.isFunction(e.dataFormatter)&&(r=e.dataFormatter(r)),$.isFunction(e.ItemConstructor)?ko.utils.arrayForEach(r.items,(function(n){t.items.push(new e.ItemConstructor(n))})):ko.utils.arrayForEach(r.items,(function(e){t.items.push(e)})),t.pagingParams().page=r.page+1,0===r.totalItems?(t.infiniteScrollOptions.noResults(!0),t.infiniteScrollOptions.allResultsLoaded(!0)):r.page*r.pageSize>=r.totalItems?(t.infiniteScrollOptions.allResultsLoaded(!0),t.infiniteScrollOptions.noResults(!1)):t.infiniteScrollOptions.noResults(!1),t.itemCount()>0?(null!==t.activeItem()||IMHome.core.isCompactView()||(t.items()[0].active(!0),t.activeItem(ko.utils.arrayFirst(t.items(),(function(e){return!0===e.active()}))),t.publishActiveItem()),$.publish("pagedList.newResults",r)):$.publish("pagedList.noResults",r),r.headers)r.headers.hasOwnProperty(i)&&(t.headers()[i]().isSorted(r.headers[i].sortBy),t.headers()[i]().sortedDesc(r.headers[i].sortDesc),r.headers[i].sortBy&&t.sortedDesc(r.headers[i].sortDesc));t.allItemIds(r.allItemIds||[]),n.resolve()})),n.promise()},noResultsTemplate:e.noResultsTemplate?e.noResultsTemplate:$($("#t_noResultsDefault").clone().html()),noResults:e.noResults||ko.observable(!1),allResultsLoaded:e.allResultsLoaded||ko.observable(!1)},t.headerClick=function(e){$.publish("pagedList.headerClick",e),e.isSortable&&(t.pagingParams().sortBy===e.sortField?(t.sortedDesc(!t.sortedDesc()),t.pagingParams().sortDesc=t.sortedDesc()):(t.pagingParams().sortBy=e.sortField,t.pagingParams().sortDesc=!1),t.pagingParams().page=1,t.activeItem(null),t.infiniteScrollOptions.allResultsLoaded(!1),t.items([]),t.items.valueHasMutated())},t.keyupEvent=function(e,n){13===n.keyCode&&t.itemClick(e)},t.itemClick=function(e){!0===t.canSelect()&&$.publish("pagedList.itemClick",e)},t.filterFormClick=function(e,t){$(t.target).hasClass("btn")||t.stopPropagation()},t.publishActiveItem=function(){$.publish("pagedList.activeItem.response",t.activeItem())},t.filterList=function(n,r,i){var o,a=$.Deferred();($.isFunction(e.beforeFilterSubmit)?o=e.beforeFilterSubmit():(o=a.promise(),a.resolve()),o).then((function(){i===t.filters()&&(r.forEach((function(e){t.pagingParams()[e.name]=e.value})),t.pagingParams().page=1,delete t.pagingParams().sortBy,delete t.pagingParams().sortDesc,t.sortedDesc(!1),t.paramsDirty(!0),t.activeItem(null),t.infiniteScrollOptions.allResultsLoaded(!1),t.items([]),t.items.valueHasMutated())}))},t.refresh=function(e){!0!==e&&t.pagingParams({}),t.pagingParams().page=1,t.infiniteScrollOptions.allResultsLoaded(!1),t.items([]),t.items.valueHasMutated()},t.itemRequestPending=function(e,n,r){!0===n?t.canSelect(!1):(t.canSelect(!0),function(e){var n=function(e){return t.items().filter((function(t){return t.id===e}))[0]||null}(e);ko.utils.arrayForEach(t.items(),(function(e){e!==n?e.active(!1):e.active(!0)}))}(r.id))},t.destroy=function(){$.unsubscribe("pagedList.selectedItem.request",t.publishActiveItem),$.unsubscribe("filter.submit",t.filterList),$.unsubscribe("itemRequestPending",t.itemRequestPending)},$.subscribe("pagedList.selectedItem.request",t.publishActiveItem),$.subscribe("filter.submit",t.filterList),$.subscribe("itemRequestPending",t.itemRequestPending),void 0!==e.data.filters&&t.filters(new IMHome.core.FilterViewModel(e.data.filters)),void 0!==e.data.headers&&function(){var n,r=e.data.headers,i=t.headers();for(n in r)r.hasOwnProperty(n)&&(i[n]=ko.observable(new IMHome.core.PagedListHeader(r[n])))}()},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e={items:e.items,ItemConstructor:e.ItemConstructor,itemData:e.itemData||[],listItemToContentMatch:e.listItemToContentMatch||p};var n,r,i,o,a,s,l=ko.observableArray(),c=ko.observable(!1),u=c,d=ko.computed(w),f=!t.isNullOrEmpty(e.items)||!t.isNullOrEmpty(e.itemData);return n=new t.SubscriptionList([{event:"listItem/newItems",action:T},{event:"item/newItem",action:S}]),r=t.isNullOrEmpty(e.items)?E(e.itemData):e.items,l(r),i=ko.computed({read:x,write:_}),o=ko.pureComputed(k),a=ko.pureComputed(b),s=ko.pureComputed(y),{items:l,noResults:c,showNoResultsTemplate:u,activeItem:i,activeItemIndex:o,totalItems:d,hasPreloadedItems:f,hasPrev:a,hasNext:s,getNextItemId:g,getPrevItemId:v,destroy:h,updateItems:function(e){return T(null,e)},updateItem:function(e){return S(null,e)},mapItems:E,itemClick:I};function p(e,t){return e.id===t.id}function h(){n.unsubscribeAll()}function m(e){return l()[e]}function g(){return s()?m(o()+1).id:null}function v(){return a()?m(o()-1).id:null}function b(){return null!==o()&&o()>0}function y(){return o()+1<d()}function w(){return l().length}function x(){return l().find((function(e){return!0===e.active()}))||null}function _(e){var t=l();t.forEach((function(t){return e===t?t.active(!0):t.active(!1)})),u(0===t.length),$.publish("listItem/click",R.propOr(null,"id",e))}function k(){return null!==i()?l.indexOf(i()):null}function S(t,n){l().forEach((function(t){e.listItemToContentMatch(t,n)?t.active(!0):t.active(!1)}))}function T(e,t){var n=E(t.items);!0===t.append?l(l().concat(n)):l(n),0===l().length?c(!0):c(!1)}function I(e){$.publish("listItem/click",e.id)}function E(t){return t.map((function(t){var n=new e.ItemConstructor(t);return n.itemClick=I,n}))}};t.ItemList=n}(IMHome),IMHome=IMHome||{},IMHome.core=IMHome.core||{},IMHome.core.OnError=function(e){e.url||(e.url=window.location.href),e.browser=navigator.userAgent;var t=new XMLHttpRequest;t.onreadystatechange=function(){t.readyState,XMLHttpRequest.DONE},t.open("POST","/Home/ErrorLogEntry/WriteEntry",!0),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.send(JSON.stringify(e))},window.onerror=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};"object"===_typeof(e)&&(e="jQuery Error");var o="".concat(t,": line ").concat(n,", col ").concat(r),a=R.defaultTo("",i.stack),s="unknown";try{s={firstName:IMHome.init.firstName,lastName:IMHome.init.lastName,userRole:IMHome.init.userRole}}catch(e){}var l={message:e,sourceDetails:o,callStack:a,user:s};IMHome.core.OnError(l)},IMHome.core=IMHome.core||{},IMHome.core.PagedList=function(e){"use strict";var t=this;t.id=e.id,t.items=ko.observableArray([]),t.activeItem=ko.observable(),t.nextItem=ko.observable(),t.currentPage=ko.observable(e.data.page),t.totalItems=ko.observable(e.data.totalItems),t.pageSize=ko.observable(e.data.pageSize),t.totalPages=ko.computed((function(){return Math.ceil(t.totalItems()/t.pageSize())})),t.currentPageItems=ko.observableArray([]),t.prevPageItems=ko.observableArray([]),t.nextPageItems=ko.observableArray([]),t.prevPageDisabled=ko.computed((function(){return 1===t.currentPage()})),t.nextPageDisabled=ko.computed((function(){return t.currentPage()>=t.totalPages()})),t.translations=e.data.translations,t.pagingText=ko.computed((function(){return IMHome.core.format(e.data.translations.paging,t.currentPage(),t.totalPages())})),t.pagingAnimating=ko.observable(!1),t.canSelect=ko.observable(!0),t.elementId="pagedList_"+(new Date).getTime(),t.pagingParams=ko.observable(e.data.pagingParams||{}),t.paramsDirty=ko.observable(!1),t.headers=ko.observable({}),t.sortedDesc=ko.observable(!1),t.filters=ko.observable(),t.allItemIds=e.data.allItemIds,t.slidePagingRight=function(e){t.pagingAnimating(!0),$("#"+t.elementId).on(IMHome.core.event.transitionEnd,(function(){$("#"+t.elementId).off(IMHome.core.event.transitionEnd),$(this).removeClass("slide-right"),t.pagingAnimating(!1),e&&"function"==typeof e&&e()})).addClass("slide-right")},t.slidePagingLeft=function(e){t.pagingAnimating(!0),$("#"+t.elementId).on(IMHome.core.event.transitionEnd,(function(){$("#"+t.elementId).off(IMHome.core.event.transitionEnd),$(this).removeClass("slide-left"),t.pagingAnimating(!1),e&&"function"==typeof e&&e()})).addClass("slide-left")},t.prevPage=function(){!1===t.prevPageDisabled()&&!1===t.pagingAnimating()&&(t.nextPageItems(t.currentPageItems()),t.currentPage(t.currentPage()-1),t.prevPageItems(t.items().slice((t.currentPage()-1)*t.pageSize(),t.currentPage()*t.pageSize())),t.slidePagingRight((function(){t.currentPageItems(t.prevPageItems()),$.publish("pagedList.changePage",t.currentPage())})))},t.nextPage=function(){!1===t.nextPageDisabled()&&!1===t.pagingAnimating()&&(t.slidePagingLeft((function(){t.currentPageItems(t.nextPageItems()),t.currentPage()<t.totalPages()&&(t.pagingParams().page=t.currentPage()+1,$.when(t.getItems(t.pagingParams())).then(t.processItems)),$.publish("pagedList.changePage",t.currentPage())})),t.currentPage(t.currentPage()+1))},t.getItems=function(n){var r=t.currentPage(),i=t.items().slice(r*t.pageSize(),(r+1)*t.pageSize());return 0===i.length||!0===t.paramsDirty()?(t.paramsDirty(!1),$.ajax({url:e.data.listUrl,data:n,type:"post"})):i},t.refresh=function(n){var r,i;!0!==n?t.pagingParams({}):t.pagingParams().page=t.currentPage(),$.when($.ajax({url:e.data.listUrl,data:t.pagingParams(),type:"post"})).then((function(n){t.currentPage(n.page),t.totalItems(n.totalItems),i=(t.currentPage()-1)*t.pageSize(),r=t.items().splice(0,i),t.items(r),t.currentPageItems(ko.utils.arrayMap(n.items,(function(t){return new e.ItemConstructor(t)}))),ko.utils.arrayForEach(t.currentPageItems(),(function(e){t.items.push(e)})),t.currentPage()<t.totalPages()&&(t.pagingParams().page=t.currentPage()+1,$.when(t.getItems(t.pagingParams())).then(t.processItems)),t.currentPage()>t.totalPages()&&t.prevPage()}))},t.keyupEvent=function(e,n){13===n.keyCode&&t.itemClick(e)},t.itemClick=function(e){!0===t.canSelect()&&$.publish("pagedList.itemClick",e)},t.processItems=function(n){var r;if($.isArray(n)&&n[0]instanceof e.ItemConstructor)return t.nextPageItems(n);$.isArray(n)&&n[0].items?r=n[0].items:$.isArray(n.items)&&(r=n.items),t.nextPageItems(ko.utils.arrayMap(r,(function(t){return new e.ItemConstructor(t)}))),ko.utils.arrayForEach(t.nextPageItems(),(function(e){t.items.push(e)}))},t.initList=function(){t.currentPageItems(t.items.slice(0,t.pageSize())),t.items().length>0&&(t.items()[0].active(!0),t.activeItem(ko.utils.arrayFirst(t.items(),(function(e){return!0===e.active()}))),t.currentPage(1),t.currentPage()<t.totalPages()&&(t.pagingParams().page=t.currentPage()+1,$.when(t.getItems(t.pagingParams())).then(t.processItems)))},t.headerClick=function(n){n.isSortable&&(t.pagingParams().sortBy===n.sortField?(t.sortedDesc(!t.sortedDesc()),t.pagingParams().sortDesc=t.sortedDesc()):(t.pagingParams().sortBy=n.sortField,t.pagingParams().sortDesc=!1),t.pagingParams().page=1,t.paramsDirty(!0),$.when(t.getItems(t.pagingParams())).then((function(r){t.items(ko.utils.arrayMap(r.items,(function(t){return new e.ItemConstructor(t)})));var i,o=ko.toJS(t.headers());for(i in o)o.hasOwnProperty(i)&&t.headers()[i]().isSorted(!1);n.isSorted(!0),n.sortedDesc(t.pagingParams().sortDesc),t.initList()})))},t.filterFormClick=function(e,t){$(t.target).hasClass("btn")||(t.preventDefault(),t.stopPropagation())},t.publishActiveItem=function(){$.publish("pagedList.activeItem.response",t.activeItem())},t.filterList=function(n,r,i){i===t.filters()&&(r.forEach((function(e){t.pagingParams()[e.name]=e.value})),t.pagingParams().page=1,delete t.pagingParams().sortBy,delete t.pagingParams().sortDesc,t.sortedDesc(!1),t.paramsDirty(!0),$.when(t.getItems(t.pagingParams())).then((function(n){t.items(ko.utils.arrayMap(n.items,(function(t){return new e.ItemConstructor(t)}))),t.totalItems(n.totalItems),t.initList(),t.totalItems()>0&&t.publishActiveItem()})))},t.itemRequestPending=function(e,n,r){!0===n?t.canSelect(!1):(t.canSelect(!0),function(e){var n=function(e){return t.items().filter((function(t){return t.id===e}))[0]||null}(e);ko.utils.arrayForEach(t.items(),(function(e){e!==n?e.active(!1):e.active(!0)}))}(r.id))},t.destroy=function(){$.unsubscribe("pagedList.selectedItem.request",t.publishActiveItem),$.unsubscribe("filter.submit",t.filterList),$.unsubscribe("itemRequestPending",t.itemRequestPending)},$.subscribe("pagedList.selectedItem.request",t.publishActiveItem),$.subscribe("filter.submit",t.filterList),$.subscribe("itemRequestPending",t.itemRequestPending),void 0!==e.data.filters&&t.filters(new IMHome.core.FilterViewModel(e.data.filters)),void 0!==e.data.headers&&function(){var n,r=e.data.headers,i=t.headers();for(n in r)r.hasOwnProperty(n)&&(i[n]=ko.observable(new IMHome.core.PagedListHeader(r[n])))}(),"function"==typeof e.ItemConstructor?t.items(ko.utils.arrayMap(e.data.items,(function(t){return new e.ItemConstructor(t)}))):t.items(e.data.items),t.initList()},IMHome.core=IMHome.core||{},IMHome.core.PagedListHeader=function(e){"use strict";var t=this;t.sortField=e.sortField,t.displayText=e.displayText,t.isSortable=e.isSortable,t.isSorted=ko.observable(e.sortBy),t.sortedDesc=ko.observable(e.sortDesc)},IMHome.core.Router=function(){var e,t,n,r=ko.observable(!1);function i(t){return e.appOpen()&&null!==e.activeApp()&&e.activeApp().codeName===t}function o(){var t=this.params;n=t;var r=t.codename;void 0===t.tab&&(t.tab=t.action),$.publish("beforeroute",{params:t}),i(r)?$.publish("route",{params:t}):e.openApp({params:t,codeName:r}).then((function(){$.publish("route",{params:t,initialRoute:!0})}))}function a(){var t=this.params;n=t;var o,a=t.codename;function s(){i(a)?$.publish("route",{params:t}):(r(!0),e.openApp({codeName:a}).then((function(){r(!1)})))}$.publish("beforeroute",{params:t}),!1===r()?s():o=r.subscribe((function(){o.dispose(),r(!1),s()}))}function s(){var t=this.params;function n(){$.unsubscribe("app/closeAfterLoad",n),e.closeApp(e.activeApp()),e.isClosing(!1)}$.publish("beforeroute",{params:t}),!0===e.appOpen()&&(e.isClosing(!0),$.subscribe("app/closeAfterLoad",n)),null!==e.activeApp()&&n()}return{init:function(n){e=n,t=Sammy((function(){this.before(null,IMHome.core.hasUnsavedChangesHandler.beforeNavigation),this.before(null,(function(){return IMHome.core.locationObservable(window.location)})),this.get("#/:codename/tab/:tab/:action/:id/?",o),this.get("#/:codename/tab/:tab/?",o),this.get("#/:codename/:action/:id/:itemFilter/:filterValue/?",o),this.get("#/:codename/:action/:id/?",o),this.get("#/:codename/:action/?",o),this.get("#/:codename/?",a),this.get("#/",s)})),Sammy.Application.prototype.disable_push_state=!0,t.raise_errors=!0,t.run("#/")},getSammyObject:function(){return t},getLastParams:function(){return Object.assign({},n)}}}(),IMHome.core=IMHome.core||{},IMHome.core.SelectList=function(e){"use strict";var t=this,n=null,r=e.options.filter((function(e){return e.selected&&!0===e.selected}));r.length>0&&(n=r[0].key),t.displayName=e.displayName,t.templateName="t_filterSelectList",t.options=ko.observable(e.options),t.selectedOption=ko.observable(n),t.name=e.name,t.defaultText=""===e.defaultText?" ":e.defaultText,t.value=ko.computed((function(){return t.selectedOption()?t.selectedOption():null})),t.clear=function(){t.selectedOption(t.defaultText?null:t.options()[0].key)}},IMHome.core=IMHome.core||{},function(e){var t=IMHome.core;t.setUnreadNotificationsOfTypeToRead=function(e){var n=t.allNotifications(),r=null;return n.length>0?t.triggerNotificationUpdate(e):r=t.allNotifications.subscribe((function(){r.dispose(),t.triggerNotificationUpdate(e)})),r}}(),IMHome=IMHome||{},IMHome.core=IMHome.core||{},IMHome.core.sortKeyUtils=function(){var e="___";return{getId:function(t){return t.split(e)[0]},getDirection:function(t){return t.split(e)[1]},createKey:function(t,n){return"".concat(t).concat(e).concat(n)}}}(),IMHome.core=IMHome.core||{},IMHome.core.SubscriptionList=function(e){"use strict";var t=e||[];function n(e){t.push(e),$.subscribe(e.event,e.action)}function r(e){t.filter((function(t){return t.event===e.event&&t.action===e.action})).forEach((function(e){t.splice(t.indexOf(e),1),$.unsubscribe(e.event,e.action)}))}return t.forEach((function(e){n(e)})),{addSubscription:n,removeSubscription:r,unsubscribeFromEvent:function(e){t.forEach((function(t){t.event===e&&r(t)}))},unsubscribeAll:function(){for(;t.length>0;)r(t[0])}}},IMHome.core=IMHome.core||{},IMHome.core.Textbox=function(e){var t=this;t.templateName="t_filterTextbox",t.value=ko.observable(e.value),t.name=e.name,t.displayName=e.displayName,t.aria=IMHome.aria.createLabelledBy("IMHome.core.Textbox"),t.clear=function(){t.value("")}},IMHome.core=IMHome.core||{},IMHome.core.ThirdSecurity=function(e){"use strict";this.init=function(){IMHome.core.showDialog(new IMHome.core.Dialog({title:IMHome.localisation.thirdSecurityTranslations.dialogTitle,contentsTemplate:"t_thirdSecurity",contentsModel:{data:new IMHome.core.ThirdSecurityDialogContent(e)}}))},this.init()},IMHome.core=IMHome.core||{},IMHome.core.ThirdSecurityDialogContent=function(e){"use strict";var t=this;function n(){return t.IsSmsSecurity()?"Sms":"Code"}t.IsSmsSecurity=ko.observable("Sms"===e.thirdSecurityInitData.thirdSecurityType),t.IsCodeSecurity=ko.observable("Code"===e.thirdSecurityInitData.thirdSecurityType),t.IsSamlSecurity=ko.observable("Saml"===e.thirdSecurityInitData.thirdSecurityType),t.securityCode=ko.observable(""),t.codesLeftDescription=IMHome.core.format(IMHome.localisation.thirdSecurityTranslations.codesLeftDescription,e.thirdSecurityInitData.paperCodesLeft),t.disabledSmsText=ko.observable(e.thirdSecurityInitData.disabledSmsTooltip),t.smsButtonClick=function(){$("#smsSecurityCode").focus(),$.ajax({url:IMHome.core.buildUrl(IMHome.localisation.thirdSecurityUrls.smsSendService,[{name:"code",value:t.securityCode()},{name:"type",value:n()}]),contentType:"application/json; charset=utf-8",async:!0,success:function(){}})},t.orderNewCodesClick=function(){$.ajax({url:IMHome.core.buildUrl(IMHome.localisation.thirdSecurityUrls.orderNewCodes,[{name:"code",value:t.securityCode()},{name:"type",value:n()}]),contentType:"application/json; charset=utf-8",async:!0,success:function(){}})},t.samlLinkClick=function(){window.location.href=e.thirdSecurityInitData.samlLoginUrl},t.usePaperCodesClick=function(){t.IsSmsSecurity(!1),t.IsCodeSecurity(!0),t.securityCode("")},t.submitButtonClick=function(){$.ajax({url:IMHome.core.buildUrl(IMHome.localisation.thirdSecurityUrls.thirdSecurityCodeSend,[{name:"code",value:t.securityCode()},{name:"type",value:n()}]),contentType:"application/json; charset=utf-8",async:!0,success:function(){t.securityCode(""),window.location.reload(!0)}})},t.cancelButtonClick=function(){IMHome.core.hideDialog(),t.securityCode(""),window.location.href=IMHome.core.buildUrl("#/",[])}},IMHome.core=IMHome.core||{},IMHome.core.User=function(e){"use strict";var t=this;$.extend({id:null,name:null,groups:[],address:null,phone:null,role:null,relation:null},e),t.id=e.id,t.name=e.name,t.groups=e.groups,t.address=e.address,t.phone=e.phone,t.role=e.role,t.relation=e.relation},IMHome.calendar=IMHome.calendar||{},IMHome.calendar.App=function(e){var t,n=IMHome.core.constants.TILES.CALENDAR,r=IMHome.calendar.constants,i=r.CALENDAR_VIEWS,o=r.CALENDAR_VIEW_TYPES,a=r.CALENDAR_EVENT_TYPES,s=r.EVENT_DATE_FORMAT,l=r.ROUTE_ACTIONS,c=r.DATE_MOVES,u=this,d=e.urls,f=IMHome.component.core.createUploadFiles(e.uploadData),p=R.pipe(R.defaultTo(o.MONTH),R.toUpper,R.prop(R.__,i)),h=R.pipe(IMHome.core.getURLParameters,R.prop("calendarViewType"),p)();function m(e,t){!0===t.open()&&b("render")}function g(e){var t=u.editEventForm;!function(){var e;for(;void 0!==(e=u.formObservableSubscriptions.pop());)e.dispose()}(),t.id=e.id,t.panelTitle(e.panelTitle),t.title(e.title),t.allDayEventIsChecked(e.allDay),t.startDate(e.startDate),t.startTime(e.startTime),t.endDate(e.endDate),t.endTime(e.endTime),t.notes(e.notes),t.thirdPartyApiCalendarEventId(e.thirdPartyApiCalendarEventId),t.thirdPartyApiCalendarId(e.thirdPartyApiCalendarId),t.thirdPartyApiCalendarSeriesId(e.thirdPartyApiCalendarSeriesId),t.attendeeIds(e.attendeeIds),function(e){IMHome.core.hasUnsavedChanges(!1),Object.keys(e).forEach((function(t){var n=e[t];ko.isObservable(n)&&u.formObservableSubscriptions.push(n.subscribe((function(){return IMHome.core.hasUnsavedChanges(!0)})))}))}(t)}function v(e,t){0===$(t.target).closest(".event-details-inner, .fc-event-container, .btn-new-event, input[type=file], .dialog-wrapper").length&&u.formBeforeClose()&&u.closeEvent()}function b(){var e;return(e=$("#fcalendar")).fullCalendar.apply(e,arguments)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;b("gotoDate",moment(e,t))}function w(e){var t=window.location.hash.split("?")[1],r="/".concat(n,"/").concat(l.SHOW)+(t?"?".concat(t):"");IMHome.core.setHashParameters(e,r)}function x(e,n){var r=n.params;if(r.action===l.SHOW){var i=r.calendarViewType?r.calendarViewType:$("#fcalendar").fullCalendar("getView").type;r.id?(_({calendarViewType:i}),function(e){if("-1"===e.id){var n=e.eventDateISO?$.fullCalendar.moment(e.eventDateISO):$.fullCalendar.moment(),r=Boolean(e.isAllDayEvent)||!1;u.addNewEvent(n,r)}else u.getEntry(e.id).then((function(e){y(e.startDate,"YYYY-MM-DD"),u.displayEventDetail(e),IMHome.core.triggerNotificationUpdate([IMHome.home.homeData.notificationTypeMap.calendarUpcomingEvent])}));t.addSubscription({event:"global/click",action:v})}(r)):_(R.merge(r,{calendarViewType:i}))}IMHome.core.isNullOrEmpty(r.action)&&(u.eventIsOpen(!1),t.removeSubscription({event:"global/click",action:v}))}function _(e){R.pipe(p,(function(e){return b("changeView",e)}))(e.calendarViewType),e.eventDate&&y(e.eventDate)}function k(e){if(u.canCreateEvents()){var t=!e.hasTime()?"?eventDateISO=".concat(e.toISOString(),"&isAllDayEvent=true"):"?eventDateISO=".concat(e.toISOString());window.location.hash="/".concat(n,"/").concat(l.SHOW,"/-1").concat(t)}}u.templatePath=IMHome.core.getTemplatePath(n),u.eventIsOpen=ko.observable(!1),u.showingDetails=ko.observable(!1),u.thirdPartyApiAccessToken=ko.observable(e.thirdPartyApiAccessToken),u.selectedEvent=ko.observable(null),u.translations=e.translations,u.canCreateEvents=ko.observable(e.canCreateEvents),u.eventIsEditable=ko.observable(!1),u.eventIsDeletable=ko.observable(!1),u.calendarTitle=ko.observable(),u.thirdPartyApiCalendarList=ko.observableArray(),u.editEventForm={panelTitle:ko.observable(),id:null,title:ko.observable(),allDayEventIsChecked:ko.observable(),startDate:ko.observable(),startTime:ko.observable(),endDate:ko.observable(),endTime:ko.observable(),notes:ko.observable(),thirdPartyApiCalendarEventId:ko.observable(),thirdPartyApiCalendarId:ko.observable(),thirdPartyApiCalendarSeriesId:ko.observable(),attendeeIds:ko.observable(),uploads:f},u.formObservableSubscriptions=[],u.formChangesCache={},u.formBeforeClose=IMHome.core.hasUnsavedChangesHandler.confirmUnsavedChanges,IMHome.core.dateOverlapGuard(u.editEventForm.startDate,u.editEventForm.endDate),IMHome.core.setTitleTag(n),u.calendarViewModel={header:!1,firstDay:1,editable:!1,dayClick:k,defaultView:h,timeFormat:"HH:mm",timezone:"local",axisFormat:"HH:mm",views:{month:{weekNumbers:e.showWeekNumbers,weekNumberCalculation:"ISO"}},viewRender:function(e){u.calendarTitle(e.title);var t=IMHome.core.getURLParameters().eventDate,n=b("getDate").format(s);R.isNil(t)||R.isNil(n)||t===n||y(t)},eventRender:function(e,t){var r=t.find(".fc-content"),i=R.equals(e.type.toLowerCase());!IMHome.core.isNullOrEmpty(e.resourceCount)&&e.resourceCount>0&&(r.append('<i class="icon-attachment mobile-hide"></i>'),r.find(".fc-event-time").addClass("truncate")),t.attr("tabindex",0),t.on("keyup",(function(e){13===(e.keyCode?e.keyCode:e.which)&&t.click()})),t.on("click",(function(){if(i(a.TERMS))return!1;if(i(a.DEADLINE)){var t=IMHome.core.constants.TILES.ASSIGNMENTS,r=IMHome.task.constants.ROUTE_ACTIONS.SHOW;location.hash="/".concat(t,"/").concat(r,"/").concat(e.id)}else if(i(a.ONLINE_TEST)){var o=IMHome.core.constants.TILES.ONLINE_TEST,s=IMHome.onlinetest.constants.ROUTE_ACTIONS.SHOW;location.hash=IMHome.core.buildUrl("/".concat(o,"/").concat(s,"?"),{onlinetest:e.id,assignment:e.surveyAssignmentId,isUol:e.showUolIcon})}else if(i(a.SURVEY)){var c=IMHome.core.constants.TILES.SURVEY,f=l.SHOW;location.hash=IMHome.core.buildUrl("/".concat(c,"/").concat(f,"?"),{survey:e.id,assignment:e.surveyAssignmentId,isUol:e.showUolIcon}),!0===e.surveyTypes?$("body").find(".header-bar").removeClass("survey-intro"):!1===e.surveyTypes&&$("body").find(".header-bar").addClass("survey-intro")}else""!==u.thirdPartyApiAccessToken()&&IMHome.core.postJSON(d.getThirdPartyApiCalendars).then((function(e){return u.thirdPartyApiCalendarList(e)})),e.id>0?window.location.hash="/".concat(n,"/").concat(l.SHOW,"/").concat(e.id):u.getThirdPartyApiEntry(e).then((function(e){u.displayEventDetail(e)}))}))},eventSources:[{url:d.getEntries,type:"POST",data:{UTCOffset:(new Date).getTimezoneOffset()}}]},u.displayEventDetail=function(e){u.selectedEvent(e),u.eventIsDeletable(e.isDeletable),e.isEditable?(u.eventIsEditable(!0),f.connectionId(e.id),f.uploadedFiles(e.info.resources),g({id:e.id,panelTitle:u.translations.editEvent,title:e.title,allDay:e.allDayEvent,startDate:moment(e.startDate).toDate(),startTime:e.startTime,endDate:moment(e.endDate).toDate(),endTime:e.endTime,notes:e.notes,thirdPartyApiCalendarEventId:e.thirdPartyApiCalendarEventId,thirdPartyApiCalendarId:e.thirdPartyApiCalendarId,thirdPartyApiCalendarSeriesId:e.thirdPartyApiCalendarSeriesId,attendeeIds:e.attendeeIds})):u.showingDetails(!0),u.eventIsOpen(!0)},u.monthButtonClick=function(){u.onCalendarViewButtonClick(o.MONTH)},u.weekButtonClick=function(){u.onCalendarViewButtonClick(o.WEEK)},u.dayButtonClick=function(){u.onCalendarViewButtonClick(o.DAY)},u.todayClick=function(){u.moveSelectedDateTo(c.TODAY)},u.prevClick=function(){u.moveSelectedDateTo(c.PREV)},u.nextClick=function(){u.moveSelectedDateTo(c.NEXT)},u.onCalendarViewButtonClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";w({calendarViewType:e.toLowerCase()})},u.moveSelectedDateTo=function(e){var t=b("getDate"),n=b("getView").name,r=n===i.MONTH?"months":n===i.WEEK?"weeks":n===i.DAY?"days":null;w({eventDate:(e===c.NEXT?t.add(1,r):e===c.PREV?t.subtract(1,r):e===c.TODAY?moment():null).format(s)})},u.getEntry=function(e){return IMHome.core.postJSON(d.getEntry,{id:e})},u.getThirdPartyApiEntry=function(e){return IMHome.core.postJSON(d.getThirdPartyApiEntry,{id:e.thirdPartyApiCalendarEventId,calendarId:e.thirdPartyApiCalendarId})},u.getSurveyEntry=function(e){return IMHome.core.postJSON(d.getSurveyEntry,{id:e})},u.addNewEventButton=function(){k($.fullCalendar.moment().stripTime())},u.addNewEvent=function(e,t){if(IMHome.init.impersonation)return!1;u.eventIsDeletable(!1),t&&(e.set("hours",8),e.set("minutes",0)),IMHome.core.isNullOrEmpty(u.thirdPartyApiAccessToken())||IMHome.core.postJSON(d.getThirdPartyApiCalendars).then((function(e){return u.thirdPartyApiCalendarList(e)})),u.eventIsEditable(!0),u.eventIsOpen(!0);var n=moment(e).add(1,"hour"),r=IMHome.core.dateTo24HourString(e.toDate()),i=IMHome.core.dateTo24HourString(n.toDate());f.connectionId(null),f.uploadedFiles([]),g({id:null,panelTitle:u.translations.newEvent,title:"",allDay:t,startDate:e.toDate(),startTime:r,endDate:n.toDate(),endTime:i,notes:"",thirdPartyApiCalendarEventId:"",thirdPartyApiCalendarId:"",thirdPartyApiCalendarSeriesId:"",attendeeIds:""})},u.saveEvent=function(){var e=u.editEventForm,t=[],n=IMHome.core.regEx.timeHHMM,r=f.connectionId(),i=[],o=[{query:!!e.allDayEventIsChecked()||n.test(e.startTime()),errorMessage:u.translations.validationStartTime},{query:!!e.allDayEventIsChecked()||n.test(e.endTime()),errorMessage:u.translations.validationEndTime}],a=!0;if(ko.utils.arrayForEach(o,(function(e){!1===e.query&&(a=!1,t.push({type:"error",title:e.errorMessage}))})),a){IMHome.core.isNullOrEmpty(r)&&f.uploadedFiles().forEach((function(e){i.push(e.id)}));var s={id:e.id,title:e.title(),allDayEvent:e.allDayEventIsChecked(),startDate:IMHome.core.formatDateToStandardFormat(e.startDate()),startTime:e.startTime(),endDate:IMHome.core.formatDateToStandardFormat(e.endDate()),endTime:e.endTime(),notes:e.notes(),thirdPartyApiCalendarEventId:e.thirdPartyApiCalendarEventId(),thirdPartyApiCalendarId:e.thirdPartyApiCalendarId(),thirdPartyApiCalendarSeriesId:e.thirdPartyApiCalendarSeriesId(),AttendeeIds:e.attendeeIds(),ResourcesNeedingConnection:i};IMHome.core.postJSON(d.saveEntry,s).then((function(e){!0===e.success&&(u.calendarViewModel.callFunction("refetchEvents"),u.closeEvent())}))}else $.publish("alerts",[t])},u.closeEvent=function(){u.eventIsEditable(!1),u.showingDetails(!1),IMHome.core.hasUnsavedChanges(!1),window.location.hash="/".concat(n,"/")},u.deleteEvent=function(){var e={},t=d.deleteEntry;if(u.editEventForm.id>0)e.id=u.editEventForm.id;else if(IMHome.core.isNullOrEmpty(u.editEventForm.thirdPartyApiCalendarId())||IMHome.core.isNullOrEmpty(u.editEventForm.thirdPartyApiCalendarEventId())){if(IMHome.core.isNullOrEmpty(u.editEventForm.thirdPartyApiCalendarEventId()))return!1;e.eventId=u.editEventForm.thirdPartyApiCalendarEventId(),t=d.deleteEntryOffice}else e.eventId=u.editEventForm.thirdPartyApiCalendarEventId(),e.calendarId=u.editEventForm.thirdPartyApiCalendarId(),t=d.deleteEntryGoogle;$.ajax({type:"DELETE",url:t,data:JSON.stringify(e),contentType:"application/json; charset=utf-8"}).then((function(e){!0===e.success&&(u.eventIsDeletable(!1),u.calendarViewModel.callFunction("refetchEvents")),u.closeEvent()}))},u.shouldOpenInLightBox=function(e){var t=void 0!==e.fileType?e.fileType:e.text.substr(e.text.lastIndexOf(".")+1);return-1!==IMHome.core.lightboxableFiles.indexOf(t)},u.init=function(){f.init();var e=[{event:"route",action:x},{event:"appTransitionEnd",action:m}];t=new IMHome.core.SubscriptionList(e)},u.destroy=function(){t.unsubscribeAll()}},IMHome.calendar=IMHome.calendar||{},IMHome.calendar.constants={EVENT_DATE_FORMAT:"DD-MM-YYYY",ROUTE_ACTIONS:{SHOW:"show"},DATE_MOVES:{NEXT:"NEXT",PREV:"PREV",TODAY:"TODAY"},CALENDAR_VIEW_TYPES:{DAY:"DAY",WEEK:"WEEK",MONTH:"MONTH"},CALENDAR_VIEWS:{DAY:"agendaDay",WEEK:"agendaWeek",MONTH:"month"},CALENDAR_EVENT_TYPES:{DEFAULT:"default",DEADLINE:"deadline",TIMETABLE:"timetable",TASKS:"tasks",NON_SCHOOL_DAY:"nonschoolday",PUPIL_GOAL_DEADLINE:"pupilgoaldeadline",TERMS:"terms",O365_EVENT:"o365event",GOOGLE_EVENT:"googleevent",MY_EVENT:"myevent",CUSTOM_1:"custom1",CUSTOM_2:"custom2",CUSTOM_3:"custom1",CUSTOM_4:"custom4",CUSTOM_5:"custom5",CUSTOM_6:"custom6",CUSTOM_7:"custom7",CUSTOM_8:"custom8",CUSTOM_9:"custom9",CUSTOM_10:"custom10",ONLINE_TEST:"onlinetest",SURVEY:"survey"}},IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2,r=arguments.length>1?arguments[1]:void 0;n.App=function(e){var i=n.constants,o=i.APPNAME;IMHome.core.setTitleTag(o);var a,s,l,c=t.getTemplatePath(o),u=e.translations,d=e.urls,f=e.isGymnasium,p=e.enableGradeReport,h=e.enableSummaryAssessment,m=e.enableSummaryAssessmentLgr22,g=e.gradeReportTerms,v=e.summaryAssessmentTerms,b=e.summaryAssessmentTermsLgr22,y=e.isImpersonator,w=e.academicYearItems.length>1&&0!==e.navigationModel.navigationItemsList.length,x=r.find(r.propEq("selected",!0),e.academicYearItems),_=ko.observable(!1),k=ko.observable(!1),S=IMHome.core.isMobile,T=null!==t.Router.getSammyObject().getLocation().match(/\/show\/[0-9]+/),I=!0,E=ko.observable(!1),C=ko.observable(!IMHome.core.isNullOrEmpty(e.thirdSecurityInitData)&&!IMHome.core.isNullOrEmpty(e.thirdSecurityInitData.thirdSecurityType)&&"None"!==e.thirdSecurityInitData.thirdSecurityType),O=ko.observable(i.DEFAULTS.SELF_ASSESSMENT_SHOW_TEACHER_MARKS),M={text:ko.observable(),backgroundStyle:ko.observable()},D=ko.observable(x),P={text:ko.observable(),items:ko.observableArray()},A=t.defaultAppMethods,N=function(e,t){var n=e.title,r=t.title;return n.localeCompare(r)},R=t.getBy("hasNew",r.__,!0),H=new t.ItemList({ItemConstructor:IMHome.assessmentv2.ListItem,itemData:[]}),L=new t.ContentController({ItemConstructor:IMHome.assessmentv2.SubjectView,templatePath:c,getItemUrl:d.itemUrl,appName:o,getItem:be}),j=new t.ContentPager({translations:{pageCount:u.lblPageCount,returnToList:u.returnToList,prevItem:u.lblPrevItem,nextItem:u.lblNextItem},currentPage:ko.computed((function(){return A.getCurrentPageNumber(H)})),totalPages:ko.computed((function(){return A.getTotalPageCount(H)})),previousButtonIsDisabled:ko.computed((function(){return A.prevPageAvailable(H)})),nextButtonIsDisabled:ko.computed((function(){return A.nextPageAvailable(H)}))}),F=new IMHome.core.SubscriptionList([{event:"pager/nextClick",action:function(e,t){return function(){return A.onNextClick(e,t)}}(o,H)},{event:"pager/prevClick",action:function(e,t){return function(){return A.onNextClick(e,t)}}(o,H)},{event:"pager/backClick",action:function(e){return function(){return A.onNextClick(e)}}(o)},{event:"app/rendered",action:function(){return document.querySelector("body").focus()}},{event:"subject/close",action:function(){k(!0),_(!1)}},{event:"global/click",action:function(e,t){var n=(o=t.target,a=[".hide-show-nav",".app-controls-dropdown",".grade-report-button-wrapper",".grade-report-view-wrapper"],s=a.map((function(e){return document.querySelector(e)})),l=function(e){return function(t){return null!==t&&(t===e||!!t.contains(e))}},r.any(l(o),s)),i=IMHome.core.getScreenBreakpoint();var o,a,s,l;n||!1!==_()||"BREAKPOINT_1"===i||"BREAKPOINT_7"===i||_(!0)}}]),U=n.createSlideOver(),V=n.createGradeReportView({translations:u,urls:d,gradeReportTerms:g,slideOver:U}),W=n.createGradeReportButton({translations:u,enableGradeReport:p,gradeReportView:V,slideOver:U}),B=n.createSummaryAssessmentLgr11({translations:u,urls:d,terms:v}),z=n.createSummaryAssessmentLgr11Button({translations:u,enableSummaryAssessmentLgr11:h,summaryAssessmentLgr11View:B,slideOver:U}),Y=n.createSummaryAssessmentLgr22({translations:u,urls:d,terms:b,isGymnasium:f}),q=n.createSummaryAssessmentLgr22Button({translations:u,enableSummaryAssessmentLgr22:m,summaryAssessmentLgr22View:Y,slideOver:U,isGymnasium:f}),G=n.createMainPageTabs({init:me,translations:u,enableGradeReport:p,gradeReportOnClick:W.onClick,enableSummaryAssessmentLgr11:h,summaryAssessmentLgr11OnClick:z.onClick,enableSummaryAssessmentLgr22:m,summaryAssessmentLgr22OnClick:q.onClick,slideOverClose:U.close}),K=G.tabs.length>1,J=function(e){window.location.hash="/"+o,D(e),Q(e.key)},X=function(e){return r.merge(e,{classNames:{"is-selected":ko.computed((function(){return D().key===e.key}))},click:J,title:e.value})},Q=function(t){IMHome.core.postJSON(d.getNavigationData,{academicYearId:t}).then((function(t){e.navigationModel=t,ge()}))},Z=r.curry((function(e,t,n){return void 0===n[t]&&(n[t]=0),(!0===e?++n[t]:--n[t])>0})),ee=Z(!0,i.COUNTERSTR),te=!0===y?function(){return!0}:Z(!1,i.COUNTERSTR),ne=!1,re=r.curry((function(e,t){return e(t)})),ie=r.curry((function(t,r,a,s){!0===r&&(s=a);var l=L.activeItem();oe[t].dataLoader(s.id+"?academicYearId=".concat(D().key)).then((function(r){t===i.TASK?(r.title=u.lblAssignments,s.hasNewTask(!1),s.linkedTasks.forEach((function(e){!0===e.isNew&&he(i.TASK,e)}))):t===i.LEARNING_STEP?(s.hasNewLearningStep(!1),r.contextType=i.LEARNING_STEP,r.title=u.lblLearningSteps,s.linkedLearningSteps.forEach((function(e){!0===e.isNew&&he(i.LEARNING_STEP,e)}))):t!==i.GRID&&!0!==s.hasNew||he(t,s),!1!==ne&&ne.classNames["is-selected"](!1),s.classNames&&s.classNames["is-selected"]&&(s.classNames["is-selected"](!0),ne=s),t===i.SELF_ASSESSMENT?r.teacherMarksVisible=O:r.teacherMarksVisible=ko.observable(!0),l.contentTemplate("assessmentv2.statementGrid"),l.viewState(t),IMHome.core.getDialogApi().then((function(t){t.reset(),t.setTemplateUrl(c),t.setTemplateName(o+".dialog.template"),l.contentModel(n.createStatementGrid(r,d,u,t,l.viewState,D,e.academicYearItems))}))}))})),oe={},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.merge(e,{classNames:r.merge(e.classNames,{"has-new":ko.observable(!1),"is-selected":ko.observable(!1)})})},se=function(e,n){var i=oe[e],o=r.pipe(t.getById(i.items),ae,ue(n,e),t.setProp("click",i.clickHandler(n)));return r.forEach((function(t){fe(t,e)}),t.getById(i.items)),r.isEmpty(i.items)?[]:r.map(o,i.getIdsFromParent(n))},le=ko.computed((function(){return H.items().filter((function(e){return!0===e.hasNew()})).length})),ce={show:ko.computed((function(){return!E()&&le()>0})),text:ko.computed((function(){return t.format(u.newAssessmentsInOtherFilters,le())})),dismiss:function(){return E(!0)}},ue=r.curry((function(e,t,n){if(!IMHome.core.isNullOrEmpty(n)){r.when((function(e){return r.or(r.prop("hasNew",e),r.prop("isNew",e))}),de(e,t))(n)}return n})),de=r.curry((function(e,t,n){var r=n.id,o=oe[t];return ee(e),e[o.newFlagStr](o.counterInc(e)),void 0===a[t][r]&&(a[t][r]=[]),a[t][r].push(e),e.hasNew(!0),t!==i.TASK&&t!==i.LEARNING_STEP&&n.classNames["has-new"](!0),!0})),fe=r.curry((function(e,t,n){if(!IMHome.core.isNullOrEmpty(n)){var r=n.id;void 0===s[t][r]&&(s[t][r]=[]),s[t][r].push(e)}return n})),pe=function(e,t,n){var r=[];return void 0!==n[e][t]&&(r=n[e][t]),r},he=function(e,t){var n=t.id,o=pe(e,n,a),l=oe[e],c=l.counterDec,u=[];if(r.forEach((function(e){var t=e.hasNew(),n=te(e);!0===t&&!1===n&&u.push(e),e.hasNew(n),e[l.newFlagStr](c(e))}),o),o.length<1){var f=pe(e,n,s);r.forEach((function(e){u.push(e)}),f)}!y&&u.length>0&&fetch(d.updateNotificationState,{body:JSON.stringify({ids:r.pluck("id",u),state:"Read"}),headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},method:"POST",credentials:"same-origin"}),function(e,t){!0!==y&&(delete a[e][t.id],e!==i.TASK&&e!==i.LEARNING_STEP?(t.classNames["has-new"](!1),t.hasNew=!1):t.isNew=!1)}(e,t)};return C()?(new IMHome.core.ThirdSecurity(e),l={showThirdSecurity:!0}):l={translations:u,templatePath:c,list:H,newItemsNotification:ce,controller:L,pager:j,listHidden:_,activeItemHidden:k,clickSubjectListItem:function(e){e.itemClick(e),IMHome.core.isMobile()&&(_(!0),k(!1))},toggleSubjectList:function(){_(!_())},academicYearFilterModel:P,init:me,destroy:function(){L.destroy(),H.destroy(),F.unsubscribeAll()},noResultsData:M,buttonHidden:S,hasData:w,gradeReportButton:W,gradeReportView:V,summaryAssessmentLgr11Button:z,summaryAssessmentLgr11View:B,slideOver:U,showMainPageTabs:K,mainPageTabs:G},l;function me(){var n;G.deferMainAppInit?G.deferMainAppInit=!1:(n=e.academicYearItems.map(X),P.items(n),P.text(x.value),ge(),D.subscribe((function(e){return P.text(e.title)})),$(window).resize(t.throttle(ve,100)),I=!1)}function ge(){var n,o,l,c,f,p,h;n=e.navigationModel,o={typeOrdering:[i.GRID,i.UOL,i.TASK,i.LEARNING_STEP,i.SELF_ASSESSMENT]},_defineProperty(o,i.GRID,{clickHandler:ie(i.GRID,!1),items:n.gridItemsList,getIdsFromParent:function(e){return e.linkedGrids},dataLoader:re(t.fetchById(d.getGridItems+"/")),newFlagStr:"hasNewGrid",counterInc:Z(!0,i.GRID+i.COUNTERSTR),counterDec:!0===y?function(){return!0}:Z(!1,i.GRID+i.COUNTERSTR)}),_defineProperty(o,i.UOL,{clickHandler:ie(i.UOL,!1),items:n.uolItemsList,getIdsFromParent:function(e){return e.linkedUols},dataLoader:re(t.fetchById(d.getUolItems+"/")),newFlagStr:"hasNewUol",counterInc:Z(!0,i.UOL+i.COUNTERSTR),counterDec:!0===y?function(){return!0}:Z(!1,i.UOL+i.COUNTERSTR)}),_defineProperty(o,i.TASK,{clickHandler:ie(i.TASK,!0),items:[],getIdsFromParent:function(e){return e.linkedTasks},dataLoader:re(t.fetchById(d.getTaskItems+"/")),newFlagStr:"hasNewTask",counterInc:Z(!0,i.TASK+i.COUNTERSTR),counterDec:!0===y?function(){return!0}:Z(!1,i.TASK+i.COUNTERSTR)}),_defineProperty(o,i.LEARNING_STEP,{clickHandler:ie(i.LEARNING_STEP,!0),items:[],getIdsFromParent:function(e){return e.linkedLearningSteps},dataLoader:re(t.fetchById(d.getLearningStepItems+"/")),newFlagStr:"hasNewLearningStep",counterInc:Z(!0,i.LEARNING_STEP+i.COUNTERSTR),counterDec:!0===y?function(){return!0}:Z(!1,i.LEARNING_STEP+i.COUNTERSTR)}),_defineProperty(o,i.SELF_ASSESSMENT,{clickHandler:ie(i.SELF_ASSESSMENT,!1),items:n.selfAssessmentItemsList||[],getIdsFromParent:function(e){return e.linkedSelfAssessments},dataLoader:re(t.fetchById(d.getSelfAssessmentItems+"/")),newFlagStr:"hasNewSelfAssessment",counterInc:Z(!0,i.SELF_ASSESSMENT+i.COUNTERSTR),counterDec:!0===y?function(){return!0}:Z(!1,i.SELF_ASSESSMENT+i.COUNTERSTR)}),oe=o,l=e.navigationModel.navigationItemsList,$.publish("listItem/newItems",{items:l}),a={},oe.typeOrdering.forEach((function(e){return a[e]={}})),s={},oe.typeOrdering.forEach((function(e){return s[e]={}})),0!==(h=H.items()).length?(H.noResults(!1),h.forEach((function(e){var t,n;!0===e.hasTasks&&(e.taskClick=oe[i.TASK].clickHandler(e)),!0===e.hasLearningSteps&&(e.learningStepClick=oe[i.LEARNING_STEP].clickHandler(e)),!0===e.hasGrids&&(e.gridClick=function(){return oe[i.GRID].clickHandler(e)(e.gridRefs[0])}),!0===e.hasUols&&(e.uolClick=function(){return oe[i.UOL].clickHandler(e)(e.uolRefs[0])}),!0===e.hasSelfAssessments&&(e.selfAssessmentClick=function(){return oe[i.SELF_ASSESSMENT].clickHandler(e)(e.selfAssessmentRefs[0])}),e.translations=u,e.urls=d,e.gridRefs=se(i.GRID,e).sort(N),e.uolRefs=se(i.UOL,e).sort(N),e.selfAssessmentRefs=se(i.SELF_ASSESSMENT,e).sort(N),!0===e.hasNewTask()&&(t=e,n=oe[i.TASK].getIdsFromParent(t),r.map(ue(t,i.TASK),n)),!0===e.hasNewLearningStep()&&function(e){var t=oe[i.LEARNING_STEP].getIdsFromParent(e);r.map(ue(e,i.LEARNING_STEP),t)}(e)})),c=h,IMHome.core.isMobile()||I&&T||(c.find((function(e,t){return!1!==(f=!0===e.hasNew()&&e.id)&&void 0!==(p=t)})),!1===f&&(f=c[0].id,p=0),c[p].active(!0),L.selectItem(f))):(H.noResults(!0),function(){var n=w?"term":"yet",r=t.format("dist/images/no-assessment-{0}-{1}.jpg",n,function(){var e="";switch(IMHome.init.schoolSystemType.toLowerCase()){case"hybridplayschool":case"hybridprimary":case"im2primary":e="primary";break;case"hybridgymnasium":e="gym"}return e}());if(w){var i=IMHome.core.format(e.translations.noAssessmentsInYear,[D().title]);M.text(i)}else M.text(e.translations.noAssessmentsExist);M.backgroundStyle({background:"url("+r+") no-repeat center",backgroundSize:"cover"})}())}function ve(){"BREAKPOINT_7"===t.getScreenBreakpoint()&&_(!1)}function be(e){var n=$.Deferred(),o=t.getById(H.items(),e);if(!o&&T)return function(e,n){setTimeout((function(){t.getById(H.items(),n)?be(n).then(e.resolve).fail(e.reject):e.reject()}),500)}(n,e),n.promise();if(o){var a=!1;$.subscribe("item/transitionEnd",(function e(){var t,n,s,l,c;(k(!1),!1===a)&&(a=!0,$.unsubscribe("item/transitionEnd",e),t=o,s=oe.typeOrdering,l=function(e){var t=function(e){return"".concat(e,"Refs")};return r.equals(e,i.SELF_ASSESSMENT)?t("selfAssessment"):t(e)},!(c=s.some((function(e){var i=t[l(e)],o=oe[e];if(i&&!r.isEmpty(i)){var a=o.clickHandler(t),s=function(e){return a(e),!0},c=function(){return n||(n=function(){return a(i[0])}),!1};return r.ifElse(r.isNil,c,s)(R(i))}return!1})))&&(t.hasNewTask()||!n&&t.hasTasks)?t.taskClick(t):!c&&(t.hasNewLearningStep()||!n&&t.hasLearningSteps)?t.learningStepClick(t):n&&n())})),$.subscribe("subject/contentAfterRender",(function e(){IMHome.core.triggerNotificationUpdate([IMHome.home.homeData.notificationTypeMap.assessmentNew]),$.unsubscribe("subject/contentAfterRender",e)})),n.resolve(o)}else n.reject();return n.promise()}}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},IMHome.assessmentv2.constants={APPNAME:IMHome.core.constants.TILES.ASSESSMENT_V2,GRID:"grid",UOL:"uol",TASK:"task",LEARNING_STEP:"learningstep",SELF_ASSESSMENT:"selfassessment",GROUPED_SUMMARY_CELL:"groupedsummarycell",COUNTER_STR:"newcount",COMMENT_TYPES:{HISTORIC:"historic",NEW:"new"},DIALOG_TYPES:{SELF_ASSESSMENT:"selfassessment",TEACHER_ASSESSMENT:"teacherassessment"},DEFAULTS:{SELF_ASSESSMENT_SHOW_TEACHER_MARKS:!1},TABS:{LGR11:"summarylgr11",LGR22:"summaryAssessment",MAIN:"main",GRADES:"grades"}},IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2,r=arguments.length>1?arguments[1]:void 0,i=n.constants.COMMENT_TYPES,o=t.constants.MARK_SCHEME_TYPES,a=function(e){var n=e.username,r=e.date,i=e.dateTime;return{username:t.defaultObservable(null,n),date:t.defaultObservable(null,r),dateTime:ko.observable(new Date(i))}},s=function(e){var n=e.value,i=e.placeholder,o=e.maxLength,a=e.markSchemeIsComments,s=e.isNewComment,l=t.defaultObservable("",n),c=ko.observable(n),u=ko.observable(!1),d=ko.pureComputed((function(){return l()!==c()})),f=function(e){u(s?!t.isMobile()&&a&&e:!t.isMobile()&&e)},p=ko.pureComputed((function(){return!r.isEmpty(c())||s}));return{value:c,maxLength:o,placeholder:i,focus:u,isDynamic:!0,restrictDynamicHeight:!1,hasChanged:d,isValid:p,undoChanges:function(){return c(l())},clear:function(){return c("")},setFocus:f,init:function(){f(!0)}}},l=function(e){var n=e.show,r=e.text,i=e.isEditing;return{show:t.defaultObservable(!1,n),click:function(){return i(!1)},text:r,type:"secondary",marginRight:!1}},c=function(e){var n=e.id,i=e.translations,o=e.isEditing,a=e.onEditClick,s=e.onDeleteCommentSuccess,l=e.deleteCommentUrl,c=e.isReadOnly,u=r.defaultTo(!c,e.useContextMenu);return{visible:ko.observable(u),isUsed:u,contextMenuModel:u?t.createContextMenuAdvanced({clippingParentSelector:".im-dialog",icon:"dots",items:[{text:i.edit,onClick:function(){o(!0),a(n)},icon:"pencil"},{text:i.delete,onClick:function(){var e=t.buildUrl(l,[{name:"id",value:n}]),r={title:"",message:i.confirmDeleteComment,buttons:[{text:i.cancel,click:t.hideDialog,cssClasses:"bn"},{text:i.delete,click:function(){t.hideDialog(),t.postJSON(e).then((function(e){e.success&&s(n)}))},cssClasses:"bn-primary"}]};t.confirm(r)},icon:"cross"}]}):null}},u=function(e){var n=e.buttons,r=e.isNewComment;return{show:ko.pureComputed((function(){return!t.isMobile()||!r||n.some((function(e){return e.show()}))})),buttons:n}},d=function(e){var t=e.isEditing,n=e.contextMenu,r=e.useContextMenu,i=e.cancelButton,o=e.textArea;return function(){t.subscribe((function(e){n.visible(!e&&r),i.show(e),e?o.setFocus(!0):o.undoChanges()})),o.init()}};n.createComment=function(e){var n,f,p=e.translations,h=e.urls,m=e.isReadOnly,g=e.maxLength,v=e.markSchemeType,b=e.onDeleteCommentSuccess,y=void 0===b?r.identity:b,w=e.onEditClick,x=void 0===w?r.identity:w,_=e.commentType,k=e.id,S=e.aspectId,T=e.username,I=e.date,E=e.dateTime,C=e.value,O=e.showCancelButton,M=_===i.NEW,D=r.equals(v)(o.COMMENTS),P=s({value:C,placeholder:"".concat(p.enterNewComment,"..."),id:k,maxLength:g,markSchemeIsComments:D,isNewComment:M});switch(_){case i.NEW:n=t.defaultObservable(!0,e.isEditing),f=r.defaultTo(!1,e.useContextMenu);break;case i.HISTORIC:n=t.defaultObservable(!1,e.isEditing),f=r.defaultTo(!m,e.useContextMenu)}var A=a({username:T,date:I,dateTime:E}),N=l({show:O,text:p.cancel,isEditing:n}),R=c({id:k,deleteCommentUrl:h.deleteComment,translations:p,useContextMenu:f,isReadOnly:m,onDeleteCommentSuccess:y,deleteUrl:h.deleteComment,isEditing:n,onEditClick:x}),H=u({buttons:[N],isNewComment:M}),L=ko.pureComputed((function(){return P.isValid()})),j=ko.pureComputed((function(){return P.hasChanged()}));return{init:d({isEditing:n,contextMenu:R,useContextMenu:f,cancelButton:N,textArea:P}),isNewComment:M,id:k,aspectId:S,textArea:P,contextMenu:R,commentInfo:A,isEditing:n,isReadOnly:m,getFormattedSaveObject:function(){return ko.toJS({id:k,text:P.value,hasChanged:j})},isValid:L,hasChanged:j,bottomSection:H}}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.core,e.assessmentv2),n=t.constants,r=n.APPNAME,i=n.TABS;t.createMainPageTabs=function(e){var t=e.init,n=e.translations,o=e.enableGradeReport,a=e.gradeReportOnClick,s=e.enableSummaryAssessmentLgr11,l=e.summaryAssessmentLgr11OnClick,c=e.enableSummaryAssessmentLgr22,u=e.summaryAssessmentLgr22OnClick,d=e.slideOverClose,f=ko.observable(!1),p=ko.observable(!1),h=ko.observable(!1),m=ko.observable(!1),g=!1,v=function(e,t,n){return{text:e,isActive:t,href:n}},b=function(e){return e?"#/".concat(r,"/").concat(e):"#/".concat(r)},y=v(n.mainTabSummaryAssessmentLGR22,f,b(i.LGR22)),w=v(n.mainTabSummaryAssessmentLGR11,p,b(i.LGR11)),x=v(n.mainTabGrades,h,b(i.GRADES)),_=function e(n,o){var s=o.params;if(s.codename===r){var c=s.tab===i.LGR22,v=s.tab===i.LGR11,b=s.tab===i.GRADES,y=!(c||v||b);y&&(d(),g||(setTimeout(t),g=!0)),f(c),p(v),h(b),m(y),b&&a(),v&&l(),c&&u()}else $.unsubscribe("route",e)};return $.subscribe("route",_),_(0,{params:IMHome.core.Router.getLastParams()}),{tabs:[].concat(_toConsumableArray(c?[y]:[]),[function(){return v(n.mainTabAssessment,m,b())}],_toConsumableArray(o?[x]:[]),_toConsumableArray(s?[w]:[])),deferMainAppInit:!0}}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2,r=arguments.length>1?arguments[1]:void 0,i=t.constants,o=t.format,a=t.getById,s=t.isNullOrEmpty,l=t.normaliseDecimalSeparators,c=i.MARK_SCHEME_TYPES,u=t.ColourConverter(),d=u.hexToRgb,f=u.lighten,p=u.toRgbaString,h=r.pipe(d,(function(e){return f(e,.9)}),(function(e){return p(e)}));n.createSelfAssessmentDialogMarkingSection=function(e){var n,i,u,d,f=e.selfAssessmentMark,p=e.markScheme,m=e.markIsInCurrentScheme,g=e.translations,v=e.isReadOnly,b=p.markSchemeType,y=p.title,w=r.pipe(l,parseFloat,r.ifElse(isNaN,r.always(null),r.identity)),x=r.defaultTo("444955"),_=r.equals(b),k=a(p.markOptions),S=ko.observable(m),T=null,I=ko.observable(!1),E=ko.observable(),C=ko.observable(),O=ko.observable(!0),M=function(e){return e.map((function(t,n){var i=t.id,o=e[n+1],a=void 0===o,s=x(t.colour);return r.merge(t,{colour:s,colourLight:h(s),isSelected:ko.pureComputed((function(){return S()&&i===E()})),hideBorderRight:ko.pureComputed((function(){return S()&&!a&&o.id===E()}))})}))},D=function(e){var t=e.id;return function(){if(!v){S(!0);var e=t===E()?null:t;E(e)}}},P=[",","."],A=f.mark,N=function(e){e.length>0&&null===e.match(new RegExp("^[0-9]*[".concat(P.join(""),"]{0,1}[0-9]*$")))?C(A):(O(!0),A=e)},R=(n=e.markScheme,i=n.maximumMark,u=n.minimumMark,d=n.markInterval,function(e){var n=(0,e.value)(),r=w(f.mark)!==w(n),o=s(n)||t.numericalMarkIsValid(i,u,d,n);O(o),o&&r&&I(!0)}),H=function(e){var n=e.markScheme,i=n.markOptions,o=n.title,a=n.markSchemeType,s=e.currentIconOptionId,l=function(e,n){return{templateName:e?"assessmentv2.dialog.".concat(e):null,templateUrl:e?t.getTemplatePath("assessmentv2"):null,templateData:n}};switch(a){case c.ICON:return function(){s(f?f.markOptionId:null);var t=ko.computed((function(){if(S()){var e=k(s());return e?e.value:null}return f.mark})),n=r.merge(e,{markValue:t,formattedMarkValue:function(){return r.ifElse(r.either(r.isNil,r.equals(!1)),r.identity,(function(e){return e+""}))(t())},markOptions:M(i),onChange:D,isReadOnly:v});return l("iconMarking",n)}();case c.NUMERIC:return function(){C(f?f.markNumericValue:null);var t=ko.pureComputed((function(){return r.pipe(w,r.defaultTo(""),(function(e){return e.toString()}))(C())})),n=r.merge(e,{markValue:C,formattedMarkValue:t,markSchemeTitle:o,placeholder:g.enterMark,isReadOnly:v,isValid:O,onBlurCallback:R});return l("numericalMarking",n)}();default:return u={markValue:r.always(null),formattedMarkValue:r.always(null)},l(null,u)}var u}({markScheme:p,currentIconOptionId:E});return{show:!_(c.COMMENTS),markSelector:H,markScheme:p,isNumeric:_(c.NUMERIC),isIconic:_(c.ICON),isComment:_(c.COMMENTS),markOptionId:E,isValid:O,hasChanged:I,init:function(){C.subscribe(N),E.subscribe((function(){return I(!0)})),O.subscribe((function(e){null!==T&&(T.remove(),T=null),e||(T=IMHome.home.homeViewModel.displayAlert({type:"error",title:g.invalidMark,message:o(g.invalidMarkOption,y)}))}))},getFormattedSaveObject:function(){return{hasChanged:I(),markValue:H.templateData.formattedMarkValue()}}}}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2,r=arguments.length>1?arguments[1]:void 0,i=n.constants.COMMENT_TYPES,o=r.complement(t.isNullOrEmpty),a=function(e){var n=e.text,r=e.dialogApi;return{text:n,visible:t.isMobile,click:r.close}},s=function(e){var n=e.selectedStatement,i=e.translations,a=n.heading,s=n.statementNumber,l=n.headerLabel;return{title:{heading:a,number:s,label:l,display:r.any(o,[a,s,l]),displaySeperator:o(l)&&(o(a)||o(s))},description:t.isNullOrEmpty(n.description)?i.lblNoDesc:n.description}},l=function(e){var n=e.comments,o=void 0===n?[]:n,a=e.createComment,s=e.selectedStatement,l=ko.observableArray(o.map((function(e){var n=t.renameKeys({id:"id",aspectId:"aspectId",text:"value",nameStamp:"username",dateStamp:"date",dateModified:"dateTime"}),o=r.merge(r.__,{commentType:i.HISTORIC,onDeleteCommentSuccess:f}),s=r.tap(r.invoker(0,"init"));return r.pipe(n,o,a,s)(e)}))),c=ko.observable(!r.isEmpty(o)),u=ko.pureComputed((function(){return l().every((function(e){return e.isValid()}))})),d=ko.pureComputed((function(){return l().some((function(e){return e.hasChanged()}))}));return{display:c,comments:l,isValid:u,hasChanged:d,init:function(){l.subscribe((function(e){var t=c(),n=r.isEmpty(e);s.updateData({hasComments:!n}),n&&t?c(!1):n||t||c(!0)}))},deleteCommentById:f};function f(e){r.pipe(t.getById(l()),(function(e){return l.remove(e)}))(e)}},c=function(e){var t=e.itemsToCheck,n=void 0===t?[]:t;return{isValid:ko.pureComputed((function(){return n.every((function(e){return e.isValid()}))}))}},u=function(e){var n=e.itemsToCheck,r=ko.pureComputed((function(){return n.some((function(e){return e.hasChanged()}))}));return r.subscribe((function(e){t.hasUnsavedChanges(e)})),{hasChanged:r}},d=function(e){var n=e.aspectId,i=e.translations,o=e.url,a=e.historicCommentsSection,s=e.newComment,l=e.markingSection,c=e.dialogApi,u=e.selectedStatement,d=e.dialogIsValid,f=e.dialogHasChanged,p=e.isReadOnly,h=e.decimalSeparator,m=ko.pureComputed((function(){return!d()||!f()})),g=ko.pureComputed((function(){return!(p||t.isMobile()&&m())}));return{text:i.updateAssessment,type:"success",click:function(){var e=(d=l.getFormattedSaveObject(),f=a.comments().map((function(e){return e.getFormattedSaveObject()})),p=s.getFormattedSaveObject(),m=t.isNullOrEmpty(p.text)?f:[p].concat(_toConsumableArray(f)),r.merge(d,{aspectId:n,comments:m}));var d,f,p,m;t.postJSON(o,e).then((function(n){if(n.isValid){t.hasUnsavedChanges(!1),c.close();var o=l.markScheme,a=l.markOptionId,s=t.normaliseDecimalSeparators(e.markValue,h);u.updateData(ko.toJS({hasComments:!r.isEmpty(e.comments),markScheme:o,markValue:s,mark:s,markOptionId:a})),$.publish("alerts",[[{type:"confirmation",title:i.assessmentSaved}]])}}))},marginRight:!1,disabled:m,show:g}},f=function(e){var t=e.buttons,n=e.readOnlyInfo,r=ko.pureComputed((function(){return t.some((function(e){return e.show()}))}));return{show:ko.pureComputed((function(){return r()||n.show()})),showButtons:r,buttons:t,readOnlyInfo:n}},p=function(e){var n=e.historicCommentsSection,r=e.newComment,i=e.markingSection,o=e.selectedStatement,a=e.markScheme,s=e.mark,l=void 0===s?{}:s;return function(){o.updateData({markScheme:a,markOptionId:l.markOptionId,mark:l.mark,markValue:l.markNumericValue||l.markTextValue}),r.init(),i.init(),n.init(),t.hasUnsavedChanges(!1)}};n.createSelfAssessmentDialogModel=function(e){var o=e.dialogData,h=e.urls,m=e.translations,g=e.dialogApi,v=o.comments,b=void 0===v?[]:v,y=o.selectedStatement,w=o.maxCommentLength,x=void 0===w?5e3:w,_=o.pageTitle,k=o.id,S=o.marks,T=o.readOnlyMessage,I=(o.dialogTitle,r.defaultTo(o.isReadonly,o.isReadOnly)),E=r.defaultTo(".",o.decimalSeparator),C=o.markSchemes.map((function(e){return r.merge(e,{markSchemeType:t.toLowerCase(e.markSchemeType)})})),O=t.getBy("isCurrentMarkScheme",C,!0),M=O.markSchemeType,D=!!S.length&&S[0],P=!1!==D&&O.id===D.markSchemeId,A=a({text:_,dialogApi:g}),N=s({selectedStatement:y,translations:r.pickAll(["lblNoDesc"],m)}),R=t.factoryInjector(n.createComment,{translations:r.pickAll(["enterNewComment","delete","edit","cancel","confirmDeleteComment"],m),urls:r.pickAll(["deleteComment"],h),isReadOnly:I,maxLength:x,markSchemeType:M,aspectId:k}),H=l({comments:b,createComment:R,selectedStatement:y}),L=R({commentType:i.NEW}),j=r.merge(n.createSelfAssessmentDialogMarkingSection({translations:r.pickAll(["invalidMark","invalidMarkOption","enterMark"],m),isReadOnly:I,aspectId:k,selfAssessmentMark:D,markScheme:O,markIsInCurrentScheme:P}),{isLastSection:I&&r.isEmpty(H.comments())}),F=[L,H,j],U=c({itemsToCheck:F}),V=u({itemsToCheck:F}),W=d({aspectId:k,url:h.updateSelfAssessment,translations:r.pickAll(["updateAssessment","assessmentSaved"],m),historicCommentsSection:H,newComment:L,markingSection:j,dialogApi:g,selectedStatement:y,dialogIsValid:U.isValid,dialogHasChanged:V.hasChanged,isReadOnly:I,decimalSeparator:E}),$=f({buttons:[W],readOnlyInfo:{show:ko.observable(I),text:T,icon:"info"}}),B=t.hasUnsavedChangesHandler.confirmUnsavedChanges;return{init:p({historicCommentsSection:H,newComment:L,markingSection:j,selectedStatement:y,markScheme:O,mark:D}),beforeClose:B,onClose:function(){t.hasUnsavedChanges(!1)},isReadOnly:I,previousButton:A,subheaderSection:N,markingSection:j,newComment:L,historicCommentsSection:H,bottomSection:$,commentTemplateUrl:t.getTemplatePath("assessmentv2"),commentTemplateName:"assessmentv2.comment"}}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2,r=arguments.length>1?arguments[1]:void 0;n.createSelfAssessmentStatementItem=function(e,i){var o=e.id,a=e.groupedCompetenceId,s=e.headerLabel,l=e.selfAssessment,c=l.markId,u=l.markNumericValue,d=l.markOptionId,f=l.markTextValue,p=n.constants.DIALOG_TYPES,h=t.constants.MARK_SCHEME_TYPES,m=t.ColourConverter(),g=function(e){return e?m.hexToRgb("#"+e):{r:247,g:247,b:247}},v=r.curry((function(e,t){return m.lighten(t,e)})),b=t.makeObservable(l.markOptionColour),y=ko.pureComputed((function(){return r.ifElse(r.isNil,(function(){return m.toRgbaString(g())}),r.pipe(g,v(.9),m.toRgbaString))(b())})),w={id:l.markSchemeId,markSchemeType:ko.observable(t.toLowerCase(l.markSchemeType)),markOptions:ko.observableArray(l.markOptions),title:ko.observable(l.markSchemeTitle)},x=w.markSchemeType,_=ko.pureComputed((function(){return x()===h.COMMENTS})),k=ko.observable(u||f),S=ko.observable(l.mark),T=t.defaultObservable(null,l.iconUrl),I=ko.observable(l.hasComments),E=function(e){var t=e.hasComments,n=e.markSchemeTypeIsComments;return{icon:"chat-bubble",visible:ko.pureComputed((function(){return!n()&&t()}))}}({hasComments:I,markSchemeTypeIsComments:_}),C=ko.computed((function(){var e=I(),n=k();return _()?e:!t.isNullOrEmpty(n)})),O=ko.pureComputed((function(){return!C()})),M=ko.pureComputed((function(){var e=r.equals(x());return e(h.TEXTUAL)||!O()&&!e(h.COMMENTS)&&(e(h.TEXTUAL)||e(h.NUMERIC)||t.isNullOrEmpty(T())&&k()===S())})),D={id:c,markOptionId:t.makeObservable(d),markOptionColour:b,hasValue:C,isBlankMark:O,markValue:k,mark:S,iconUrl:T,markSchemeType:x,markIsTextual:M,markScheme:w},P={id:o,groupedCompetenceId:a,headerLabel:s,hasComments:I,commentIcon:E,backgroundColour:y,mark:D,click:i,icon:ko.observable("self-assessment"),dialogType:p.SELF_ASSESSMENT},A=function(e){var n=e.hasComments,i=e.mark,o=i.markScheme,a=i.markValue,s=i.mark,l=i.iconUrl,c=i.markOptionColour,u=i.markOptionId;return function(e){var i=ko.toJS(e),d=i.hasComments,f=void 0===d?ko.toJS(n):d,p=i.markScheme,h=void 0===p?ko.toJS(o):p,m=i.markValue,g=void 0===m?ko.toJS(a):m,v=i.mark,b=void 0===v?ko.toJS(s):v,y=i.markOptionId,w=void 0===y?ko.toJS(u):y;if(n(f),a(g),s(b),u(w),o.id=h.id,o.markOptions(h.markOptions),o.markSchemeType(h.markSchemeType),o.title(h.title),h.markOptions){var x=r.pipe(t.getById(h.markOptions),r.defaultTo({}))(w);l(x.iconUrl),c(x.colour)}}}(P);return r.merge(P,{updateData:A})}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},IMHome.assessmentv2.createSlideOver=function(){var e,t=ko.observable(!1),n=ko.observable(null),r=ko.observable(""),i=ko.observable(null);return{isOpen:t,open:function(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.onClose;t(!0),e=o;var a=function(){e(),n.dispose()};n=i.subscribe(a)},close:function(){t(!1),e&&e()},currentTemplate:i,title:r,pageWrapperElementReference:n}},IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2,r=arguments.length>1?arguments[1]:void 0,i=n.constants,o={teacherAssessment:{templateName:"assessmentv2.dialog.template",className:"assessmentv2-dialog-root"},selfAssessment:{icon:"self-assessment",templateName:"assessmentv2.selfAssessmentDialog.template",className:"assessmentv2-self-assessment-dialog-root"},generalComments:{templateName:"assessmentv2.generalCommentsDialog.template",className:"assessmentv2-general-comments-dialog-root"}};n.createStatementGrid=function(e,a,s,l,c,u){var d,f,p=e.statementItemsList,h=e.parentItemsList,m=e.templateItemsList,g=e.contextType,v=e.contextId,b=e.title,y=e.teacherMarksVisible,w=e.hasReports,x=void 0!==w&&w,_=(e.isLaroplan,g.toLowerCase()),k={showingAll:ko.observable(!1),showAll:function(){k.showingAll(!0)},showMarked:function(){k.showingAll(!1)}},S=t.isIn(c(),[i.GRID,i.UOL]),T=ko.observable(x&&_===i.GRID),I="context-".concat(_," ").concat(T()&&!t.isMobile()?"padding-for-fixed-buttons":""),E=r.curry(t.buildUrl),C=E(a.getGridDialog+"/"),O=E(a.getUolDialog+"/"),M=E(a.getTaskDialog+"/"),D=E(a.getLearningStepDialog+"/"),P=E(a.getSelfAssessmentDialog+"/"),A=E(a.getGeneralComments+"/"),N=E(a.getUolGeneralComments+"/"),R=function(e){switch(e){case i.GRID:return function(e){var n=[{name:"id",value:e.id}];return t.postJSON(C(n))};case i.UOL:return function(e){var n=e.id,r=[{name:"uol",value:v},{name:"aspectid",value:n}];return t.postJSON(O(r))};case i.TASK:return function(e){var n=[{name:"id",value:e.id}];return t.postJSON(M(n))};case i.LEARNING_STEP:return function(e){var n=[{name:"id",value:e.id}];return t.postJSON(D(n))};case i.SELF_ASSESSMENT:return function(e){var n,r=e.id,o=e.dialogType,a=[{name:"uol",value:v},{name:"aspectId",value:r}];return o===i.DIALOG_TYPES.SELF_ASSESSMENT?(a.push({name:"academicYearId",value:parseInt(u().key)}),n=P):o===i.DIALOG_TYPES.TEACHER_ASSESSMENT&&(n=O),t.postJSON(n(a))};default:return r.always({then:r.T})}}(_),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dialogModel,n=e.templateName,r=e.className,i=e.icon,o=void 0===i?"":i,a=e.title;l.reset(),l.setTemplateName(n),l.setData(t),l.setIcon(o),l.setTitle(a),l.open(r),t.init()},L=function(e){if(e.isHidden())return!1;R(e).then((function(t){var c=!1;e.aspectType.toLowerCase()===i.GROUPED_SUMMARY_CELL&&(c=!0);var u=r.merge(t,{dialogTitle:t.headerLabel,isLearningStep:e.aspectType.toLowerCase()===i.LEARNING_STEP,pageTitle:b,headerLabel:e.headerLabel,parsedContextType:_,useEcaMarking:c}),d=r.merge(o.teacherAssessment,{dialogModel:n.createTeacherAssessmentDialogModel({dialogData:u,urls:a,translations:s,dialogApi:l}),title:u.dialogTitle});H(d)}))},j=function(e){R(e).then((function(i){var c=i.headerLabel,u=i.text,d=i.assessmentMarkId,f=r.merge(e,{description:u,heading:null,statementNumber:null}),p=r.merge(i,{dialogTitle:c,pageTitle:b,headerLabel:e.headerLabel,selectedStatement:f,currentMarkId:t.makeObservable(d)}),h=r.merge(o.selfAssessment,{dialogModel:n.createSelfAssessmentDialogModel({dialogData:p,urls:a,translations:s,dialogApi:l}),title:c});H(h)}))},F=function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=t.getById(h,n);return r.push(i.title),t.isNullOrEmpty(i.parentId)?r.reverse().join(" - "):e(i.parentId,r)},U=r.curry((function(e,n){var a,l=n.length?n.find((function(e){return!!e})):null,c=!!l&&null!==l.groupedCompetenceId,u=c?{text:l.latestGeneralComment,date:l.latestGeneralCommentDate,click:(a=l.groupedCompetenceId,function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){e&&t.invokeDownload(window.location.origin+e)}},n=function(n){return _objectSpread(_objectSpread({},n),{},{evidenceClick:e(n.downloadUrl),evidenceSize:t.formatFileSizeFromBytes(n.evidenceSize)})},l=_===i.UOL?N({groupedCompetenceId:a,uolId:v}):A({id:a});t.postJSON(l).then((function(e){var i={init:function(){},comments:e.comments,evidence:e.evidence.map(n),getEvidenceIcon:t.getSvgIconIdFromFileType,translations:s},a=r.merge(o.generalComments,{dialogModel:i,title:s.generalCommentsDialogTitle});H(a)}))})}:{};return{name:e,items:n,isVisible:ko.computed((function(){return n.some((function(e){return e.isVisible()}))})),allowGeneralComment:c,generalCommentModel:u}})),V=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.pipe(r.groupBy((function(t){return t.parentId&&!t.isLaroplan?"p".concat(t.parentId):t.groupedCompetenceId?"g".concat(t.groupedCompetenceId):e?"r".concat(t.row):"default"})),r.toPairs,r.map((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1],o=n.startsWith("p")?F(parseInt(r.tail(n))):null;return U(o,i)})))},W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e||t;return r.pipe(V(!0))(n)}},$=r.pipe(V(!1)),B=r.pipe(r.filter(r.propEq("aspectType","GroupedSummaryCell")),V(!1)),z=r.pipe(r.filter(r.propEq("aspectType","SummaryStatement")),V(!1)),Y=r.pipe(r.filter(r.propEq("aspectType","Value")),V(!0)),q=function(e,t){var n=e.name,r=t.name,i=n.toLowerCase(),o=r.toLowerCase();return i<o?-1:i>o?1:0},G=p.map((function(e){var t,o,a=e.groupedCompetenceId,s=e.id,l=a?p.filter((function(e){return e.groupedCompetenceId===a})).map(r.prop("id")):[s],c=_===i.SELF_ASSESSMENT,u=c?r.T:k.showingAll;return Object.assign({},n.createStatementItem(e,"assessmentv2","assessmentv2.statementItem"),{isVisible:ko.computed((t=l,o=u,function(){return!0===o()||p.filter((function(e){return r.contains(e.id,t)})).some((function(e){return e.hasValue||ko.unwrap(e.hasComment)||e.hasEvidence}))})),click:L},c?{selfAssessmentSection:n.createSelfAssessmentStatementItem(e,j)}:{})})),K=(d=function(e,n){switch(e){case i.GRID:return[{name:s.lblGroupedSummaryStatements,reducer:B},{name:s.lblSummaryStatements,reducer:z},{name:s.lblCurriculumStatements,reducer:Y}];case i.UOL:return r.pipe(r.groupBy((function(e){return e.templateId})),r.toPairs,r.map((function(e){var n=_slicedToArray(e,2),i=n[0],o=n[1];return{name:r.pipe(parseInt,t.getById(m),r.prop("text"))(i),reducer:W(o)}})),r.sort(q))(n);case i.TASK:return b=s.lblAssignments,[{name:null,reducer:$}];case i.LEARNING_STEP:return b=s.lblLearningSteps,[{name:null,reducer:$}];case i.SELF_ASSESSMENT:return r.pipe(r.groupBy((function(e){return e.templateId})),r.toPairs,r.map((function(e){var n=_slicedToArray(e,2),i=n[0],o=n[1];return{name:r.pipe(parseInt,t.getById(m),r.prop("text"))(i),reducer:W(o)}})),r.sort(q))(n);default:return[]}}(_,G),f=G,r.map((function(e){return U(e.name,e.reducer(f))}),d)),J=function(e){var n=e.show,i=void 0!==n&&n,o=e.translations,a=void 0===o?{}:o,s=e.statements,l=void 0===s?[]:s,c=e.onChange,u=void 0===c?function(){}:c;if(!i||r.isEmpty(l))return{show:i,useDropdown:ko.observable(!1)};var d=t.defaultObservable(!1,e.marksVisible),f=ko.pureComputed((function(){return IMHome.core.isMobile()})),p=ko.pureComputed((function(){return d()?a.hideTeacherMarks:a.showTeacherMarks})),h=ko.pureComputed((function(){return d()?"unpublish":"publish"})),m=[{title:a.showTeacherMarks,icon:"publish",classNames:{"is-selected":d},click:function(){return g(!0)}},{title:a.hideTeacherMarks,icon:"unpublish",classNames:{"is-selected":ko.pureComputed((function(){return!d()}))},click:function(){return g(!1)}}];return g(d()),d.subscribe(u),{show:i,items:m,useDropdown:f,text:p,icon:h,marksVisible:d,click:v,setMarksVisibility:g,toggleMarksVisibility:v};function g(e){d(e),r.forEach((function(t){return t.isHidden(!e)}),l)}function v(){g(!d())}}({show:t.isIn(c(),[i.SELF_ASSESSMENT]),statements:G,translations:s,onChange:function(e){y(e)},marksVisible:y()}),X=function(e){var t=e.showReportsButton,r=e.selectedAcademicYear,i=e.translations,o=e.urls,a=n.launchDownloadReportsDialog({translations:i,urls:o});return{icon:"reports",text:i.reports,visible:t,launchReportsDialog:function(){return a(r().key)}}}({urls:a,translations:s,showReportsButton:T,selectedAcademicYear:u});return{wrapperClasses:I,translations:s,title:b,sections:K,filter:k,showUpdatesFilter:S,selfAssessmentTeacherMarksVisibilitySelector:J,reportsButton:X}}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2,r=arguments.length>1?arguments[1]:void 0;n.createStatementItem=function(e,i,o){var a,s,l=n.constants.DIALOG_TYPES,c=t.constants.MARK_SCHEME_TYPES,u=t.ColourConverter(),d=e.isPublished,f=function(e){return e?u.hexToRgb("#"+e):{r:247,g:247,b:247}},p=r.curry((function(e,t){return u.lighten(t,e)})),h=function(e){return"linear-gradient(to bottom, ".concat(u.toRgbaString(e,0)," 0%, ").concat(u.toRgbaString(e,1)," 80%, ").concat(u.toRgbaString(e,1)," 100%)")},m=function(e,t,n){var r={color:e.backgroundColour(),fade:e.backgroundFade()};return function(i){void 0===i&&(i=!0),i?(e.backgroundColour(t),e.backgroundFade(n)):(e.backgroundColour(r.color),e.backgroundFade(r.fade))}},g=u.toRgbaString(f(!1)),v=h(f(!1));null===e.markOptionColour?(e.backgroundColour=ko.observable(g),e.backgroundFade=ko.observable(v)):(e.backgroundColour=ko.observable(r.compose(u.toRgbaString,p(.9),f)(e.markOptionColour)),e.backgroundFade=ko.observable(r.compose(h,p(.9),f)(e.markOptionColour))),e.hideBackground=m(e,g,v),e.hasComment=ko.observable((s=(a=e).hasComment,r.defaultTo("",a.markSchemeType).toLowerCase()!==c.COMMENTS&&s)),e.mark={hasValue:!IMHome.core.isNullOrEmpty(e.hasValue)&&e.hasValue,isBlankMark:IMHome.core.makeObservable(!!IMHome.core.isNullOrEmpty(e.isBlankMark)||e.isBlankMark),markValue:e.markNumericValue||e.markTextValue,iconUrl:IMHome.core.isNullOrEmpty(e.iconUrl)?"":e.iconUrl,markSchemeType:IMHome.core.toLowerCase(e.markSchemeType),displayHidden:ko.observable(!1)},e.mark.markIsTextual=ko.pureComputed((function(){var n=r.equals(t.toLowerCase(e.mark.markSchemeType));return!e.mark.isBlankMark()&&!t.isNullOrEmpty(e.mark.markSchemeType)&&n(c.NUMERIC)||n(c.TEXTUAL)||t.isNullOrEmpty(e.mark.iconUrl)&&(e.mark.markNumericValue||e.mark.markTextValue)===e.mark}));var b=ko.observable(!1),y=function(e){var t=e.mark,n=e.toRgb,r=e.fadeGradient,i=e.hideBackground,o=e.backgroundColour,a=e.backgroundFade,s=e.colourConverter,l=t.isBlankMark,c=t.hasValue,u=n("f8fbff"),d=s.toRgbaString(u),f=r(u),p=i({backgroundColour:o,backgroundFade:a},d,f);return function(e){c&&(l(e),p(e))}}(r.merge(e,{toRgb:f,fadeGradient:h,hideBackground:m,colourConverter:u}));return e.isHidden=ko.pureComputed({read:b,write:function(e){return b(e||!d)}}),b.subscribe(y),Object.assign({},e,{contentTemplatePath:t.getTemplatePath(IMHome.core.isNullOrEmpty(i)?"assessmentv2":i),contentTemplate:ko.observable(IMHome.core.isNullOrEmpty(o)?null:o),dialogType:l.TEACHER_ASSESSMENT})}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2,r=arguments.length>1?arguments[1]:void 0;n.createTeacherAssessmentDialogModel=function(e){var i=e.dialogData,o=e.urls,a=e.translations,s=e.dialogApi,l=t.constants.MARK_SCHEME_TYPES;n.constants.GRID===i.parsedContextType&&t.isMobile()&&(i.dialogTitle=a.lblCurriculum);var c="#444955",u="#f8f8f8",d=i.marks.length,f=d>=1,p=d>1;i.marksExist=!(f&&!p&&r.head(i.marks).isBlankMark)&&f,i.markHistoryExists=p;var h=i.evidence.length>=1;i.evidenceExists=h;var m=ko.observableArray([]);i.commentList=m,i.commentsExist=ko.pureComputed((function(){return m().length>0})),i.selectedMark=ko.observable(),i.text=""===i.text?null:i.text,i.text=null===i.text?a.lblNoDesc:i.text;var g=t.fetchById(o.getComments+"/"),v={markClick:function(e){if(i.selectedMark().isSelected(!1),e.isSelected(!0),i.selectedMark(e),!i.useEcaMarking&&!i.groupedCompetenceId)if(e.commentsFetched)m(e.comments);else{var t={text:"",dateStamp:"",nameStamp:a.lblLoading};m([t]),g(e.id).then((function(t){m(t),e.commentsFetched=!0,e.comments=t}))}},evidenceClick:function(e){void 0!==e.downloadUrl&&t.invokeDownload(window.location.origin+e.downloadUrl)},closeDialog:s.close},b=t.ColourConverter(),y=r.curry(b.lighten),w=r.pipe(r.defaultTo(c),r.replace("#",""),r.concat("#")),x=r.ifElse(t.isNullOrEmpty,r.always(u),r.pipe(r.replace("#",""),r.concat("#"),b.hexToRgb,y(r.__,.9),b.toRgbaString));if(f){var _=i.marks.map(S);i.marks=_;var k=r.last(i.marks);i.useEcaMarking?m(k.comments):(m(k.comments),k.commentsFetched=!0),i.selectedMark(k),k.isSelected(!0),i.latestMark=k}else i.latestMark={markColorLight:u,markColorDark:c};i.getEvidenceIcon=t.getSvgIconIdFromFileType,h&&i.evidence.forEach((function(e){e.evidenceSize=t.formatFileSizeFromBytes(e.evidenceSize)})),i.isLearningStep&&(i.statementsContentTemplate=ko.observable("assessmentv2.dialog.statements"),i.statementsContentTemplatePath=t.getTemplatePath("assessmentv2"),i.statements=i.statements.map((function(e){var t=S(e),n=t.markSchemeType,i=r.equals(n);return r.merge(t,{footerVisible:!i(l.COMMENTS)&&e.showMark,markIsTextual:t.isTextual})})));return{init:function(){},dialogData:i,urls:o,translations:a,actions:v};function S(e){var n=l.NUMERIC,o=l.ECAVISUAL,a=t.toLowerCase(i.useEcaMarking?o:e.markSchemeType),s=r.equals(a),c=r.defaultTo(e.markTextValue,e.markNumericValue),u=s(n)&&!e.isBlankMark,d=r.isNil(e.iconUrl)&&c===e.mark;return i.useEcaMarking&&(e.markOptionColour="#6BBFFF"),r.merge(e,{markSchemeType:a,isSelected:ko.observable(!1),iconUrl:""===e.iconUrl?null:e.iconUrl,isTextual:u||d,markColorDark:w(e.markOptionColour),markColorLight:x(e.markOptionColour)})}}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2;n.ListItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,r=e.title,i=e.hasNew,o=void 0!==i&&i,a=e.isOtherAssessment,s=void 0!==a&&a,l=e.active,c=void 0!==l&&l,u=e.linkedGrids,d=void 0===u?[]:u,f=e.linkedUols,p=void 0===f?[]:f,h=e.linkedSelfAssessments,m=void 0===h?[]:h,g=e.linkedTasks,v=void 0===g?[]:g,b=e.linkedLearningSteps,y=void 0===b?[]:b,w=e.hasGrids,x=void 0!==w&&w,_=e.hasUols,k=void 0!==_&&_,S=e.hasTasks,T=void 0!==S&&S,I=e.hasLearningSteps,E=void 0!==I&&I,C=e.hasSelfAssessments,O=void 0!==C&&C,M=e.hasNewGrid,D=void 0!==M&&M,P=e.hasNewUol,A=void 0!==P&&P,N=e.hasNewTask,R=void 0!==N&&N,H=e.hasNewLearningStep,L=void 0!==H&&H,j=e.hasNewSelfAssessment,F=void 0!==j&&j;if(t.isNullOrEmpty(n)||!r)throw new Error("Incomplete List Item. Missing fields");return{id:n,title:r,hasNew:o=ko.observable(!!o),active:c=ko.observable(!!c),isOtherAssessment:s=!!s,linkedGrids:d,linkedUols:p,linkedSelfAssessments:m,linkedTasks:v,linkedLearningSteps:y,hasGrids:x,hasUols:k,hasTasks:T,hasLearningSteps:E,hasSelfAssessments:O,hasNewGrid:D=ko.observable(!!D),hasNewUol:A=ko.observable(!!A),hasNewTask:R=ko.observable(!!R),hasNewLearningStep:L=ko.observable(!!L),hasNewSelfAssessment:F=ko.observable(!!F)}}}(IMHome),IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2;n.SubjectView=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=e.title,o=e.translations,a=void 0===o?{}:o,s=e.gridRefs,l=void 0===s?[]:s,c=e.uolRefs,u=void 0===c?[]:c,d=e.selfAssessmentRefs,f=void 0===d?[]:d,p=e.gridClick,h=e.uolClick,m=e.taskClick,g=e.learningStepClick,v=e.selfAssessmentClick,b=e.hasGrids,y=void 0!==b&&b,w=e.hasUols,x=void 0!==w&&w,_=e.hasTasks,k=void 0!==_&&_,S=e.hasLearningSteps,T=void 0!==S&&S,I=e.hasSelfAssessments,E=void 0!==I&&I,C=e.hasNewGrid,O=void 0===C?ko.observable(!1):C,M=e.hasNewUol,D=void 0===M?ko.observable(!1):M,P=e.hasNewTask,A=void 0===P?ko.observable(!1):P,N=e.hasNewLearningStep,R=void 0===N?ko.observable(!1):N,H=e.hasNewSelfAssessment,L=void 0===H?ko.observable(!1):H,j=e.reportingAvailable,F=void 0!==j&&j,U=e.viewState,V=void 0===U?ko.observable():U,W=n.constants,B=ko.observable(null),z=t.getTemplatePath("assessmentv2"),Y=function(){return $.publish("subject/contentAfterRender")},q=ko.observable(null),G=ko.observable(IMHome.core.isCompactView()),K=ko.observable(!1),J=ko.observable(!1),X=ko.observable(!1),Q=ko.observable(!1),Z=ko.observable(!1),ee=function(e){e.id===W.TASK&&m(e),e.id===W.LEARNING_STEP&&g(e),e.id===W.SELF_ASSESSMENT&&v(e)},te=function(e){e.click(e)},ne=[{icon:"reading-book",text:a.lblCurriculum,items:l,isOpen:ko.observable(!1),hasNew:O,id:W.GRID,visible:y},{icon:"book-shelf",text:a.lblUOL,items:u,isOpen:ko.observable(!1),hasNew:D,id:W.UOL,visible:x},{icon:"write-pencil",text:a.lblAssignments,items:[],isOpen:ko.observable(!1),hasNew:A,id:W.TASK,visible:k},{icon:"target-circles",text:a.lblLearningSteps,items:[],isOpen:ko.observable(!1),hasNew:R,id:W.LEARNING_STEP,visible:T},{icon:"self-assessment",text:a.lblSelfAssessment,items:f,isOpen:ko.observable(!1),hasNew:L,id:W.SELF_ASSESSMENT,visible:E}],re=ko.observable(ne[0]);return V.subscribe((function(e){var t=ne[0],n=!1;switch(e){case W.GRID:n=F,t=ne[0];break;case W.UOL:t=ne[1];break;case W.TASK:t=ne[2];break;case W.LEARNING_STEP:t=ne[3];break;case W.SELF_ASSESSMENT:t=ne[4]}K(n),re(t)})),{id:r,title:i,gridRefs:l,uolRefs:u,selfAssessmentRefs:f,translations:a,gridClick:p,uolClick:h,taskClick:m,learningStepClick:g,selfAssessmentClick:v,contentTemplate:B,contentTemplatePath:z,afterContentTemplateRender:Y,contentModel:q,hasNewGrid:O,hasNewTask:A,hasNewLearningStep:R,hasNewUol:D,hasNewSelfAssessment:L,hasGrids:y,hasUols:x,hasTasks:k,hasLearningSteps:T,hasSelfAssessments:E,viewState:V,isMobile:G,closeSubject:closeSubject,curriculumDropdownOpen:J,uolDropdownOpen:X,selfAssessmentDropdownOpen:Q,listOpen:Z,items:ne,selectedItem:re,accordionItemClick:ee,accordionSubItemClick:te}}}(IMHome),IMHome.attendance=IMHome.attendance||{},IMHome.attendance.AbsenceReportingDay=function(e,t){var n=e.translations,r=e.urls,i=IMHome.attendance.constants.DAYS,o=IMHome.attendance.constants.EVENTS,a=ko.observable(e.absentToday),s=ko.observable(e.absenceTodayComment),l=ko.observable(),c=ko.observable(e.absentTomorrow),u=ko.observable(e.absenceTomorrowComment),d=ko.observable(),f=ko.observable(e.absenceTodayLocked),p=ko.observable(e.absenceTomorrowLocked),h=e.absenceTodayDate,m=e.absenceTomorrowDate,g=e.canAddSicknessToday,v=e.canAddSicknessTomorrow,b=e.isPlaySchool,y=e.isIcelandic,w=e.autoConfirmAbsence,x=function(e){var t=e===i.TODAY,n={day:e,present:t?!a():!c(),canAddSicknessToTimeRegistration:t?g:v};IMHome.core.postJSON(r.registerAttendance,n).then((function(t){var r,l;r=e!==i.TODAY||a()?e!==i.TOMORROW||c()?null:m:h,n.present?null!==r&&(l=r,$.publish(o.REMOVE_FIRST_LIST_ITEM_AT_DATE,l)):(s(t.comment),S()),$.publish(o.DIRTY_LIST,{}),$.publish(o.REFRESH_LIST,{})}))},_=function(e){var n,r;e===i.TODAY?(n=h,r=s()):(n=m,r=u()),t().forEach((function(e){e.shortDate===n&&e.comments(r)}))},k=function(e){var t={day:e,comment:e===i.TODAY?s():u()};return IMHome.core.postJSON(r.saveAbsenceComment,t)};return S(),T(),{reportingItems:[{isToday:!0,isAbsent:a,comment:s,locked:f,commentEnabled:function(){!1===f()&&l(!1)},saveComment:function(){!1===f()&&k(i.TODAY).then((function(){_(i.TODAY),S()}))},commentDisabled:l,onClick:function(){w&&!a()&&(a(!0),x(i.TODAY),f(!0),S()),!1===f()&&(a(!a()),x(i.TODAY),S())},isPlaySchool:b,translations:R.merge(n,{day:n.today,date:n.dateToday,childAway:b?n.absenceReported:n.absenceAwayToday,childIn:b?n.reportAbsence:n.absenceInToday,absenceLocked:n.absenceAwayTodayLocked})},{isToday:!1,isAbsent:c,comment:u,locked:p,commentEnabled:function(){!1===p()&&d(!1)},saveComment:function(){!1===p()&&k(i.TOMORROW).then((function(){_(i.TOMORROW),T()}))},commentDisabled:d,onClick:function(){w&&!c()&&(c(!0),x(i.TOMORROW),p(!0),T()),!1===p()&&(c(!c()),x(i.TOMORROW),T())},isPlaySchool:b,translations:R.merge(n,{day:n.tomorrow,date:n.dateTomorrow,childAway:b?n.absenceReported:n.absenceAwayTomorrow,childIn:b?n.reportAbsence:n.absenceInTomorrow,absenceLocked:n.absenceAwayTomorrowLocked})}],templateName:"attendance/attendance.absence-reporting-full-day",isIceland:y,buttonText:y?n.reportSicknessLeave:n.reportAbsence};function S(){l(!IMHome.core.isNullOrEmpty(s())||f())}function T(){d(!IMHome.core.isNullOrEmpty(u())||p())}},IMHome.attendance=IMHome.attendance||{},function(e,t,n){var r=e.core,i=e.attendance;i.AbsenceReportingDayAndSession=function(e){var o=e.translations,a=e.urls,s=i.constants.ABSENCE_REG_TYPE,l=i.constants.DAYS,c={PENDING:"PENDING",APPROVED:"APPROVED",DISABLED:"DISABLED",SELECT:"SELECT"},u=e.autoConfirmAbsence,d=n.observable(!1),f=function(e){return e.isSelected()},p=t.ifElse(f,(function(e){return{url:a.registerAttendance,data:{present:!1,day:e.day,canAddSicknessToTimeRegistration:e.canAddSicknessToTimeRegistration,RegType:s.DAY},callback:function(){u?e.isApproved(!0):e.isPending(!0),e.isSelected(!1)}}}),(function(e){return t.pipe(t.prop("sessions"),t.filter(f),t.map((function(t){return{url:a.registerSessionAttendance,data:{timetableEntryId:t.timetableEntryId,sessionOrderId:t.sessionOrderId,present:!1,day:e.day,canAddSicknessToTimeRegistration:e.canAddSicknessToTimeRegistration,RegType:s.SESSION},callback:function(e){var n=e.sessionOrderId;u?t.isApproved(!0):(t.isPending(!0),t.sessionOrderId(n)),t.isSelected(!1)}}})))(e)})),h=function(e){return e.isSelected()||t.any(f,e.sessions)},m=n.pureComputed((function(){return t.none(h)(v)})),g=function(e){var r=e.day,i=e.isAbsent,o=e.isSelected,a=e.isLocked,s=e.sessions,l=e.date,c=e.canAddSicknessToTimeRegistration,u=e.dayTranslations,d=n.observable(i&&!a),f=n.observable(i&&a),p={isDayPending:d,isDayApproved:f,isDaySelected:o,date:l,canAddSicknessToTimeRegistration:c},h=t.map(b(p),s),m=f()||t.any((function(e){return!0===e.isApproved()}),h);return{day:r,onClick:function(){d()||f()||o(!o())},isPending:d,isApproved:f,hasAnyApprovedAbsence:m,isSelected:o,lockedDay:a,dayPendingCancelClick:t.partial(w,[!0,r,c,null,null,d]),sessions:h,isPlaySchool:e.isPlaySchool,date:l,canAddSicknessToTimeRegistration:c,mappedTranslations:{title:u.day+", "+u.date},open:n.observable(!1)}},v=[g({day:l.TODAY,isAbsent:e.absentToday,isSelected:n.observable(!1),isLocked:e.absenceTodayLocked,sessions:e.absenceTodaySessions,date:e.absenceTodayDate,canAddSicknessToTimeRegistration:e.canAddSicknessToday,dayTranslations:{day:o.today,date:o.dateToday}}),g({day:l.TOMORROW,isAbsent:e.absentTomorrow,isSelected:n.observable(!1),isLocked:e.absenceTomorrowLocked,sessions:e.absenceTomorrowSessions,date:e.absenceTomorrowDate,canAddSicknessToTimeRegistration:e.canAddSicknessTomorrow,dayTranslations:{day:o.tomorrow,date:o.dateTomorrow}})];return{reportingItems:v,isIceland:e.isIcelandic,templateName:"attendance/attendance.absence-reporting-full-day-and-session",submitAttendance:function(){t.pipe(t.map(p),t.flatten,(function(e){!1===d()&&Promise.all(e.map((function(e){var t=e.url,n=e.data,i=e.callback;return d(!0),r.postJSON(t,n).then(i)}))).then((function(){d(!1)}))}))(v)},buttonText:o.reportAbsence,buttonDisabled:m,translations:o,ATTENDANCE_STATES:c};function b(e){var r=e.isDayPending,i=e.isDayApproved,o=e.isDaySelected,a=e.date,l=e.canAddSicknessToTimeRegistration;return function(e){var u=e.isAbsent,d=e.readOnly,f=e.timetableEntryId,p=e.sessionOrderId,h=e.title,m=e.formattedTimeString,g=n.observable(!1),v=n.observable(u&&!d),b=n.observable(u&&d),x=n.observable(p),_=n.pureComputed((function(){return i()?c.DISABLED:r()?b()?c.APPROVED:c.DISABLED:o()?b()?c.APPROVED:v()?c.PENDING:c.DISABLED:b()?c.APPROVED:v()?c.PENDING:c.SELECT}));return{isSelected:g,isApproved:b,onRowClick:t.partial(y,[b,v,g]),isPending:v,sessionPendingCancelClick:t.partial(w,[!1,a,l,f,x,v,s.SESSION]),title:h,formattedTimeString:m,timetableEntryId:f,sessionOrderId:x,state:_,ATTENDANCE_STATES:c}}}function y(e,t,n){e()||t()||n(!n())}function w(e,i,o,s,l,c,u){var d=e?a.registerAttendance:a.registerSessionAttendance,f={present:!0,day:i,RegType:u,canAddSicknessToTimeRegistration:o},p=e?{}:{timetableEntryId:s,sessionOrderId:n.unwrap(l)},h=t.merge(f,p);r.postJSON(d,h).then((function(){c(!1),l(void 0)}))}}}(IMHome,R,ko,$),IMHome.attendance=IMHome.attendance||{},IMHome.attendance.App=function(e){var t,n=IMHome.attendance,r=IMHome.core,i=e.translations,o=n.constants.TAB_IDS,a=r.constants.TILES.ATTENDANCE,s=e.hasLeaveLicence;IMHome.core.setTitleTag(a);var l={id:o.LEAVE_REQUESTS,name:i.leaveRequestPanelTitle},c=[{id:o.ATTENDANCE,name:i.pastAttendance}].concat(_toConsumableArray(s?[l]:[])),u=ko.observable(),d=ko.observable(!0),f=ko.observable(null);return u.subscribe((function(){d(!0)}),null,"beforeChange"),u.subscribe((function(t){var n=function(n){null!==f()&&f().destroy();var r={tabPath:"/".concat(a,"/tab/").concat(t),selectedTabId:u},i=n(_objectSpread(_objectSpread({},r),e));i.init(),f(i),d(!1)};t===o.ATTENDANCE&&n(IMHome.attendance.createAttendanceViewModel),t===o.LEAVE_REQUESTS&&n(IMHome.attendance.createLeaveRequestViewModel)})),{translations:i,tabs:c,isSwitchingTabs:d,viewModel:f,selectedTabId:u,APP_NAME:a,destroy:function(){null!==f()&&f().destroy();t.unsubscribeAll()},init:function(){t=r.SubscriptionList([{event:"route",action:p}])}};function p(e,t){var n=t.params,r=arguments,i=u()!==n.tab;if(i)var o=f.subscribe((function(e){var t;null===(t=e.handleInitRoute)||void 0===t||t.apply(null,r),o.dispose()}))}},IMHome.attendance=IMHome.attendance||{};var IMHomeAttendanceConstants={ABSENCE_REG_TYPE:{DAY:"day",SESSION:"session"},DAYS:{TODAY:"today",TOMORROW:"tomorrow"},EVENTS:{REFRESH_LIST:"attendance/refreshList",DIRTY_LIST:"attendance/dirtyList",REMOVE_FIRST_LIST_ITEM_AT_DATE:"attendance/removeListItemByDate",SHOW_ABSENCE_REPORTING:"attendance/showAbsencePanel"},NEW_LEAVE_HASH:"create-leave-request",TAB_IDS:{ATTENDANCE:"pastAttendance",LEAVE_REQUESTS:"leaveRequests"},LEAVE_REQUEST_STATUSES:{PENDING:"Pending",APPROVED:"Approved",DENIED:"Denied",EXPIRED:"Expired"}};function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}IMHome.attendance.constants=IMHomeAttendanceConstants,IMHome.attendance=IMHome.attendance||{},IMHome.attendance.AttendanceItem=function(e){var t={translations:e.translations,isPlaySchool:e.isPlaySchool,showComment:e.showComment};return function(e){return R.merge(t,R.pickAll(["id","comments","establishmentName","halfDaysCount","longDate","minutes","reason","registeredBy","subject","time"],e))}},IMHome.attendance=IMHome.attendance||{},IMHome.attendance.AttendanceListItem=function(e){return{active:ko.observable(!1),comments:ko.observable(e.comment),id:e.id,shortDate:e.shortDate,longDate:e.longDate,time:e.time,subject:e.subject,reason:e.reason,registeredBy:e.registeredByName,establishmentName:e.establishmentName,minutes:e.minutes,halfDaysCount:e.halfDaysCount}},IMHome.attendance=IMHome.attendance||{},IMHome.attendance.createAttendanceViewModel=function(e){var t,n=IMHome.core,r=n.isFunction,i=n.triggerNotificationUpdate,o=IMHome.core.defaultAppMethods,a=o.pureOnRouteChange,s=o.pureShowFirstItemInListIfNotCompactView,l=o.prevPageAvailable,c=o.nextPageAvailable,u=o.makeFilterModels,d=o.getFilterValues,f=o.getMoreItems,p=o.publishNewItems,h=o.getCurrentPageNumber,m=IMHome.core.constants.TILES.ATTENDANCE,g=IMHome.home.homeData.notificationTypeMap,v=IMHome.attendance.constants.EVENTS,b=e.translations,y=e.isParent,w=e.tabPath,x=1,_=e.pagedList,k=e.isPlaySchool,S=ko.observable(!1),T=e.showComment,I=e.showSubjects,E=R.defaultTo(!1,e.canRegisterDayAbsence),C=R.defaultTo(!1,e.canRegisterSessionAbsence),O=IMHome.core.getTemplatePath(m),M=ko.observable(!1),D=ko.observable(!1),P=e.selectedTabId,A={},N=ko.observable(!1),H={filters:u(_.filters.filters),submit:Y,clear:function(e){var t=e.filters;t.forEach((function(e){e.clear()})),Y({filters:t})},translations:_.filters.translations},L=new IMHome.core.ItemList({ItemConstructor:IMHome.attendance.AttendanceListItem,itemData:e.pagedList.items}),j=L.items,F=C?IMHome.attendance.AbsenceReportingDayAndSession(e,j):E?IMHome.attendance.AbsenceReportingDay(e,j):null,U=new IMHome.core.ContentController({ItemConstructor:IMHome.attendance.AttendanceItem(e),templatePath:O,appName:m,hasItemEmptyTemplate:!1,onListItemClick:function(e,t){var n=w+"/show/"+t;window.location.hash=n},appTemplateName:"attendance/attendance.attendance",onRouteChange:function(e,t){var n=t.params;n.tab===P()&&U.defaultOnRouteChange.apply(null,Array.prototype.slice.call(arguments))},getItem:function(e){return S(!1),e?Promise.resolve(R.find(R.propEq("id",e),j())):j()[0]}}),V=new IMHome.core.ContentPager({translations:{pageCount:b.pageCount,returnToList:b.returnToList,prevItem:b.prevItem,nextItem:b.nextItem},currentPage:ko.computed((function(){return h(L)})),totalPages:ko.computed(L.totalItems),previousButtonIsDisabled:ko.computed((function(){return l(L)})),nextButtonIsDisabled:ko.computed((function(){return c(L)}))}),W={itemCount:L.totalItems,loadFunction:function(){var e=$.Deferred(),t=L.items().length,n=!1;return L.hasPreloadedItems&&0===t&&(M(!0),U.activeItem({noResults:!0}),n=!0),!n&&t<_.totalItems?f(_.listUrl,A,++x,_.pageSize).then((function(e){D(!1===e.more),M(0===e.items.length),p(e.items,!0,U,L)})):(D(!0),e.resolve(),e.promise())},allResultsLoaded:D,noResults:M,noResultsTemplate:$($("#t_noResultsDefault").clone().html())},B=function(){N(!N())},z=function(e){var t=j().filter(R.propEq("shortDate",e));IMHome.core.isNullOrEmptyArray(t)||j.remove(t[0])};return{templatePath:O,filters:H,translations:b,init:function(){var e=[{event:"route",action:a(L,U)},{event:"pager/backClick",action:K(!1)},{event:"pager/nextClick",action:K(L.getNextItemId)},{event:"pager/prevClick",action:K(L.getPrevItemId)},{event:"global/click",action:J},{event:v.REFRESH_LIST,action:q},{event:v.REMOVE_FIRST_LIST_ITEM_AT_DATE,action:z}];t=new IMHome.core.SubscriptionList(e),$(document).on(IMHome.core.event.transitionEnd,".attendance-item-group, .attendance-list",(function(){$(this).hasClass("off")?($(this).css({visibility:"hidden"}),$(this).closest(".panel").find(".btn-toolbar").hide()):($(this).css({visibility:"visible"}),$(this).closest(".panel").find(".btn-toolbar").show())})),G(),i([g.absenceRecorded,g.attendanceRecorded])},destroy:function(){U.destroy(),L.destroy(),t.unsubscribeAll()},controller:U,attendanceList:L,pager:V,absenceReporting:F,infiniteScrollOptions:W,isParent:y,showAbsenceReporting:S,filterActive:N,isPlaySchool:k,showComment:T,showSubjects:I,toggleFilter:B,toggleAbsencePanel:function(){return S(!S())}};function Y(e){var t=e.filters;(function(e){x=1,f(_.listUrl,e,x,_.pageSize).then((function(e){var t=e.items.some((function(e){return U.activeItem()&&e.id===U.activeItem().id}));p(e.items,!1,U,L),0===e.items.length?(U.activeItem(null),location.hash="/".concat(m)):!1===t&&(location.hash==="#/".concat(m)&&G(),location.hash="/".concat(m))}))})(A=d(t)),B()}function q(){x=0,W.allResultsLoaded(!1),L.hasPreloadedItems=!1,L.updateItems({append:!1,items:[]})}function G(){s(L,U)}function K(e){return function(){var t=r(e)?e():e;window.location.hash=t?w+"/show/"+t:w,S(!1)}}function J(e,t){0===$(t.target).closest(".app-filter, .btn-filter, .noCloseFilter").length&&N(!1)}},IMHome.attendance=IMHome.attendance||{},IMHome.attendance.createLeaveRequestForm=function(e){var t,n,r,i=IMHome.core,o=IMHome.aria,a=e.translations,s=e.urls,l=e.fetchAndRenderLeaveRequests,c=a.leaveRequestRequestLeave,u=ko.pureComputed((function(){return e.hasLeaveTwoGuardiansLicence&&!e.isOnlyOneGuardianRegistered&&!e.isOver18Pupil})),d=R.pipe(R.prop("value"),ko.unwrap,R.complement(i.isNullOrEmpty)),f=y({label:a.leaveRequestDateFrom,value:e.fromDate}),p=w({namespace:"time-from",label:a.leaveRequestTimeFrom,value:e.fromTime}),h=y({label:a.leaveRequestDateTo,value:e.toDate}),m=w({namespace:"time-from",label:a.leaveRequestTimeTo,value:e.toTime}),g=(t={label:a.reasonLabel,value:e.comment},n=t.label,r=t.value,{label:n,value:ko.observable(R.defaultTo("",r))}),v=ko.pureComputed((function(){var e,t,n,r,o,s,l,c;return e=d(f)&&d(h),t=e&&d(g),r=(n=function(e,t){var n=moment(t,"HH:mm");return i.isNullOrEmpty(t)?moment(e):moment(e).set("hour",n.get("hour")).set("minute",n.get("minute"))})(f.value(),p.value()),o=n(h.value(),m.value()),s=i.isNullOrEmpty(p.value())&&i.isNullOrEmpty(m.value()),l=d(p)&&d(m),function(e){var t=e.isToAfterFrom,n=e.bothDatesHaveValue,r=e.bothTimesHaveValue,i=e.neitherTimesHaveValue,o=[];r&&n&&!1===t&&o.push(a.leaveRequestValidationToMustBeAfterFrom),!1===r&&!1===i&&o.push(a.leaveRequestValidationMustFillBothTimesOrNeither),b(o)}({isToAfterFrom:c=o.isAfter(r),bothTimesHaveValue:l,bothDatesHaveValue:e,neitherTimesHaveValue:s}),t&&(s||l&&c)})),b=ko.observableArray();return i.dateOverlapGuard(f.value,h.value),f.value.subscribe((function(e){null===h.value()&&h.value(e)})),{templateName:"leaveRequests/leaveRequests.leaveRequestForm",title:c,fromDate:f,fromTime:p,toDate:h,toTime:m,reason:g,canSubmit:v,validationMessages:b,showTwoGuardiansRequiredNotice:u,onSubmit:function(){var e={id:null,fromDate:i.formatDateToStandardFormat(f.value()),fromTime:p.value(),toDate:i.formatDateToStandardFormat(h.value()),toTime:m.value(),comment:g.value()};i.postJSON(s.createLeaveRequest,e).then((function(e){var t=e.success,n=e.id;t&&l().then((function(){$.publish("leaveRequests/selectItem",n)}))}))}};function y(e){var t=e.label,n=e.value,r=new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()+2);return{label:t,value:ko.observable(R.defaultTo(null,n)),datepickerOptions:{minDate:i,showWeekNumber:!0}}}function w(e){var t=e.namespace,n=e.label,r=e.value,i=o.createLabelledBy("leave-request-form__time-picker--"+t),s=i["aria-labelledby"];return{label:n,labelId:i.id,ariaInputLabelledby:s,ariaListboxLabel:a.commonSelectableListOfTimes,value:ko.observable(R.defaultTo(null,r))}}},IMHome.attendance=IMHome.attendance||{},IMHome.attendance.createLeaveRequestListItem=function(e){var t=e.translations,n=e.fromDate,r=e.toDate,i=e.createdBy,o=e.updatedDate,a=e.requesterComment,s=e.status,l=e.dateRangeTitle,c=e.isAwaitingResponseFromCurrentUser,u=IMHome,d=u.core,f=u.attendance.constants.LEAVE_REQUEST_STATUSES;return _objectSpread(_objectSpread(_objectSpread({},e),function(e){return{statusClass:(null==e?void 0:e.toLowerCase())||"",statusText:e===f.PENDING?t.commonPending:e===f.APPROVED?t.leaveRequestApprovedStatus:e===f.EXPIRED?t.commonExpired:t.leaveRequestDeniedStatus}}(s)),{},{fromDate:moment(n,d.standardDateFormat).toDate(),toDate:moment(r,d.standardDateFormat).toDate(),fromToText:l,appliedForText:function(e){var t=e.translations,n=e.updatedDate,r=e.createdBy;return d.format(t.leaveRequestDetailsPattern,n,r)}({translations:t,createdBy:i,updatedDate:o}),active:ko.observable(!1),removing:ko.observable(!1),onRemovedFromList:function(){},comment:a,showAwaitingResponseDot:c})},IMHome.attendance=IMHome.attendance||{},IMHome.attendance.createLeaveRequestViewModel=function(e){var t,n=IMHome.core,r=IMHome.attendance,i=e.urls,o=e.tabPath,a=e.translations,s=e.canRequestLeave,l=n.constants.TILES.ATTENDANCE,c=n.getTemplatePath(l),u=ko.observable(null),d=ko.observable(!1),f=IMHome.attendance.constants.NEW_LEAVE_HASH,p=n.factoryInjector(r.createLeaveRequestListItem,{translations:a,isOnlyOneGuardianRegistered:e.isOnlyOneGuardianRegistered,hasLeaveTwoGuardiansLicence:e.hasLeaveTwoGuardiansLicence,isOver18Pupil:e.isOver18Pupil}),h=n.ItemList({ItemConstructor:p,itemData:[]}),m=ko.observable(!1),g=ko.observable(null);return{translations:a,leaveRequest:u,templatePath:c,showLeaveRequest:d,canRequestLeave:s,list:h,init:function(){t=IMHome.core.SubscriptionList([{event:"listItem/click",action:v},{event:"leaveRequests/selectItem",action:function(e,t){v(e,t);var n=h.items().find((function(e){return e.id===t}));n&&n.active(!0)}},{event:"leaveRequests/closeForm",action:b},{event:"leaveRequests/selectFirstListItem",action:function(){v(null,h.items()[0].id)}},{event:"notification/allNotifications",action:_},{event:"route",action:y}]),m(!0),w().then((function(){if(h.items().length>0&&!1===n.isMobile()&&null===g()){var e=h.items()[0];v(null,e.id),e.active(!0)}m(!1)}))},destroy:function(){t.unsubscribeAll(),h.items([]),h.destroy(),g(null)},requestNewLeave:function(){window.location.hash="".concat(o,"/show/").concat(f)},itemClick:v,handleInitRoute:function(){y.apply(null,arguments)},onCloseForm:b};function v(e,t){window.location.hash="".concat(o,"/show/").concat(t)}function b(){window.location.hash="".concat(o)}function y(e,t){var n=t.params;"show"===n.action&&void 0!==n.id?(d(!1),g(n.id),n.id===f?(h.items().forEach((function(e){return e.active(!1)})),x(n.id)):!0===m()?m.subscribe((function(e){!1===e&&x(n.id)})):x(n.id)):d(!1)}function w(){return n.postJSON(i.getLeaveRequestList).then((function(e){return $.publish("listItem/newItems",{items:e}),e}))}function x(t){var o=h.items().find((function(e){return e.id===Number(t)})),s=t===f,l=_objectSpread(_objectSpread({},o),{},{translations:a,isOnlyOneGuardianRegistered:e.isOnlyOneGuardianRegistered,hasLeaveTwoGuardiansLicence:e.hasLeaveTwoGuardiansLicence,isOver18Pupil:e.isOver18Pupil,urls:i,fetchAndRenderLeaveRequests:w}),c=s?r.createLeaveRequestForm(l):r.createViewLeaveRequest(l);u(c),!1===n.isNullOrEmpty(o)&&$.publish("item/newItem",o),setTimeout((function(){d(!0)}))}function _(e,t){t.filter((function(e){var t;return e.type===(null===(t=IMHome.home.homeData)||void 0===t?void 0:t.notificationTypeMap.leaveRequestUpdated)})).some((function(e){return"New"===e.state}))&&n.allNotifications._versionNumber>2&&w().then((function(){var e,n=null===(e=u())||void 0===e?void 0:e.id,o=t.map((function(e){return e.url})).some((function(e){return e.includes(n)})),s=h.items().find((function(e){return e.id===n}));if(null==s||s.active(!0),o&&s){var l=r.createViewLeaveRequest(_objectSpread(_objectSpread({},s),{},{translations:a,urls:i,fetchAndRenderLeaveRequests:w,indicateLiveUpdate:!0}));u(l)}}))}},IMHome.attendance=IMHome.attendance||{};var SECONDARY_PARENT_STATUS_APPROVED="Approved",SECONDARY_PARENT_STATUS_DENIED="Denied";function markNotificationAsRead(e){var t,n=null===(t=IMHome.home.homeData)||void 0===t?void 0:t.notificationTypeMap.leaveRequestUpdated;if(IMHome.core.allNotifications().length>0)i(IMHome.core.allNotifications());else var r=IMHome.core.allNotifications.subscribe((function(e){i(e),r.dispose()}));function i(t){var r=t.find((function(t){return!0===t.currentlySelectedPupil&&t.type===n&&t.url.includes("show/".concat(e))}));void 0!==r&&$.publish("notification/markNotificationAsRead",r.id)}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}IMHome.attendance.createViewLeaveRequest=function(e){var t=IMHome.attendance.constants.LEAVE_REQUEST_STATUSES,n=e.translations,r=e.urls,i=e.id,o=e.status,a=e.fetchAndRenderLeaveRequests,s=IMHome.core,l=ko.observable(o),c=ko.observable(e.secondaryParentStatus||""),u=ko.observable(e.canDelete),d=ko.observable(e.canApprove),f=ko.observable(e.canDeny),p=ko.observable(e.showDeleteButton),h=ko.observable(e.showApproveButton&&e.hasLeaveTwoGuardiansLicence),m=ko.observable(e.showDenyButton&&e.hasLeaveTwoGuardiansLicence),g=ko.pureComputed((function(){return S(l())||""})),v=ko.pureComputed((function(){return l().toLowerCase()||""})),b=ko.observable(e.secondaryApprovalText||""),y=ko.observable(!(l()===IMHome.attendance.constants.LEAVE_REQUEST_STATUSES.APPROVED||l()===IMHome.attendance.constants.LEAVE_REQUEST_STATUSES.DENIED&&"Approved"===e.secondaryParentStatus||!e.secondaryParentStatus||!e.secondaryParentApproverId||!e.hasLeaveTwoGuardiansLicence||e.isOver18Pupil)),w=ko.pureComputed((function(){return b()>""&&l()!==IMHome.attendance.constants.LEAVE_REQUEST_STATUSES.EXPIRED?"("+b()+")":""})),x=ko.pureComputed((function(){return l()!==t.PENDING?n.leaveRequestDeleteNotAllowedWhenApprovedDeniedText:n.leaveRequestDeleteNotAllowedText})),_=ko.observable(e.indicateLiveUpdate||!1),k=ko.pureComputed((function(){return l()===t.DENIED?n.leaveRequestDeniedDetails:n.leaveRequestApprovalDetails})),S=function(e){return e===t.PENDING?n.commonPending:e===t.APPROVED?n.leaveRequestApprovedStatus:e===t.EXPIRED?n.commonExpired:n.leaveRequestDeniedStatus};function T(t){t.success&&a().then((function(t){var n=t.find((function(e){return e.id===i}));n&&(c(n.secondaryParentStatus||SECONDARY_PARENT_STATUS_APPROVED),l(n.status),b(n.secondaryApprovalText||""),d(n.canApprove),u(n.canDelete),f(n.canDeny),h(n.showApproveButton),p(n.showDeleteButton),m(n.showDenyButton),D(n.secondaryGuardianDetailLabel),y(!(n.status===IMHome.attendance.constants.LEAVE_REQUEST_STATUSES.APPROVED||l()===IMHome.attendance.constants.LEAVE_REQUEST_STATUSES.DENIED&&"Approved"===e.secondaryParentStatus||!n.secondaryParentStatus||!n.secondaryParentApproverId||!e.hasLeaveTwoGuardiansLicence||e.isOver18Pupil)),D(n.secondaryParentApprovalDateText))}))}markNotificationAsRead(i);var I=ko.pureComputed((function(){return l()===t.APPROVED?n.leaveRequestApprovedBy+":":l()===t.DENIED?n.leaveRequestDeniedBy+":":""})),E=ko.pureComputed((function(){return c()===SECONDARY_PARENT_STATUS_APPROVED?n.leaveRequestApprovedBy+":":c()===SECONDARY_PARENT_STATUS_DENIED?n.leaveRequestDeniedBy+":":""})),C=ko.pureComputed((function(){return!!e.approvedByTitle})),O=ko.pureComputed((function(){return!(!e.hasLeaveTwoGuardiansLicence||C||l()==IMHome.attendance.constants.LEAVE_REQUEST_STATUSES.PENDING)})),M=ko.pureComputed((function(){return!(e.canDelete||!e.showDeleteButton)})),D=ko.observable(e.secondaryParentApprovalDateText);return _objectSpread(_objectSpread({},e),{},_defineProperty({id:i,templateName:"leaveRequests/leaveRequests.viewLeaveRequest",translations:n,title:n.leaveRequestSummaryDialogTitle,canDelete:u,canApprove:d,canDeny:f,showDeleteButton:p,showApproveButton:h,showDenyButton:m,approvedDeniedDetailsHeader:k,status:l,statusText:g,secondaryParentStatus:c,schoolApprovalDisplayText:w,statusClass:v,liveUpdate:_,warningText:x,onApprove:function(){s.postJSON(r.setSecondaryStatus,{isApproved:!0,id:i}).then(T)},onDeny:function(){s.postJSON(r.setSecondaryStatus,{isApproved:!1,id:i}).then(T)},onDelete:function(){s.confirm({title:n.leaveRequestDeleteDialogTitle,message:n.leaveRequestDeleteDialogText,buttons:[{text:n.commonCancel,click:s.hideDialog,cssClasses:"bn"},{text:n.commonDelete,click:function(){s.postJSON(r.deleteLeaveRequest,{id:i}).then((function(e){e.success&&a().then((function(){return $.publish("leaveRequests/closeForm")}))})),s.hideDialog()},cssClasses:"bn-primary"}]})},updatedByLabel:I,secondaryUpdatedByTitle:E,secondaryGuardianDetailLabel:D,showApprovedByTitle:C,showSecondaryGuardianText:O,showSecondaryGuardianApprovalStatus:y,showWarningBanner:M},"secondaryGuardianDetailLabel",D))},IMHome.classlist=IMHome.classlist||{},function(e,t){var n=e.core,r=e.classlist;r.App=function(e){var i=n.constants.TILES.CLASS_LIST;IMHome.core.setTitleTag(i);var o=e.translations,a=e.urls,s=n.getTemplatePath(i),l=0===e.groupConfig.length||1===e.groupConfig.length&&0===e.groupConfig[0].items.length;l&&(e.groupConfig=[]);var c=t.observable(l),u=t.observable(!1),d=e.userConfig.canSendEmail,f=!e.userConfig.isPupil,p=r.createSidePanel(e),h=r.createMessageComposer(e),m=t.observable(!1),g=t.observable(!1),v=t.computed((function(){return n.isCompactView()})),b=t.observable(!1),y=t.observable(null),w=t.observable(null),x=n.SubscriptionList([{event:"app/closed",action:function(e,t){i===t&&(x.unsubscribeAll(),$.publish("".concat(i,"/disposeApp")))}},{event:"".concat(i,"/showEmailComposer"),action:function(){g(!0)}},{event:"".concat(i,"/hideEmailComposer"),action:_},{event:"".concat(i,"/emailSentSuccess"),action:_},{event:"".concat(i,"/groupChanged"),action:function(e,t){null===t.activeGroup?(m(!0),y(null)):m(!1)}},{event:"".concat(i,"/userChanged"),action:function(t,n){var i=n.activeUser,o=n.activeGroup,a=r.createPersonalDetails(e,i,o);u(!0);var s=a.loadingComplete.subscribe((function(){w(a),u(!1),s.dispose()}))}}]);return{translations:o,urls:a,templatePath:s,templates:{sidePanel:"classlist.sidePanel",groupListItem:"classlist.groupListItem",userListItem:"classlist.userListItem",messageComposer:"classlist.messageComposer",personalDetails:"classlist.personalDetails"},sidePanelModel:p,messageComposerModel:h,ui:{showNoResults:c,showPleaseSelect:m,compactViewActive:v,emailComposerActive:g,userLoadInProgress:u,activeItem:y,nextItem:w,addingNextItem:b,nextItemRendered:function(){var e=n.isCompactView()?0:500;setTimeout((function(){return b(!0)}),e)},onNextItemTransitionEnd:function(){b(!1),y(w()),w(null)}},user:{canSendEmail:d,canSelectAll:f}};function _(){g(!1)}}}(IMHome,ko),IMHome.classlist=IMHome.classlist||{},function(e,t){var n=e.core;e.classlist.createEmailToField=function(e){var r=e.translations,i=e.isGroupTutors,o=t.observableArray([]),a=t.observable(),s=t.computed((function(){return""!==a()})),l=t.pureComputed((function(){return o().filter((function(e){return!0===e.hasEmail&&!1===e.privacyRestrictions}))})),c=t.pureComputed((function(){return o().filter((function(e){return!1===e.hasEmail&&!1===e.privacyRestrictions}))})),u=t.pureComputed((function(){return o().filter((function(e){return!0===e.privacyRestrictions})).map((function(e){return e.pupilName})).filter((function(e,t,n){return n.indexOf(e)===t}))})),d=t.observable(!1),f=t.pureComputed((function(){return l().length>0})),p=t.pureComputed((function(){return c().length>0})),h=t.pureComputed((function(){return u().length>0})),m=t.pureComputed((function(){return h()?n.format(r.privacyMessage,u().join("; ")):""})),g=t.computed((function(){var e=[],t=[],o="";return i()||(c().forEach((function(e){var n;!1===e.privacyRestrictions&&!1===e.hasEmail&&((n=t.filter((function(t){return t.name===e.pupilName}))).length>0?n[0].parents.push(e.name):t.push({name:e.pupilName,parents:[e.name]}))})),t.length>0&&t.forEach((function(t){e.push(t.name+" ("+t.parents.join(", ")+")")})),e.length>0&&(o=n.format(r.noEmailMessage,e.join(", ")))),o}));return{allRecipients:o,emailableRecipients:l,restrictedRecipients:u,noEmailRecipients:c,hasEmailableRecipient:f,hasNoEmailRecipient:p,hasRestrictedRecipient:h,privacyMessage:m,noEmailMessage:g,emailInfoText:a,hasEmailInfoText:s,showAllRecipients:d,removeRecipient:function(e){var t=e.context;o.remove(t)}}}}(IMHome,ko),IMHome.classlist=IMHome.classlist||{},function(e,t){var n=e.core,r=e.classlist;r.createGroupListItem=function(e,i){var o=n.constants.TILES.CLASS_LIST,a=e.urls,s=i.id,l=i.title,c=i.items.length>0,u=e.userConfig.isPupil,d=-1===i.id,f=i.isStaffGroup,p=t.observable(!1),h=t.observable(!1),m=t.observable(!1),g=t.observable(c),v=t.observableArray(c?i.items.map(M):[]),b=t.observableArray([]),y=t.observable(!1),w=t.observable(!1),x=t.observable(!1),_=function(){return $.publish("".concat(o,"/groupChanged"),{activeGroup:i})},k=function(){return $.publish("".concat(o,"/groupChanged"),{activeGroup:null})},S=function(){return $.publish("".concat(o,"/group:").concat(s,".selectAllUsers"))},T=function(){return $.publish("".concat(o,"/group:").concat(s,".deselectAllUsers"))},I=n.SubscriptionList([{event:"".concat(o,"/disposeApp"),action:function(){E.forEach((function(e){return e.dispose()})),I.unsubscribeAll(),C.dispose()}},{event:"".concat(o,"/groupChanged"),action:function(e,t){var n=t.activeGroup;i!==n&&(y(!1),!0===p()&&N())}},{event:"".concat(o,"/userChanged"),action:function(e,t){var n=t.activeGroup;i===n&&!0===p()&&y(!0)}},{event:"".concat(o,"/deselectAllUsers"),action:function(){!0===p()&&T()}},{event:"".concat(o,"/group:").concat(s,".userSelected"),action:function(e,t){var n=t.user;-1===b.indexOf(n)&&b.push(n)}},{event:"".concat(o,"/group:").concat(s,".userDeselected"),action:function(e,t){var n=t.user;-1!==b.indexOf(n)&&b.remove(n)}}]),E=[p.subscribe((function(e){var t=!e;w()?w(!1):!0===t?D().then(_):A()}),void 0,"beforeChange"),h.subscribe((function(e){var t=!e;x()?x(!1):!0===t?(r=!p(),D().then(r?_:n.noop).then(S)):A();var r}),void 0,"beforeChange"),b.subscribe((function(){var e=b(),t=h(),n=e.length===v().length;n!==t&&(x(!0),h(n))}))],C=t.pureComputed((function(){if(f){var e=b().map((function(e){return{email:e.email,name:e.name}}));n=e,$.publish("".concat(o,"/selectedStaffEmails"),{emails:n})}else{var t=b().map((function(e){return e.id}));r=t,$.publish("".concat(o,"/selectedUserIds"),{ids:r})}var n,r})).extend({throttle:50}),O=t.pureComputed((function(){return!f&&(!0===d||!1===u)&&(!1===g()||v().some((function(e){return e.checkboxVisible})))}));return{isActive:p,selectAllChecked:h,title:l,users:v,showingCheckbox:O,usersLoaded:g,prepareUsers:P,afterUserListRender:function(){setTimeout((function(){g.valueHasMutated()}),1e3)}};function M(t){return r.createUserListItem(e,t,i)}function D(){var e=$.Deferred();return P().then((function(){R(!0),!1===y()&&!1===n.isCompactView()&&v()[0].activateUser(),e.resolve()})),e.promise()}function P(){var e,t,r=$.Deferred();return!0===g()?r.resolve():(e=a.getClassList,t={id:s},m(!0),n.postJSON(e,t).then((function(e){v(e.map(M)),m(!1),g(!0)}))).then((function(){return r.resolve()})),r.promise()}function A(){N().then(k)}function N(){var e,t=$.Deferred();return!0===p()&&R(!1),!0===h()&&(e=!1,h()!==e&&(x(!0),h(e))),T(),t.resolve(),t.promise()}function R(e){p()!==e&&(w(!0),p(e))}}}(IMHome,ko),IMHome.classlist=IMHome.classlist||{},function(e,t,n){var r=e.core,i=e.classlist;i.createMessageComposer=function(e){var o=r.constants.TILES.CLASS_LIST,a=e.translations,s=e.urls,l=e.fileUploadConfig.maxUploadSize,c=e.fileUploadConfig.allowedMimeTypes,u=e.userConfig.canSendEmail,d=t.observable(null),f=i.createEmailToField({translations:a,isGroupTutors:T}),p=t.observableArray([]),h=t.observable(""),m=t.observable(""),g=t.observable(!1),v=t.observable(""),b=t.observable(!1),y=t.pureComputed((function(){return f.hasEmailableRecipient()&&!b()&&p().length<3})),w=function(){return $.publish("".concat(o,"/hideEmailComposer"))},x=function(){return $.publish("".concat(o,"/deselectAllUsers"))},_=r.SubscriptionList([{event:"".concat(o,"/disposeApp"),action:function(){k.forEach((function(e){return e.dispose()})),_.unsubscribeAll()}},{event:"".concat(o,"/showEmailComposer"),action:function(e,t){f.allRecipients(t)}},{event:"".concat(o,"/groupChanged"),action:function(e,t){var n=t.activeGroup;d(n),f.emailInfoText(n&&-1===n.id?"":a.emailInfoText)}}]),k=[f.hasEmailableRecipient.subscribe((function(e){!1===e&&w()}))];return{emailToField:f,emailAttachments:p,emailMessage:h,emailSubject:m,emailCC:v,ccActive:g,activateCc:function(){g(!0)},canUpload:y,onAddAttachmentClick:function(){if(!1===y())return;new r.FileUpload({url:s.uploadFileUrl,beforeUpload:function(e){var t=$.Deferred();return n.pipe(n.map(n.prop("filesize")),n.sum)(p())+e.size<=l?c.indexOf(e.type)>-1?(t.resolve(e),b(!0)):(t.reject(),$.publish("alerts",[[{type:"error",title:r.format(a.attachmentWrongType,e.name)}]])):(t.reject(),$.publish("alerts",[[{type:"error",title:r.format(a.attachmentSizeSumTooLarge,l/1048576)}]])),t.promise()},complete:function(e,t){b(!1),p.push({id:e.resourceId,filename:e.originalFileName,filesize:t.size})}}).init()},onRemoveAttachmentClick:function(e){p.remove(e.context)},uploading:b,onSendEmailClick:function(){!b()&&u&&(e=s.sendEmail,t={to:f.emailableRecipients().map(n.prop("id")).join(","),bcc:v(),subject:m(),body:h(),attachments:p().map(n.prop("id")).join(","),isTutor:T()},r.postJSON(e,t)).then((function(e){!0===e.success&&(w(),S(),x())}));var e,t},cancelEmailComposer:function(){var e=$.Deferred();return I().then((function(){S(),w(),x(),e.resolve()}),(function(){return e.reject()})),e.promise()},hideEmailComposer:w};function S(){f.allRecipients([]),p([]),m(""),h(""),v(""),g(!1)}function T(){var e=d();return null!==e&&-1===e.id}function I(){var e=$.Deferred(),t={title:a.discardEmailTitle,contentsTemplate:"t_confirmDiscardMessage",contentsModel:{message:a.discardEmailMessage},buttons:[{text:a.yes,click:function(){e.resolve(),IMHome.core.hideDialog()},cssClasses:"btn-app"},{text:a.cancel,click:function(){e.reject(),IMHome.core.hideDialog()},cssClasses:"btn-app"}]};return r.showDialog(new r.Dialog(t)),e.promise()}}}(IMHome,ko,R),IMHome.classlist=IMHome.classlist||{},function(e,t){var n=e.core;e.classlist.createPersonalDetails=function(e,r,i){var o,a=n.constants.TILES.CLASS_LIST,s=e.urls,l=-1===i.id,c=i.isStaffGroup||!1,u=e.userConfig.canViewAddresses||!0,d=e.userConfig.canViewPhone||!0,f=e.userConfig.canViewRelationship||!0,p=e.userConfig.canSendEmail||!0,h=r.name,m=r.canReceiveEmail,g=t.observable(!1),v=t.observable(null),b=t.observable(null),y=function(e){return $.publish("".concat(a,"/showEmailComposer"),[e])};return c?(g(!1),v(_objectSpread(_objectSpread({},r),{},{groups:null,canViewAddresses:u,canViewPhone:d,canViewRelationship:f,canSendEmail:p,canReceiveEmail:m,mailTo:(o=r.email,"mailto:".concat(o))})),setTimeout((function(){return g(!0)}),0)):setTimeout((function(){var e=l?s.getStaff:s.getPupil,t={id:r.id,establishmentId:r.establishmentId};return g(!1),n.postJSON(e,t).then((function(e){var t=e.details,n=e.parents;v(t),b(n),g(!0)}))})),{personIsStaff:l,isStaffGroup:c,canViewAddresses:u,canViewPhone:d,canViewRelationship:f,canSendEmail:p,name:h,canReceiveEmail:m,personDetails:v,parents:b,loadingComplete:g,singleEmailClick:function(e){if(IMHome.init.impersonation)return;var t={isTutor:l,ids:e.id,pupilId:!1===l?r.id:null,isStaffGroup:c};n.postJSON(s.emailForm,t).then(y)}}}}(IMHome,ko),IMHome.classlist=IMHome.classlist||{},function(e,t){var n=e.core,r=e.classlist;r.createSidePanel=function(e){var i=n.constants.TILES.CLASS_LIST,o=e.urls,a=e.groupConfig.map((function(t){return r.createGroupListItem(e,t)})),s=t.observableArray([]),l=t.observable(null),c=t.pureComputed((function(){return s().length})),u=n.SubscriptionList([{event:"".concat(i,"/disposeApp"),action:function(){u.unsubscribeAll()}},{event:"".concat(i,"/selectedUserIds"),action:function(e,t){var n=t.ids;s(n)}},{event:"".concat(i,"/groupChanged"),action:function(e,t){return l(t.activeGroup)}}]);return{canSendBulkEmail:c,onBulkEmailBtnClick:function(){if(c()){var e=o.bulkEmailForm,t={isTutor:-1===l().id,ids:s().join(",")};n.postJSON(e,t).then((function(e){!function(e){$.publish("".concat(i,"/showEmailComposer"),[e])}(e)}))}},groupLists:a}}}(IMHome,ko),IMHome.classlist=IMHome.classlist||{},function(e,t){var n=e.core;e.classlist.createUserListItem=function(e,r,i){var o=n.constants.TILES.CLASS_LIST,a=r.id,s=r.name,l=e.userConfig.isPupil,c=-1===i.id,u=i.isStaffGroup,d=r.canReceiveEmail,f=r.establishmentId,p=!u&&d&&(!0===c||!1===l),h=t.observable(r.selected||!1),m=t.observable(!1),g=t.observable(!1),v=function(){return $.publish("".concat(o,"/userChanged"),{activeUser:r,activeGroup:i})},b=n.SubscriptionList([{event:"".concat(o,"/disposeApp"),action:function(){y.forEach((function(e){return e.dispose()})),b.unsubscribeAll()}},{event:"".concat(o,"/groupChanged"),action:function(e,t){var n=t.activeGroup;i!==n&&x(!1)}},{event:"".concat(o,"/userChanged"),action:function(e,t){var n=t.activeUser;r!==n&&x(!1)}},{event:"".concat(o,"/group:").concat(i.id,".selectAllUsers"),action:function(){d&&h(!0)}},{event:"".concat(o,"/group:").concat(i.id,".deselectAllUsers"),action:w},{event:"".concat(o,"/group:").concat(i.id,".deselectUser:").concat(a),action:w}]),y=[h.subscribe((function(e){!0===e?$.publish("".concat(o,"/group:").concat(i.id,".userSelected"),{user:r}):$.publish("".concat(o,"/group:").concat(i.id,".userDeselected"),{user:r})})),m.subscribe((function(e){var t=!e;!0===g()?g(!1):!0===t&&setTimeout(v())}),void 0,"beforeChange")];return{id:a,name:s,checkboxVisible:p,establishmentId:f,isActive:m,isSelected:h,activateUser:function(){m()?n.isCompactView()&&v():m(!0)}};function w(){h(!1)}function x(e){m()!==e&&(g(!0),m(e))}}}(IMHome,ko),IMHome.calendarv2=IMHome.calendarv2||{},function(e){var t=e.core,n=e.calendarv2,r=t.constants.TILES.CALENDAR_V2;n.App=function(e){IMHome.core.setTitleTag(r);var i=e.translations,o=e.urls,a=n.constants,s=a.TAB_IDS,l=a.ENTRY_TYPES,c=IMHome.home.homeData.notificationTypeMap,u=c.calendarv2UpcomingEvent,d=c.calendarV2EventCreated,f=e.hasCustomSchoolLogo?e.urls.getEstablishmentLogo:"/dist/images/infoMentor_logo_600x163.png",p=IMHome.init.selectedPupilName?IMHome.init.selectedPupilName:IMHome.init.firstName,h=e.calendarEntryTypes.reduce((function(e,t){return R.assoc(t.id,t,e)}),{}),m=ko.observable(!0),g=ko.observable(!1);ko.computed((function(){g(!1===m()&&P().tabId===M())}));var v,b=ko.observable(!1),y=ko.observableArray([]),w=ko.observable(!1),x=null,_=e.todayDate,k=ko.observable(null),S=ko.observable(null),T=ko.observable(null),I=ko.observable(),E=ko.observable(),C=ko.pureComputed((function(){return t.format(i.printDate,[I(),moment(k(),t.standardDateFormat).format("L"),moment(k(),t.standardDateFormat).add(6,"days").format("L")])})),O=ko.observableArray([]),M=ko.observable(),D=ko.observable(null),P=ko.observable(null),A=IMHome.core.debounce((function(){var e=M(),n=O().find((function(t){return t.id===e}));if(n){var r=function(e){var n,r,i=e.currentStartDate,o=e.currentEndDate,a=e.selectedDate,s=6,l=!1,c=moment(a,t.standardDateFormat),u=null===i&&null===o,d=c.isAfter(moment(o,t.standardDateFormat)),f=c.isBefore(moment(i,t.standardDateFormat));if(u||d){var p=m(c);n=p.startDate,r=p.endDate,l=!0}else if(f){var h=m(c.clone().startOf("week").add(-s,"weeks"));n=h.startDate,r=h.endDate,l=!0}else n=i,r=o;return{shouldGetData:l,newStartDate:n,newEndDate:r};function m(e){return{startDate:e.clone().startOf("week").format(t.standardDateFormat),endDate:e.clone().endOf("week").add(s,"weeks").format(t.standardDateFormat)}}}({currentStartDate:S(),currentEndDate:T(),selectedDate:k()}),i=r.shouldGetData,a=r.newStartDate,s=r.newEndDate;S(a),T(s),i?(m(!0),IMHome.core.postJSON(o.getEntries,{startDate:S(),endDate:T()}).then((function(e){y(e),L(n,y()),x=IMHome.core.setUnreadNotificationsOfTypeToRead([u,d]),m(!1)}))):L(n,y())}}),1),N=n.createDatePicker({getEntriesUrl:o.getEntries,isNotSurveyEventType:U,isEventOnDay:V,APP_NAME:r,pikadayDate:k});return{translations:i,tabs:O,selectedTabId:M,APP_NAME:r,selectedWeekText:E,eventsViewModel:P,tabPanelAttributes:D,selectedDate:k,tabEventsLoaded:g,tabPanelRendered:b,isDialogOpen:w,printDateString:C,printLogo:f,printName:p,eventsLoading:m,datePickerConfig:N,init:function(){k(function(e){var n=moment(e,t.standardDateFormat);return n.day()>0&&n.day()<6?n.clone().startOf("week").format(t.standardDateFormat):n.clone().add(1,"week").startOf("week").format(t.standardDateFormat)}(_)),F(k()),k.subscribe(H),M.subscribe(A),v=IMHome.core.SubscriptionList([{event:"route",action:z}])},destroy:function(){v.unsubscribeAll(),x&&x.dispose&&x.dispose()},prevWeekClick:j(-1),nextWeekClick:j(1),launchExportDialog:function(){var e,a=IMHome.core.getMobileOS()===IMHome.core.constants.OS.ANDROID;return t.postJSON(o.getIcalSubscriptionUri).then((function(n){return e=a?n.replace("webcal","https"):n,t.getDialogApi()})).then((function(o){var a=n.createExportDialog({translations:i,urls:{calendarSubscribe:e},isDialogOpen:w});o.setTitle(i.exportCalendar),o.setTemplateName("".concat(r,".exportDialog")),o.setTemplateUrl(t.getTemplatePath(r)),o.setData(a),o.setSize(t.constants.DIALOG_SIZES.SMALL),o.open("calendar-export-dialog"),w(!0)}))},launchPrintDialog:function(){if(M()===s.WHOLE_WEEK&&b())IMHome.core.isNativeApp()?$.publish("notificationMobileApp/downloadFile",t.buildUrl(window.location.href,{print:!0})):window.print();else{var e=b.subscribe((function(t){!0===t&&(window.print(),e.dispose())}));window.location.hash=window.location.hash.replace(/^#(\/.*?\/)([^/?]+)/gm,"$1"+s.WHOLE_WEEK),IMHome.core.isNativeApp()&&$.publish("notificationMobileApp/downloadFile",t.buildUrl(window.location.href,{print:!0}))}},afterTabPanelRender:function(){b(!0)}};function H(){F(k()),A()}function L(e,t){P(n.createEventsView({APP_NAME:r,translations:i,events:t,tab:e,selectedDate:k,calendarEntryTypeMap:h,isEventDialogOpen:w,getAttachmentsUrl:o.getAttachments}))}function j(e){return function(){var n=moment(k(),t.standardDateFormat).add(e,"weeks"),i=moment(n),o=moment(n),a=i.week();1===a&&o.add("days",7);var l=o.year();window.location.hash="/".concat(r,"/").concat(s.WHOLE_WEEK,"?selectedWeek=").concat(a,"&selectedYear=").concat(l)}}function F(e){var n=moment(e,t.standardDateFormat),r=n.isoWeek();I(r),E(i.week+" "+I()),O(function(e){var t="t_wholeWeekTab",n="t_dayTab";return R.pipe(R.addIndex(R.map)(r),R.prepend({id:s.WHOLE_WEEK,name:i.wholeWeek,tabTemplate:t,beforeChange:function(){g(!1),b(!1)}}))([{id:s.MONDAY,name:i.mondayAbbrv},{id:s.TUESDAY,name:i.tuesdayAbbrv},{id:s.WEDNESDAY,name:i.wednesdayAbbrv},{id:s.THURSDAY,name:i.thursdayAbbrv},{id:s.FRIDAY,name:i.fridayAbbrv},{id:s.SATURDAY,name:i.saturdayAbbrv},{id:s.SUNDAY,name:i.sundayAbbrv}]);function r(t,r){var i=e.clone().add(r,"days");return R.merge(t,{date:i,day:i.format("DD"),count:ko.pureComputed((function(){return o(i,y())})),tabTemplate:n,beforeChange:function(){g(!1),b(!1)}})}function o(e,t){var n=t.filter(U).filter(V(e)).length;return n>0?n:null}}(n.startOf("week")))}function U(e){return!(h[e.calendarEntryTypeId].className===l.SURVEY)}function V(e){return function(n){var r=moment(n.startDate,t.standardDateFormat),i=moment(n.endDate,t.standardDateFormat);return e.isBetween(r,i,void 0,[])}}function W(e){return t.getDialogApi().then((function(a){var s=n.createEventDialog(_objectSpread(_objectSpread({},e),{},{translations:i,onClose:r,urls:o}));a.setTemplateName("t_eventDialog"),a.setHeaderTemplateName("t_eventDialogHeader"),a.setData(s),a.setSize(t.constants.DIALOG_SIZES.NORMAL),a.open("calendar-event-dialog"),w(!0)}));function r(){if(!0===w()){w(!1);var e=R.pipe(t.getURLParameters,R.omit(["eventId"]))(window.location.hash);window.location.hash=R.pipe(R.split("?"),R.head,R.tail,R.curry(t.buildUrl)(R.__,e))(window.location.hash)}}}function B(e,t){return P().events.find(R.propEq("id",t))}function z(e,n){var r,i,o=null==n?void 0:n.params;if(o){if(o.selectedWeek&&o.selectedYear){var a=(r=o.selectedWeek,i=o.selectedYear,moment().set("year",i).isoWeek(r).startOf("week").format(t.standardDateFormat));k(a)}if(o.eventId){var s=encodeURIComponent(n.params.eventId);if(null!==P()&&P().events.some(R.propEq("id",s)))W(B(P().events,s));else var l=P.subscribe((function(e){if(s===t.getURLParameters(window.location.hash).eventId){var n=B(e.events,s);n&&(W(n),l.dispose())}else l.dispose()}))}if(!0===Boolean(o.print))if(b())window.print();else var c=b.subscribe((function(e){!0===e&&(window.print(),c.dispose())}))}}}}(IMHome),IMHome.calendarv2=IMHome.calendarv2||{},IMHome.calendarv2.constants={TAB_IDS:{WHOLE_WEEK:"whole_week",MONDAY:"monday",TUESDAY:"tuesday",WEDNESDAY:"wednesday",THURSDAY:"thursday",FRIDAY:"friday",SATURDAY:"saturday",SUNDAY:"sunday"},ENTRY_DISPLAY_TYPES:{NORMAL:"normal",MULTI_DAY:"multi_day"},ENTRY_TYPES:{EVENT:"EVENT",SURVEY:"cal-survey",TASK:"cal-tasks"}},IMHome.calendarv2=IMHome.calendarv2||{},function(e){var t=e.calendarv2,n=e.core;t.createDatePicker=function(e){var r=e.getEntriesUrl,i=e.isNotSurveyEventType,o=e.isEventOnDay,a=n.debounce((function(e){var t=f(e);if(c[t])return;var a=d(e.calendars[0].year,e.calendars[0].month-1),s=d(e.calendars[0].year,e.calendars[0].month+1),l=[].concat(_toConsumableArray(a.slice(-6)),_toConsumableArray(d(e.calendars[0].year,e.calendars[0].month)),_toConsumableArray(s.slice(0,6)));IMHome.core.postJSON(r,{startDate:l[0].format(n.standardDateFormat),endDate:l[l.length-1].format(n.standardDateFormat)}).then((function(t){var n=function(e,t){return e.filter((function(e){return t.filter(i).filter(o(e.startOf("day"))).length>0}))}(l,t);!function(e,t){t.forEach((function(t){var n;null===(n=e.el.querySelector('[data-pika-year="'.concat(t.year(),'"][data-pika-month="').concat(t.month(),'"][data-pika-day="').concat(t.date(),'"]')))||void 0===n||n.parentNode.classList.add("has-event")}));var n=f(e);c[n]=t.map((function(e){return e.clone().toDate().toDateString()}))}(e,n)}))}),300,{leading:!0,trailing:!0}),s=e.pikadayDate,l=e.APP_NAME,c={},u=t.constants.TAB_IDS;return{pikadayDate:s,pikadayOptions:{onSelect:function(){if(this.isVisible()){var e=moment(this.getMoment()),t=moment(this.getMoment()),n=e.week();1===n&&t.add("days",7);var r=t.year();window.location.hash="/".concat(l,"/").concat(u.WHOLE_WEEK,"?selectedWeek=").concat(n,"&selectedYear=").concat(r)}},onDraw:a,beforeDraw:function(){var e=f(this);c[e]&&(this._o.events=c[e])},showWeekNumber:!0,pickWholeWeek:!0,showDaysInNextAndPreviousMonths:!0}};function d(e,t){var n=moment(e+"-"+(t+1),"YYYY-MM");return Array.from({length:n.daysInMonth()},(function(e,t){return n.clone().startOf("month").add(t,"days")}))}function f(e){return e.calendars[0].year+""+e.calendars[0].month}}}(IMHome),IMHome.calendarv2=IMHome.calendarv2||{},function(e){var t=e.calendarv2,n=e.core;t.createEventDialog=function(e){var t=e.urls,r=e.id,i=ko.observable(!e.hasAttachments),o=e.o365EventId,a=!1===n.isNullOrEmpty(o),s=ko.observable(""),l=ko.observable(!a),c=e.hasAttachments,u=ko.observableArray([]),d=ko.pureComputed((function(){return i()&&l()}));return c&&IMHome.core.postJSON(t.getAttachments,{id:r}).then((function(e){u(e.map((function(e){return _objectSpread(_objectSpread({},e),{},{fileIcon:n.getSvgIconIdFromFileType(e.fileType)})}))),i(!0)})),a&&IMHome.core.postJSON(t.getO365EventDescription,{o365EventId:o}).then((function(e){s(e),l(!0)})),_objectSpread(_objectSpread({},e),{},{hasExtraDataLoaded:d,isO365:a,o365Description:s,attachments:u})}}(IMHome),IMHome.calendarv2=IMHome.calendarv2||{},function(e){var t=e.calendarv2,n=e.core;t.createEventsView=function(e){var r=e.APP_NAME,i=e.translations,o=e.tab,a=e.events,s=e.selectedDate,l=e.calendarEntryTypeMap,c=e.isEventDialogOpen,u=t.constants,d=u.ENTRY_DISPLAY_TYPES,f=u.ENTRY_TYPES,p=u.TAB_IDS,h=o.id===p.WHOLE_WEEK,m=h?function(e){var t=moment(s(),n.standardDateFormat).startOf("week"),r=moment(s(),n.standardDateFormat).endOf("week"),i=e.startDate.isBetween(t,r,void 0,[]),o=e.endDate.isBetween(t,r,void 0,[]),a=e.startDate.isBefore(t)&&e.endDate.isAfter(t);return i||o||a}:function(e){return o.date.isBetween(e.startDate,e.endDate,void 0,[])},g=a.map((function(e){var t=[].concat(_toConsumableArray(e.subjects.map(R.prop("title"))),_toConsumableArray(e.courses.map(R.prop("title")))).join(", "),r=moment(e.startDate,n.standardDateFormat),i=moment(e.endDate,n.standardDateFormat),o=R.defaultTo(null,e.startTime),a=R.defaultTo(null,e.endTime),s=0===r.diff(i,"days")?d.NORMAL:d.MULTI_DAY,l=null!==o&&null!==a,u=s===d.MULTI_DAY&&l?"".concat(e.formattedStartDate," ").concat(o," - ").concat(e.formattedEndDate," ").concat(a):s===d.MULTI_DAY?"".concat(e.formattedStartDate," - ").concat(e.formattedEndDate):s===d.NORMAL&&l?"".concat(e.formattedStartDate," ").concat(o," - ").concat(a):"".concat(e.formattedStartDate),f=null!==e.url,p=!1===n.isNullOrEmpty(e.o365EventId),h=!1===n.isNullOrEmpty(e.googleEventId),m=p?e.o365EventId:h?e.googleEventId:e.id,g=encodeURIComponent(m);return _objectSpread(_objectSpread({},e),{},{id:g,subjects:t,startDate:r,endDate:i,startTime:o,endTime:a,timeDateString:u,type:s,hasStartEndTime:l,onClick:w,isEventDialogOpen:c,hasUrl:f})})).filter(m).map((function(e){var t=l[e.calendarEntryTypeId].className;return _objectSpread(_objectSpread({},e),{},{entryType:t===f.SURVEY?f.SURVEY:t===f.TASK?f.TASK:f.EVENT,linkTranslation:t===f.SURVEY?i.clickToOpenSurvey:t===f.TASK?i.clickToOpenTask:null})})).map((function(e){var t=l[e.calendarEntryTypeId],r=t.name,i=t.colour,o=IMHome.core.ColourConverter().hexToRgb(i),a=o.r,s=o.g,c=o.b,u={chipParams:{text:r,type:n.constants.CHIP_TYPES.AUTO_TEXT_COLOUR,colorOverwrites:{borderColor:i}},wrapperStyles:{"--red":a,"--green":s,"--blue":c}};return R.assoc("chip",u,e)})).map((function(e){return _objectSpread(_objectSpread({},e),{},{sortValue:function(e){return e.endDate.diff(e.startDate,"days")>0?1:0}(e)})})).sort((function(e,t){return t.sortValue-e.sortValue})),v=0===g.length,b=v&&h?i.noResultsWeek:v&&!1===h?i.noResultsDay:"",y=h?g.reduce((function(e,t){var n=t.endDate.diff(t.startDate,"days")>0?d.MULTI_DAY:t.startDate.format("dddd").toUpperCase();return void 0!==e.find(R.propEq("id",n))?e.map((function(e){return e.id===n?R.merge(e,{events:e.events.concat(t)}):e})):e.concat({id:n,events:[t],header:t.startDate.format("dddd - DD MMMM")})}),[]):[];return{tabId:o.id,hasNoResults:v,noResultsText:b,events:g,sections:y};function w(e,t){if(e.hasUrl){var i=window.location.hash,a=e.url;window.location.hash=n.buildUrl(a,{returnHash:"/"+i})}else{var s=moment(t(),n.standardDateFormat),l=moment(t(),n.standardDateFormat),c=s.week();1===c&&l.add("days",7);var u=l.year();window.location.hash="/".concat(r,"/").concat(o.id,"?selectedWeek=").concat(c,"&selectedYear=").concat(u,"&eventId=").concat(e.id)}}}}(IMHome),IMHome.calendarv2=IMHome.calendarv2||{},IMHome.calendarv2.createExportDialog=function(e){var t=e.translations,n=e.urls,r=ko.observable(!1);return{translations:t,urls:n,urlInputHasFocus:r,copyUrl:function(){r(!0),document.execCommand("copy")}}},IMHome.communication=IMHome.communication||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.communication,r=t.constants.TILES.COMMUNICATION,i={NEWS:"news",DOCUMENTS:"documents",LINKS:"links",CONSENT:"consent"},o={DATE:"lastPublishDate",TITLE:"title",PUBLISHED_BY:"publishedBy"};n.App=function(e){var a=e.hasNewsAccess,s=e.translations,l=e.consentViewConfig;IMHome.core.setTitleTag(r);var c={name:s.news,id:i.NEWS,templateName:"communication.news",factory:n.createNews},u={name:s.consents,id:i.CONSENT,templateName:"communication.consent",factory:function(){var e,t={uiRoute:"IMH/communication/consent",elementId:"communication-consent-react-root",data:l},n=0,r=function(){clearInterval(e)},i=function(){r(),window.phoenixInitializer&&window.phoenixInitializer(t)};return e=setInterval((function(){var e=null!==document.getElementById(t.elementId),o="function"==typeof window.phoenixInitializer;e&&o?i():n++,n>20&&r()}),10),{destroy:function(){return window.phoenixDestroyer&&window.phoenixDestroyer(t.uiRoute)}}}},d=[].concat(_toConsumableArray(a?[c]:[]),[{name:s.documents,id:i.DOCUMENTS,templateName:"communication.documents",factory:n.createDocuments},{name:s.links,id:i.LINKS,templateName:"communication.links",factory:n.createLinks}],_toConsumableArray(l.hasConsentsAccess?[u]:[])),f=ko.observableArray(),p=ko.observable();p.subscribe((function(e){e===u.id&&setTimeout((function(){IMHome.core.triggerNotificationUpdate([IMHome.home.homeData.notificationTypeMap.consentRequestPublished])}),5e3)}));var h=t.createTabTemplateHandler({tabs:d,APP_NAME:r,factoryData:_objectSpread(_objectSpread({},e),{},{SORT_IDS:o}),selectedTabId:p});return _objectSpread({translations:s,tabIds:i,APP_NAME:r,ariaTabPanels:f},h)}}(IMHome),IMHome.communication=IMHome.communication||{},function(e){var t=e.communication,n=e.core;t.createDocuments=function(e){var r=e.translations,i=e.linkTypeFilters,o=e.SORT_IDS,a=e.urls,s=ko.observable(!1),l=ko.observable(!1),c=ko.observable(!0),u=ko.observable(!1),d=ko.observable(!1),f=ko.observable(!1),p={page:1,pageSize:12,allItemsCount:null,filteredItemsCount:null},h=n.constants.SORT_STATES,m=n.sortKeyUtils.createKey(o.DATE,h.DESC),g={items:ko.observableArray([{id:o.DATE,title:r.dateAdded,keepOpen:!0,initialState:h.DESC},{id:o.TITLE,title:r.title,keepOpen:!0,initialState:h.ASC}]),state:ko.observable(m)};g.state.subscribe(I);var v,b={items:(v=i||{},R.keys(v).map((function(e){return{id:e,text:v[e]}}))),selectedTagIds:ko.observableArray(),buttonText:r.filter,icon:ko.observable("filter"),isOpen:ko.observable(!1),togglePanel:function(){return b.isOpen(!b.isOpen())}};b.isOpen.subscribe((function(e){return b.icon(e?"cross":"filter")})),b.selectedTagIds.subscribe(I);var y={bodyRows:ko.observableArray([])},w=ko.observable(!1),x={triggerObservable:w,scrollElement:document.getElementById("appContainerInner")};w.subscribe((function(e){e&&y.bodyRows().length>=p.pageSize&&S()}));var _=function(e){return function(){s(!0),window.location.assign(e.fileUrl)}};return S(),{isBeforeFirstLoad:c,noResults:u,noFilteredResults:d,dataLoading:l,elementIsInViewOptions:x,translations:r,isDocumentItemDialogOpen:f,sortModel:g,filterModel:b,contentModel:y,onDocumentClick:function(e){if(!0===s())return void s(!1);return n.getDialogApi().then((function(i){i.setTitle(e.title),i.setTemplateName("t_documentItemDialog"),i.setData(_objectSpread(_objectSpread({},e),{},{translations:r,onClose:t})),i.setSize(n.constants.DIALOG_SIZES.SMALL),i.open("communication-document-dialog"),i.setIcon(e.fileIcon),f(!0)}));function t(){s(!1),f(!1)}},mapDocument:k,preventDialogOpen:s,updateData:T};function k(e){return _objectSpread(_objectSpread({},e),{},{fileIcon:n.getSvgIconIdFromFileType(e.fileType),fileSize:n.formatFileSizeFromBytes(e.fileSize),downloadDocument:_})}function S(){var e=b.selectedTagIds(),r=p.page,i=[IMHome.home.homeData.notificationTypeMap.documentPublished],o=n.postJSON(a.getDocumentsList,{typeIds:e.join(","),sortBy:g.state(),page:r,pageSize:p.pageSize});t.onDataLoadPageStateHandler({pendingDataPromise:o,updateData:T,pagingParams:p,dataWasFiltered:e.length>0,triggerNotificationUpdateValues:i,dataLoading:l,noResults:u,noFilteredResults:d,isBeforeFirstLoad:c})}function T(e){var t=e.map(k),n=y.bodyRows().concat(t);y.bodyRows(n),e.length>0&&w(null)}function I(){p.page=1,y.bodyRows([]),S()}}}(IMHome),IMHome.communication=IMHome.communication||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.communication,r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;n.createLinks=function(e){var o,a=e.urls,s=e.translations,l=e.linkTypeFilters,c=e.SORT_IDS,u=i.observable(!0),d=i.observable(!0),f=i.observable(!1),p=i.observable(!1),h={page:1,pageSize:5,allItemsCount:null,filteredItemsCount:null},m={headerRow:{name:s.name,description:s.description,types:s.types,url:s.url},headerRowTemplate:"communicationLinksTableHeaders",bodyRowTemplate:"communicationLinksTableRow",bodyRows:i.observableArray(),hasExpandingRows:!0},g={items:(o=l||{},r.keys(o).map((function(e){return{id:e,text:o[e]}}))),selectedTagIds:i.observableArray(),buttonText:s.filter,icon:i.observable("filter"),isOpen:i.observable(!1),togglePanel:function(){return g.isOpen(!g.isOpen())}};g.isOpen.subscribe((function(e){return g.icon(e?"cross":"filter")})),g.selectedTagIds.subscribe(S);var v=t.constants.SORT_STATES,b=t.sortKeyUtils.createKey(c.TITLE,v.ASC),y={items:i.observableArray([{id:c.DATE,title:s.dateAdded,keepOpen:!0,initialState:v.DESC},{id:c.TITLE,title:s.title,keepOpen:!0,initialState:v.ASC}]),state:i.observable(b),icon:"sort",buttonText:s.sort};y.state.subscribe(S);var w=i.observable(!1),x={triggerObservable:w,scrollElement:document.getElementById("appContainerInner")};return w.subscribe((function(e){return e?(t=m.bodyRows().length,void((null===h.allItemsCount||t<h.allItemsCount&&null===h.filteredItemsCount||null!==h.filteredItemsCount&&t<h.filteredItemsCount)&&_())):null;var t})),{translations:s,contentModel:m,filterModel:g,sortModel:y,elementIsInViewOptions:x,dataLoading:d,noResults:f,noFilteredResults:p,isBeforeFirstLoad:u};function _(){var e=g.selectedTagIds(),r=h.page,i=[IMHome.home.homeData.notificationTypeMap.linkPublished],o=t.postJSON(a.getLinksList,{typeIds:e.join(","),sortBy:y.state(),page:r,pageSize:h.pageSize});n.onDataLoadPageStateHandler({pendingDataPromise:o,updateData:k,pagingParams:h,dataWasFiltered:e.length>0,triggerNotificationUpdateValues:i,dataLoading:d,noResults:f,noFilteredResults:p,isBeforeFirstLoad:u})}function k(e){e.map(T).forEach((function(e){return m.bodyRows.push(e)})),w(null)}function S(){h.page=1,m.bodyRows([]),_()}function T(e){var t=i.observable(!1),n=i.observable(!1),r=i.observable(!1),o=i.pureComputed((function(){return t()||n()||r()}));return _objectSpread(_objectSpread({},e),{},{canExpand:o,detectNameOverflow:t,detectDescOverflow:n,detectUrlOverflow:r})}}}(IMHome,R,ko),IMHome.communication=IMHome.communication||{},function(e,t,n){var r=e.core,i=e.communication;i.createNews=function(e){var o=e.translations,a=e.urls,s=e.SORT_IDS,l=n.observableArray([]),c=r.createPagedObservableArray([],12,0),u=n.observable(!0),d=n.observable(!1),f=IMHome.home.homeData.notificationTypeMap,p=null;s=t.merge(s,{SERVER_ORDER:"serverOrder"});var h=r.sortKeyUtils,m=r.constants.SORT_STATES,g=n.observableArray([{id:s.SERVER_ORDER,title:o.dateAdded,initialState:m.DESC},{id:s.TITLE,title:o.title,initialState:m.ASC},{id:s.PUBLISHED_BY,title:o.author,initialState:m.ASC}]),v=h.createKey(s.SERVER_ORDER,m.DESC),b=n.observable(v),y=i.newsSortStateSubscriptionHandler(h,m,c);b.subscribe(y);var w=n.observable(!1),x=n.observable(),_=n.observable(),k=i.newsSearchQuerySubscriptionHandler(l,b,c);x.subscribe(k);var S=n.observable(!1),T={triggerObservable:S,scrollElement:document.getElementById("appContainerInner")};S.subscribe((function(e){e&&c.appendNextPage()})),E().then(C);var I=new IMHome.core.SubscriptionList([{event:"global/click",action:function(e,n){r=n.target,i=[".open-search-button",".news-search"],o=i.map((function(e){return document.querySelector(e)})),a=function(e){return function(t){return null!==t&&(t===e||!!t.contains(e))}},t.any(a(r),o)||O();var r,i,o,a}},{event:"route",action:function(e,t){t.params&&t.params.id&&E().then(C)}}]);return{pagedNews:c,searchQuery:x,sortItems:g,searchIsVisible:w,elementIsInViewOptions:T,sortState:b,translations:o,dataLoading:u,searchIsFocused:_,isNewsItemDialogOpen:d,toggleSearchVisible:function(){!0==!w()?(w(!0),_(!0)):O()},onNewsClick:function(e){return r.getDialogApi().then((function(n){n.setTitle(e.title),n.setTemplateName("t_newsItemDialog"),n.setData(_objectSpread(_objectSpread({},e),{},{translations:o,onClose:t})),n.setSize(r.constants.DIALOG_SIZES.NORMAL),n.open("communication-news-dialog"),d(!0)}));function t(){d(!1)}},destroy:function(){p&&p.dispose&&p.dispose();I.unsubscribeAll()}};function E(){return r.postJSON(a.getNewsList,{pageSize:-1,sortBy:h.createKey(s.DATE,m.DESC)})}function C(e){var n=e.items.map((function(n,i){return t.merge(n,{serverOrder:e.items.length-i,hasNewsImage:n.newsImageUrl.length>0,hasAttachments:n.attachments.length>0,attachments:n.attachments.map((function(e){return _objectSpread(_objectSpread({},e),{},{fileIcon:r.getSvgIconIdFromFileType(e.fileType)})})),altText:o.newsItemImage})}));l(n),c.updateAllItems(n),e.items.length>0&&(p=r.setUnreadNotificationsOfTypeToRead([f.newsItem])),u(!1)}function O(){r.isNullOrEmpty(x())&&!0===w()&&(w(!1),_(!1))}}}(IMHome,R,ko),IMHome.communication=IMHome.communication||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.communication,n=arguments.length>1?arguments[1]:void 0;t.newsSearchQuerySubscriptionHandler=function(e,t,r){return function(i){if(0===i.length)return r.updateAllItems(e()),void t.valueHasMutated();var o=i.toLowerCase(),a=e().filter((function(e){return n.pipe(n.prop("title"),n.toLower,n.contains(o))(e)}));r.updateAllItems(a),t.valueHasMutated()}}}(IMHome,R),IMHome.communication=IMHome.communication||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.communication,n=arguments.length>1?arguments[1]:void 0;t.newsSortStateSubscriptionHandler=function(e,t,r){return function(i){var o,a,s=e.getId(i),l=e.getDirection(i);n.pipe(r.allItemsReadOnly,(o=s,a=l,function(e){var r=a===t.ASC?n.ascend:n.descend;return n.sortWith([r(n.prop(o))],e)}),r.updateAllItems)()}}}(IMHome,R),IMHome.communication=IMHome.communication||{},function(e){var t=IMHome.communication,n=IMHome.core.acceptLatest();t.onDataLoadPageStateHandler=function(e){var t=e.pendingDataPromise,r=e.updateData,i=e.pagingParams,o=e.dataWasFiltered,a=void 0!==o&&o,s=e.dataLoading,l=e.noResults,c=e.noFilteredResults,u=e.isBeforeFirstLoad,d=e.triggerNotificationUpdateValues;i.page++,s(!0),n(t).then((function(e){var t=e.items,n=e.totalItemCount;s(!1),u(!1),IMHome.core.triggerNotificationUpdate(d),a?(i.filteredItemsCount=n,0===n?(l(!1),c(!0)):(l(!1),c(!1))):(i.allItemsCount=n,i.filteredItemsCount=null,0===n?(l(!0),c(!1)):(l(!1),c(!1))),r(t)}))}}(0,R),IMHome.documentation=IMHome.documentation||{},function(e){var t=e.core,n=e.documentation,r=t.constants.TILES.DOCUMENTATION,i="journal",o="portfolio",a="iup",s="specialPlan",l="conference",c="extraAdaptations";n.App=function(e){var u;IMHome.core.setTitleTag(r);var d,f=e.translations,p=e.thirdSecurityInitData,h=null!==p&&null!==p.thirdSecurityType&&"None"!==p.thirdSecurityType,m=ko.observable(h),g=(_defineProperty(u={},i,{id:i,name:f.journal,templateName:"documentation.journal",factory:n.createJournal}),_defineProperty(u,o,{id:o,name:f.portfolio,templateName:"documentation.portfolio",factory:n.createPortfolioWrapper}),_defineProperty(u,a,{id:a,name:f.iup,templateName:"documentation.iup",factory:n.createIUP}),_defineProperty(u,s,{id:s,name:f.specialPlan,templateName:"documentation.specialPlan",factory:n.createSpecialPlan}),_defineProperty(u,l,{id:l,name:f.conference,templateName:"documentation.conference",factory:n.createConference}),_defineProperty(u,c,{id:c,name:f.extraAdaptations,templateName:"documentation.extraAdaptations",factory:n.createExtraAdaptations}),u),v=ko.observable(),b=ko.observableArray(),y=e.tabs.map((function(e){return g[e]})),w=t.createTabTemplateHandler({tabs:y,APP_NAME:r,factoryData:e,selectedTabId:v});return _objectSpread(_objectSpread({translations:f,showThirdSecurity:m},w),{},{APP_NAME:r,ariaTabPanels:b,init:function(){!0===m()?new t.ThirdSecurity({thirdSecurityInitData:p}):w.init();d=m.subscribe((function(e){!1===e&&w.init()}))},onPageDestroy:function(){d.dispose(),w.onPageDestroy()}})}}(IMHome),IMHome.documentation=IMHome.documentation||{},function(e,t){var n=e.documentation;e.core;n.createConference=function(e){var t,n,r,i,o,a=e.translations,s=e.urls;return n={uiRoute:"IMH/documentation/studentConference",elementId:"documentation-student-conference-react-root",data:{translations:a,urls:s,isGuardian:e.isGuardian,loggedInUserIM2Id:e.loggedInUserIM2Id}},r=0,i=function(){clearInterval(t)},o=function(){i(),window.phoenixInitializer&&window.phoenixInitializer(n)},t=setInterval((function(){var e=null!==document.getElementById(n.elementId),t="function"==typeof window.phoenixInitializer;e&&t?o():r++,r>20&&i()}),10),{destroy:function(){return window.phoenixDestroyer&&window.phoenixDestroyer(n.uiRoute)}}}}(IMHome,ko),IMHome.documentation=IMHome.documentation||{},function(e,t){var n=e.documentation;e.core;n.createExtraAdaptations=function(e){var t,n,r,i,o,a=e.translations,s=e.urls;return n={uiRoute:"IMH/documentation/extraAdaptations",elementId:"documentation-extra-adaptations-react-root",data:{translations:a,urls:s,isGuardian:e.isGuardian,loggedInUserIM2Id:e.loggedInUserIM2Id}},r=0,i=function(){clearInterval(t)},o=function(){i(),window.phoenixInitializer&&window.phoenixInitializer(n)},t=setInterval((function(){var e=null!==document.getElementById(n.elementId),t="function"==typeof window.phoenixInitializer;e&&t?o():r++,r>20&&i()}),10),{destroy:function(){return window.phoenixDestroyer&&window.phoenixDestroyer(n.uiRoute)}}}}(IMHome,ko),IMHome.documentation=IMHome.documentation||{},function(e,t){var n=e.documentation,r=e.core;n.createIUP=function(e){var n,i,o=e.urls,a=e.translations,s=t.observable(!0),l=IMHome.home.homeData.notificationTypeMap,c=t.observableArray([]),u=t.observable(null),d=u.subscribe((function(e){f(c()[e].versions);var t=R.find(R.propEq("selected",!0),f());p(t.key)})),f=t.observableArray([]),p=t.observable(null),h=t.pureComputed((function(){return f().length>1})),m=p.subscribe((function(e){var t=R.find(R.propEq("id",e),f()),a=t.id;k(),g(t.isComplete),v([]),(i=r.postJSON(o.getPupilIUPData,{iupId:a})).then((function(e){v(e.questions.map(_)),null!==(n=r.setUnreadNotificationsOfTypeToRead([l.iupEntry]))&&b.push(n)}))})),g=t.observable(),v=t.observableArray([]),b=[d,m],y=r.postJSON(o.getPupilIUPFilter);return y.then((function(e){var t=e.terms.map(w).map((function(e,t,n){return _objectSpread(_objectSpread({},e),{},{selected:t===n.length-1})}));c(t),s(!1)})),{dataLoading:s,translations:a,destroy:function(){k(),b.forEach((function(e){return e.dispose()}))},terms:c,selectedTermKey:u,versions:f,selectedVersionKey:p,showVersionSelector:h,isComplete:g,sections:v};function w(e,t){return{value:e.name,versions:e.versions.map(x),key:t}}function x(e,t){return _objectSpread(_objectSpread({},e),{},{value:0===t?a.current:e.displayVersion,key:e.id,selected:0===t})}function _(e){var n=t.observable(!1);return _objectSpread(_objectSpread({},e),{},{showMore:n,toggleShowMore:function(){n(!0)}})}function k(){y&&y.state&&"pending"===y.state()&&y.abort(),i&&i.state&&"pending"===i.state()&&i.abort()}}}(IMHome,ko),IMHome.documentation=IMHome.documentation||{},function(e,t){var n=e.documentation,r=e.core;n.createJournal=function(e){var n=e.translations,i=e.urls,o=t.observableArray([]),a=r.createPagedObservableArray([],12,0),s=t.observable(!0),l=IMHome.home.homeData.notificationTypeMap,c=t.observable(!1),u=null,d=t.observable(!1),f={triggerObservable:d,scrollElement:document.getElementById("appContainerInner")};return d.subscribe((function(e){e&&a.appendNextPage()})),r.postJSON(i.getJournalList,{pageSize:-1}).then((function(e){var t=e.entries.map((function(e){return _objectSpread(_objectSpread({},e),{},{onEntryClick:p})}));o(t),a.updateAllItems(t),t.length>0&&(u=r.setUnreadNotificationsOfTypeToRead([l.journalEntry])),s(!1)})),{translations:n,pagedItems:a,dataLoading:s,isJournalItemDialogOpen:c,elementIsInViewOptions:f,destroy:function(){u&&u.dispose&&u.dispose()}};function p(e){return r.getDialogApi().then((function(i){i.setTitle(n.journalEntry),i.setTemplateName("t_journalEntryDialog"),i.setData(_objectSpread(_objectSpread({},e),{},{translations:n,onClose:t})),i.setSize(r.constants.DIALOG_SIZES.NORMAL),i.open("documentation-news-dialog"),c(!0)}));function t(){c(!1)}}}}(IMHome,ko),IMHome.documentation=IMHome.documentation||{},function(e,t){var n=e.core;e.documentation.createPortfolioWrapper=function(r){var i=r.urls,o=t.observable(!0),a=t.observable(null),s=r.urlParams,l=n.buildUrl(i.portfolioAppData,s),c=n.postJSON(l);return c.then((function(t){var n=new e.portfolio.App(t);n.init(),a(n),o(!1)})),{dataLoading:o,viewModel:a,destroy:function(){"pending"===c.state()?c.abort():a().destroy()}}}}(IMHome,ko),IMHome.documentation=IMHome.documentation||{},function(e,t){var n=e.documentation,r=e.core;n.createSpecialPlan=function(e){var n,i=e.urls,o=e.translations,a=t.observable(!0),s=IMHome.home.homeData.notificationTypeMap,l=null,c=t.observableArray([]),u=t.observable(null),d=t.observable(null),f=u.subscribe((function(e){var t=R.find(R.propEq("id",e),c()),o=t.id;w(),p(t.isComplete),h([]),d(t),(n=r.postJSON(i.getSpecialPlanVersion,{Id:o})).then((function(e){h(e.questions.map(y)),m(e.attachments),null!==(l=r.setUnreadNotificationsOfTypeToRead([s.specialPlanEntry]))&&g.push(l)}))})),p=t.observable(),h=t.observableArray([]),m=t.observableArray([]),g=[f],v=r.postJSON(i.getSpecialPlan);return v.then((function(e){var t=e.versions.map(b);c(t),null===u()&&t.length>0&&u(t[0].id),d(R.find(R.propEq("id",u()),c())),a(!1)})),{dataLoading:a,translations:o,destroy:function(){w(),g.forEach((function(e){return e.dispose()}))},versions:c,selectedVersionKey:u,selectedVersion:d,sections:h,attachments:m};function b(e,t){return _objectSpread(_objectSpread({},e),{},{value:0===t?o.current:e.displayVersion,key:e.id,selected:0===t})}function y(e){var n=t.observable(!1);return _objectSpread(_objectSpread({},e),{},{showMore:n,toggleShowMore:function(){n(!0)}})}function w(){v&&v.state&&"pending"===v.state()&&v.abort(),n&&n.state&&"pending"===n.state()&&n.abort()}}}(IMHome,ko),IMHome.grouptimeline=IMHome.grouptimeline||{},IMHome.grouptimeline.App=function(e){var t=this,n=e.translations,r=IMHome.core.constants.TILES.GROUP_TIMELINE;IMHome.core.setTitleTag(r);var i=e.urls;function o(e){return{page:1,pageSize:20,groupId:e,returnTimelineConfig:!0}}function a(e,n){if(IMHome.init.impersonation)return!1;n.noResults||(IMHome.core.triggerNotificationUpdate([IMHome.home.homeData.notificationTypeMap.timelineNewGroup,IMHome.home.homeData.notificationTypeMap.timelineNewUol]),IMHome.core.postJSON(i.setGroupTimelineToSeen,{id:n.connection.id}),t.list.items().forEach((function(e){e.id===n.connection.id&&e.hasNew(!1)})))}function s(e){return function(){var t=e();window.location.hash="/"+r+"/show/"+t}}$.extend(t,IMHome.core.defaultAppMethods),t.appName=r,t.templatePath=IMHome.core.getTemplatePath(r),t.translations=n,t.compactViewActive=ko.observable(!1),t.noResults=ko.observable(!1),t.showingGroupNavigation=ko.observable(e.listItems.length>1),t.init=function(){IMHome.core.setTitleTag(r),t.list=new IMHome.core.ItemList({ItemConstructor:IMHome.grouptimeline.createListItem,itemData:e.listItems,listItemToContentMatch:function(e,t){return e.id===t.connection.id}}),t.controller=new IMHome.core.ContentController({ItemConstructor:IMHome.grouptimeline.createGroupTimeline,templatePath:t.templatePath,getItemUrl:i.itemUrl,getItemParams:o,appName:r}),t.pager=new IMHome.core.ContentPager({translations:{pageCount:n.pageCount,returnToList:n.returnToList,prevItem:n.prevItem,nextItem:n.nextItem},currentPage:ko.computed(t.getCurrentPageNumber,t),totalPages:ko.computed(t.getTotalPageCount,t),previousButtonIsDisabled:ko.computed(t.prevPageAvailable,t),nextButtonIsDisabled:ko.computed(t.nextPageAvailable,t)}),!1===t.showingGroupNavigation()&&t.showFirstItemInList();var l=[{event:"route",action:$.proxy(t.onRouteChange,t)},{event:"pager/nextClick",action:s(t.list.getNextItemId)},{event:"pager/prevClick",action:s(t.list.getPrevItemId)},{event:"pager/backClick",action:$.proxy(t.onBackClick,t)},{event:"item/newItem",action:a}];t.appSubscriptionList=new IMHome.core.SubscriptionList(l),t.ready()}},IMHome.grouptimeline=IMHome.grouptimeline||{},IMHome.grouptimeline.createGroupTimeline=function(e){var t=e.connection,n=t.id,r=t.title,i=new IMHome.component.timeline.Timeline(R.merge(e,{canShowFooter:-1!==n,showTags:-1===n,pageSize:20,getEntriesParams:R.merge(R.__,{groupId:n}),isGroupTimeline:!0}));return i.init(),{id:n,title:r,timeline:i}},IMHome.grouptimeline=IMHome.grouptimeline||{},IMHome.grouptimeline.createListItem=function(e){return{id:e.id,title:e.title,hasNew:ko.observable(e.hasNew),active:ko.observable(!1)}},IMHome.home=IMHome.home||{},IMHome.home.Alert=function(e){var t=this,n=!0===e.isPersistent;switch(t.type=e.type,t.title=e.title,t.message=e.message,t.iconClass=null,t.whiteIcon=null,t.isPersistent=ko.computed((function(){return n||null!==t.message&&void 0!==t.message&&""!==t.message})),t.remove=function(){e.remove(t)},t.type){case"confirmation":t.iconClass="icon-ok",t.whiteIcon=!0;break;case"warning":t.iconClass="icon-exclamation-sign",t.whiteIcon=!1;break;case"error":t.iconClass="icon-ban-circle",t.whiteIcon=!0}},IMHome.home=IMHome.home||{},IMHome.home.HomeViewModel=function(e){var t=this,n=IMHome.core,r=e.urls,i=e.apps,o=e.account,a=i.length>12?5:4,s=matchMedia("(max-width: ".concat(IMHome.core.screenWidths.BREAKPOINT_1,"px)")),l=ko.observable(s.matches),c=i.length%2==1,u=R.pipe(R.sort((function(e,t){return e.mobileOrdering-t.mobileOrdering})),R.head)(i),d=IMHome.core.GoogleAnalytics,f={CompleteAppSetup:"gearbox",GetApp:"phone-ringing"},p=R.pipe(parseInt,R.defaultTo(null)),h=function(e){return IMHome.core.isNullOrEmpty(e)?null:e},m=R.defaultTo(null,e.overlay),g=null!==m,v=void 0!==r.skolaTokenUrl,b=ko.observable(r.skolaTokenUrl);function y(){t.lastRequestTime(new Date)}t.impersonation=ko.observable(IMHome.init.impersonation),t.firstName=h(IMHome.init.firstName),t.lastName=h(IMHome.init.lastName),t.selectedPupilName=h(IMHome.init.selectedPupilName),t.userRole=h(IMHome.init.userRole),t.notificationCount=ko.observable(e.hasNotificationApp?0:null),t.messageCount=ko.observable(IMHome.init.messageCount),t.office365MessageCount=ko.observable(IMHome.init.office365MessageCount),t.isGoogle=ko.observable(IMHome.init.isGoogle),t.hasUnseenExternalMessages=ko.observable(IMHome.init.hasUnseenExternalMessages),t.tiles=ko.observableArray([]),t.columns=a,t.globalApps=ko.observableArray([]),t.alerts=ko.observableArray([]),t.loading=ko.observable(!0),t.appOpen=ko.observable(!1),t.activeApp=ko.observable(null),t.isClosing=ko.observable(!1),t.appExpanded=ko.observable(navigator.userAgent.indexOf("Firefox")>-1),t.translations=e.translations,t.lastRequestTime=ko.observable(new Date),t.sessionEndTime=ko.computed((function(){return new Date(t.lastRequestTime().getTime()+6e4*IMHome.localisation.sessionLength)})),t.nowTime=ko.observable(new Date),t.sessionEnded=ko.computed((function(){return t.nowTime()>t.sessionEndTime()})),t.showSessionWarning=ko.computed((function(){return!1===t.sessionEnded()&&new Date(t.nowTime().getTime()+3e5)>t.sessionEndTime()})),t.stopInterval=function(){IMHome.home.authenticate()},t.logout=function(){window.location=IMHome.localisation.timeoutUrl},t.countdown=ko.computed((function(){var e=new Date(t.sessionEndTime().getTime()-t.nowTime().getTime()),n="";return e.getMinutes()>4?n+="0:00":(n+=e.getMinutes(),n+=":",n+=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds()),n})),t.notificationsSidebarMenu=IMHome.core.createNotificationsSidebarMenu({triggerClickSelector:".notifications-navbar-menu-item"}),t.userSidebarMenu=IMHome.core.createUserSidebarMenu({triggerClickSelector:".user-navbar-menu-item"}),t.sidebarMenus=[t.notificationsSidebarMenu,t.userSidebarMenu],t.closeSidebarMenus=function(){return t.sidebarMenus.forEach((function(e){return e.isOpen(!1)}))},t.anySidebarMenuOpen=ko.pureComputed((function(){return t.sidebarMenus.some((function(e){return e.isOpen()}))})),t.hasOverlay=ko.observable(g),t.overlay=g?function(e){return R.assoc("icon",f[e.type],e)}(m):m,t.displayHeader=ko.observable(!0),t.displaySessionWarningMessages=ko.observable(!0),t.header=R.pipe(R.pickAll(["impersonation","firstName","lastName","selectedPupilName","userRole","notificationCount","messageCount","office365MessageCount","hasUnseenExternalMessages","userSidebarMenu","notificationsSidebarMenu","translations"]),IMHome.home.createHeader)(t),t.tiles(ko.utils.arrayMap(i,(function(e){return e.compactView=l,e.expandWhenCompact=c&&e===u,IMHome.home.Tile(e)}))),t.sortedTiles=ko.computed((function(){return t.tiles.slice().sort((function(e,t){return e.order()-t.order()}))})),t.rows=ko.computed((function(){var e=0;return t.tiles().forEach((function(t){e+=t.expanded()?2:1})),Math.ceil(e/t.columns)})),t.tilesSelectable=ko.computed((function(){return null===t.activeApp()&&!t.anySidebarMenuOpen()})),t.disable3d=ko.computed((function(){return t.appOpen()})),t.tileTabIndex=function(){return t.appOpen()?-1:0},t.getTileByCodeName=function(e){return ko.utils.arrayFirst(t.tiles(),(function(t){return t.codeName===e}))},t.tileClick=function(e){if(!t.appOpen())if(t.header.brandButton.focus(!0),d.uiEvent(d.eventActions.OPEN_TILE,{tile:e.codeName}),e.codeName===IMHome.core.constants.TILES.FAMILY_WEB)IMHome.core.showDialog(new IMHome.core.Dialog({wrapperCssClass:"loading-active",contentsTemplate:"t_loader",contentsModel:{loading:!0}})),$.ajax({url:IMHome.core.buildUrl("Authentication/Redirection/GetSsoUrlForIM1",[{name:"_",value:(new Date).getTime()}]),contentType:"application/json; charset=utf-8",async:!1,success:function(e){e.url&&(window.location.href=e.url)}});else if(e.codeName===IMHome.core.constants.TILES.SKOLA24_SSO)window.open(b());else if(!1===/\/\S/.test(location.hash)){var n=e.defaultSubPage,r=null!==n?"/".concat(n):"";location.hash="/"+e.codeName+r}return!0},t.tileKeypress=function(e,n){return 13===(n.keyCode?n.keyCode:n.which)&&t.tileClick(e,n),!0},t.openApp=function(e){var i,o=e.codeName,a=e.params,s=$(".main-content"),l=$('<div id="appContainer" class="app app-container"></div>'),c=$('<div id="appContainerInner" class="app-inner"></div>').prependTo(s),u=$.Deferred();switch(t.appOpen()&&t.closeApp(t.activeApp()),t.appOpen(!0),t.closeSidebarMenus(),$("body").addClass("_"+o),l.css({transition:"all 200ms linear",opacity:"0",transform:"scale(0.8,0.8)"}).prependTo(s).focus().addClass(o).on(IMHome.core.event.transitionEnd,(function(e){e.target===l[0]&&"resolved"!==u.state()&&(c.appendTo(l),window.requestAnimationFrame((function(){u.resolve()})))})),window.requestAnimationFrame((function(){l.css({opacity:"1",transform:"scale(1,1)"})})),o){case IMHome.core.constants.TILES.PREFERENCES:i=r.preferences;break;default:i=IMHome.core.buildUrl("".concat(n.baseUrl).concat(o,"/").concat(o,"/appData"),a)}return $.when(t.loadAppBundle(o)).then((function(){return n.loadView({element:c,viewUrl:n.getTemplatePath(o)+"/"+o+".main.html",viewModel:IMHome[o].App,data:i}).then((function(e){e.codeName=o,t.activeApp(e),!0===t.isClosing()&&$.publish("app/closeAfterLoad")})).then((function(){$.when(u).done((function(){c.addClass("fade-in"),$.publish("app/rendered",o)}))}))}))},t.closeApp=function(e){e.codeName===IMHome.core.constants.TILES.SURVEY&&$("body").find(".header-bar").removeClass("survey-intro"),t.appOpen(!1),t.activeApp(null),IMHome.core.setTitleTag(""),$("body").removeClass("_"+e.codeName),t.removeAppHtml(e.codeName),$.isFunction(e.destroy)&&e.destroy(),n.releaseFocus(),v&&n.postJSON(r.createSkolaTokenUrl).then((function(e){b(e)})),$.publish("app/closed",e.codeName)},t.removeAppHtml=function(){var e=$("#appContainer");e.length>0&&(ko.cleanNode(e[0]),e.remove())},t.loadAppBundle=function(e){return IMHome[e]?IMHome[e]:IMHome.core.loadScript(IMHome.core.baseUrl+IMHome.init.environmentPath+"/scripts/"+e+".js")},t.confirmations=ko.pureComputed((function(){return ko.utils.arrayFilter(t.alerts(),(function(e){return"confirmation"===e.type}))})),t.warnings=ko.pureComputed((function(){return ko.utils.arrayFilter(t.alerts(),(function(e){return"warning"===e.type}))})),t.errors=ko.pureComputed((function(){return ko.utils.arrayFilter(t.alerts(),(function(e){return"error"===e.type}))})),t.shouldShowAlerts=ko.pureComputed((function(){return t.alerts().length>0})),t.displayAlerts=function(e){e.forEach(t.displayAlert)},t.displayAlert=function(e){var n=R.pipe(R.evolve({type:R.toLower}),R.merge({remove:function(n){t.removeAlert(n),IMHome.core.isFunction(e.onRemove)&&e.onRemove(t)}}),(function(e){return new IMHome.home.Alert(e)}))(e);return t.alerts.push(n),n.isPersistent()||setTimeout((function(){t.removeAlert(n)}),5e3),n},t.removeAlert=function(e){t.alerts.remove(e)},t.init=function(){setTimeout((function(){e.firstPreferenceLogin&&IMHome.core.showDialog(new IMHome.core.Dialog({title:e.translations.firstTimeInfoTitle,contentsTemplate:"t_systemInformation",dialogCssClass:"dialog-info system-info",dialogTitleCssClass:"system-info-header icn",wrapperCssClass:"dialog-dark system-info-wrapper",contentsModel:{message:e.translations.firstTimeInfoBody},buttons:[{text:e.translations.firstTimeButtonText,click:function(){$.ajax({url:IMHome.core.baseUrl+"Account/Privacy/ApplyPrivacySettings",type:"post"}),IMHome.core.hideDialog()},cssClasses:"btn-close"}]}))}));var n=[t.office365MessageCount],a=function(){t.hasUnseenExternalMessages(n.some((function(e){return e()>0})))};n.forEach((function(e){return e.subscribe(a)})),s.addListener((function(e){l(e.matches)})),$.subscribe("closeApp",(function(e,n){t.closeApp(n)})),$.subscribe("alerts",(function(e,n){t.displayAlerts(n)})),$.subscribe("ajaxStart",(function(){t.loading(!0)})),$.subscribe("ajaxStop",(function(){y(),t.loading(!1)})),$.subscribe("message/updateMessageCount",(function(){t.messageCount(t.messageCount()-1)})),$.subscribe("message/hasSeenUnseenExternalMessages",(function(){return t.hasUnseenExternalMessages(!1)})),$.subscribe("notification/count",(function(e,n){t.notificationCount(n)})),$.subscribe("notification/allNotifications",(function(e,t){var n=IMHome.core.allNotifications(),r=t.filter(R.propEq("currentlySelectedPupil",!0)).reduce((function(e,t){return e.some(R.propEq("id",t.id))?e.map((function(e){return t.id===e.id?R.merge(e,t):e})):e.concat(t)}),n);IMHome.core.allNotifications(r)})),t.sessionEnded.subscribe((function(e){e&&$.publish("notificationMobileApp/SessionActiveStatus",{isSessionActive:!e})})),t.nowTime.subscribe((function(e){var n=moment(e),r=moment(t.sessionEndTime()).subtract(1,"minute"),i=moment(t.sessionEndTime()).subtract(59,"seconds");n.isAfter(r)&&n.isBefore(i)&&$.publish("notificationMobileApp/SessionWillEndIn60Seconds")})),$.subscribe("notificationMobileApp/GetSessionActiveStatus",(function(){$.publish("notificationMobileApp/SessionActiveStatus",{isSessionActive:!t.sessionEnded()})})),$.subscribe("notificationMobileApp/GetLoadingStatus",(function(){$.publish("notificationMobileApp/LoadingStatus",t.loading())})),t.loading.subscribe((function(e){$.publish("notificationMobileApp/LoadingStatus",e)})),$.subscribe("notificationMobileApp/GetAccount",(function(){var e=R.pick(["personalSettings","privacySettings","pushNotificationSettings","getNotifications"],r);$.publish("notificationMobileApp/Account",_objectSpread(_objectSpread({},o),{},{urls:e}))})),$.subscribe("notificationMobileApp/SetEnvAsNativeApp",(function(){t.hasOverlay(!1),t.displayHeader(!1),t.displaySessionWarningMessages(!1),IMHome.core.isNativeApp(!0),null!==ko.utils.arrayFirst(i,(function(e){return e.codeName===IMHome.core.constants.TILES.FAMILY_WEB}))&&(t.tiles(ko.utils.arrayMap(t.tiles(),(function(e){return e.codeName===u.codeName?(u.compactView=l,u.expandWhenCompact=!c,IMHome.home.Tile(u)):e}))),t.tiles.remove(t.getTileByCodeName(IMHome.core.constants.TILES.FAMILY_WEB))),$.publish("message/count",t.messageCount()),$.publish("message/office365Count",t.office365MessageCount())})),$.subscribe("notificationMobileApp/NavigateHome",(function(){window.location="#/"})),$.subscribe("notificationMobileApp/UpdateLanguage",(function(e,t){IMHome.core.postJSON(r.saveAccountSettings,{languageId:t}).then((function(e){e.success&&window.location.reload()}))})),$.subscribe("notificationMobileApp/GetLanguages",(function(){$.publish("notificationMobileApp/Languages",{languageOptions:e.languagesModel.languageOptions})})),t.messageCount.subscribe((function(e){return $.publish("message/count",e)})),t.office365MessageCount.subscribe((function(e){return $.publish("message/office365Count",e)}));var f=function(e){var n,r=IMHome.config.colorsJson[e]?IMHome.config.colorsJson[e].main:IMHome.config.colorsJson.home.main;switch(e){case IMHome.core.constants.TILES.MESSAGE:n=t.translations.messages;break;case IMHome.core.constants.TILES.PREFERENCES:n=t.translations.preferences;break;case IMHome.core.constants.TILES.SURVEY:n=t.translations.surveyDisplayName;break;default:n=R.pipe(R.find(R.propEq("codeName",e)),R.propOr(null,"displayName"))(i)}$.publish("notificationMobileApp/ActiveTileInfo",{codeName:e,color:r,title:n})};IMHome.core.currentTile.subscribe(f),f(IMHome.core.getOpenTile()),t.sidebarMenus.forEach((function(e){return e.init()})),$(document).ajaxSuccess((function(e,n){var r=R.pipe(n.getResponseHeader,p),i=r("MessageCount"),o=r("Office365MessageCount"),a=IMHome.core.toJSON(n.responseText);if(null!==i&&t.messageCount(i),null!==o&&t.office365MessageCount(o),!1!==a&&void 0!==a.notifications&&t.displayAlerts(a.notifications),302===n.status){var s=n.getResponseHeader("Location"),l=new RegExp("/Authentication/Logon/","i");s.match(l)&&(window.location=IMHome.localisation.loginUrl)}})),$(document).ajaxError((function(e,t,n,r){/openid_message/g.test(t.responseText)||""===r||"abort"===r||(d.errorEvent("[Ajax error]\n                [Status Text: ".concat(t.statusText,"]\n                [URL: ").concat(n.url,"]\n                [Response Headers: ").concat(t.getAllResponseHeaders(),"]\n                ")),$.publish("alerts",[[{type:"warning",title:IMHome.localisation.errorTitle,message:IMHome.localisation.errorMessage,onRemove:function(){window.location.hash="#/",window.location.reload()}}]]))})),setInterval((function(){t.nowTime(new Date)}),1e3),y()}};var IMHome=IMHome||{};function _objectWithoutProperties(e,t){if(null==e)return{};var n,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function getUTCBeginningOfWeek(e){var t=e.getUTCDay(),n=(0===t?-6:1)-t,r=new Date(e);return r.setUTCDate(e.getUTCDate()+n),r.setUTCHours(0,0,0,0),r}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}IMHome.home=$.extend(IMHome.home||{},function(){var REQUIRED_FEATURES=["boxsizing","cssanimations","cssgradients","csstransforms","csstransitions","fileinput","filereader","hashchange","json","opacity","xhr2"];function authenticateUser(){var e=(new Date).getTime();return null!==IMHome.home.homeViewModel&&null!==IMHome.home.homeViewModel.alerts&&IMHome.home.homeViewModel.alerts.removeAll(),$.ajax({type:"post",url:"/authentication/authentication/isauthenticated/?_="+e,cache:!1,headers:{"cache-control":"no-cache"}}).then((function(e){!1===e&&(window.location.href=IMHome.localisation.loginUrl)}))}function browserIsAccepted(){var accepted=!0,isIE=/trident/gi.test(window.navigator.userAgent);if($.each(REQUIRED_FEATURES,(function(e,t){!1===Modernizr[t]&&(accepted=!1)})),isIE)try{eval('const test = "test"')}catch(e){accepted=!1}return accepted}function fixiOSKeyboard(){if(Modernizr.touch){var e=jQuery("body");$(document).on("focus","input",(function(){e.addClass("fixfixed")})).on("blur","input",(function(){e.removeClass("fixfixed")}))}}function showGoogleLoginWarning(e,t){IMHome.home.homeViewModel.displayAlert({type:"warning",title:e,message:t})}return{homeData:null,homeViewModel:null,authenticate:authenticateUser,init:function(e){$(document).ajaxStart((function(){$.publish("ajaxStart")})).ajaxStop((function(){$.publish("ajaxStop")})),authenticateUser(),browserIsAccepted()||(window.innerWidth<IMHome.core.screenWidths.BREAKPOINT_1?window.location.href="/oldbrowser/Mobile":window.location.href="/oldbrowser/"),IMHome.home.homeViewModel=new IMHome.home.HomeViewModel(e),IMHome.home.homeViewModel.init(),ko.applyBindings(IMHome.home.homeViewModel),IMHome.core.Router.init(IMHome.home.homeViewModel),void 0!==e.notifications&&e.notifications.notifications.length>0&&$.publish("alerts",[e.notifications.notifications]),$(document).on("click",".dialog",(function(e){"external"!==$(e.target).attr("rel")&&(e.preventDefault(),e.stopPropagation())})),fixiOSKeyboard(),e.showGoogleWarning&&showGoogleLoginWarning(e.translations.imhAppGoogleLoginAlertTitle,e.translations.imhAppGoogleLoginAlert)}}}()),IMHome.home=IMHome.home||{},IMHome.home.Tile=function(e){var t=e.codeName,n=e.defaultSubPage,r=["tile",t],i=e.compactView,o=R.pathOr(null,[t.toLowerCase(),"svgiconIds","main"],IMHome.config.tiles),a=IMHome.config.colorsJson[t]?IMHome.config.colorsJson[t].main:IMHome.config.colorsJson.home.main;return{id:e.id,codeName:t,defaultSubPage:n,appColour:a,displayName:e.displayName,urls:{view:e.fullScreenViewUrl,viewModel:e.koViewModelUrl,data:e.dataUrl,tile:e.tileUrl},expanded:ko.pureComputed((function(){return i()?e.expandWhenCompact:e.expanded})),order:ko.computed((function(){return i()?e.mobileOrdering:e.ordering})),content:ko.observable(""),tileCSSClass:ko.computed((function(){var t=[].concat(r);return e.variation&&t.push(e.variation),t.join(" ")})),headerIcon:o,hasHeaderIcon:null!==o}},IMHome.homework=IMHome.homework||{},IMHome.homework.App=function(e){var t="PREVIOUS_WEEK",n="JUMP_WEEK",r="WEEK",i="homework/escapeKeyUp",o=IMHome.core.constants.TILES.HOMEWORK;IMHome.core.setTitleTag(o);var a,s=IMHome.home.homeData.notificationTypeMap,l=e.urls,c=e.translations,u=ko.observableArray([]),d=ko.observableArray([]),f=ko.observableArray([]),p=ko.observable(e.prevDate),h=ko.observable(e.nextDate),m=ko.observable(e.comment),g=ko.observable(!0===e.commentsExpanded),v=ko.observable(e.pagedList.translations.listTitle),b=ko.observable(null),y=ko.observable(!1),w=ko.observable(!1),x=ko.observable(),_=ko.observable(!1),k=ko.observableArray(null),S=ko.observable(new IMHome.core.CompactAppController({listItems:k,selectItem:F,hideItem:function(){w(!1)},translations:{pageCount:e.translations.pageCount,returnToList:e.translations.returnToList,prevItem:e.translations.prevItem,nextItem:e.translations.nextItem}})),T=ko.computed((function(){return m().length>0})),I=function(e,t){var r=d()[0].date,i=d()[4].date;if(moment.utc(t).isBefore(r)||moment.utc(t).isAfter(i)){var o=moment.utc(t).startOf("isoWeek").toISOString();E(n,o)().then((function(){O(e,t)}))}else O(e,t)},E=function(e,r){return function(){if(!1!==_())return new Promise((function(e){return e()}));_(!0);var i=e===n?r:e===t?p():h(),o=e===t?u:f,a=e===t?"slide-right":"slide-left";return Promise.resolve(A(i)).then((function(e){var t=ko.utils.arrayMap(e.pagedList.items,(function(e){return IMHome.homework.HomeworkListItem(e)}));return o(t),C(a,e)})).then((function(t){_(!1),v(t.pagedList.translations.listTitle),m(t.comment),d(o()),o(null),p(t.prevDate),h(t.nextDate),e!==n&&j()}),(function(){_(!1)}))}},C=function(e,t){return new Promise((function(n){_(!0),$("#homeworkPagedList").on(IMHome.core.event.transitionEnd,(function(){$("#homeworkPagedList").off(IMHome.core.event.transitionEnd),$(this).removeClass(e),_(!1),n(t)})).addClass(e)}))},O=function(e,t){var n=moment.utc(t).startOf("isoWeek").toISOString();e===r?P(n):D(t)},M=function(e){return function(t){N(t,e===r).then((function(n){var i=e===r?R.propEq("isWeek",!0):R.allPass([R.propEq("isWeek",!1),R.propEq("date",t)]),o=R.find(i,k());o&&IMHome.core.activateItem(k,o),H(n),w(!0)}))}},D=M("DAY"),P=M(r),A=function(t){return IMHome.core.postJSON(e.pagedList.listUrl,{date:t})},N=function(t,n){return IMHome.core.postJSON(e.pagedList.itemUrl,{date:t,isWeek:n}).then((function(e){return IMHome.core.triggerNotificationUpdate([s.weeklyPlanUpdate,s.homeWorkUpdate]),e}))},H=function(e){var t=function(e){return e.map(W)}(e);b(t),y(!0),setTimeout((function(){y(!1)}),100)};return{prevWeekClick:E(t),nextWeekClick:E("NEXT_WEEK"),weekTitle:v,pagingAnimating:_,wholeWeekItem:x,prevPageItems:u,daySelectorSidebarItems:d,nextPageItems:f,compactViewActive:w,animatingHomework:y,compactAppController:S,translations:c,printHomework:function(e,t){t.preventDefault();var n=d()[0].date,r=d()[4].date,i=IMHome.core.buildUrl(IMHome.core.baseUrl+"".concat(o,"/").concat(o,"/printHomework"),[{name:"firstdate",value:n},{name:"lastdate",value:r},{name:"weektitle",value:v()}]);IMHome.core.isNativeApp()?$.publish("notificationMobileApp/downloadFile",window.location.origin+i):window.open(i)},hasComments:T,homework:b,commentsExpanded:g,comments:m,listItemClick:function(e){F(k,e)},init:function(){var t=[{event:"route",action:L},{event:"global/click",action:U},{event:"global/keyup",action:V}];a=new IMHome.core.SubscriptionList(t),d.subscribe((function(){var e=[],t=d();for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);var r=function(e){if(e.length>0){var t=R.pipe(R.filter(R.propEq("isWeek",!1)),R.map(R.prop("assignmentCount")),R.sum)(e);return IMHome.homework.HomeworkListItem({date:d()[0].date,dateFormatted:c.wholeWeek,isWeek:!0,assignmentCount:t})}}(t);x(r),r&&e.unshift(r),k(e)})),d(ko.utils.arrayMap(e.pagedList.items,(function(e){return IMHome.homework.HomeworkListItem(e)}))),g.subscribe((function(e){IMHome.core.postJSON(l.saveCommentsExpanded,{commentsExpanded:e})})),window.location.hash!=="#/".concat(o)&&window.location.hash!=="#/".concat(o,"/")||j()},destroy:function(){b().forEach((function(e){return e.items.forEach((function(e){return e.destroy()}))})),a.unsubscribeAll()}};function L(e,t){var n=t.params;b()&&n.id===b().date&&b().isWeek===("week"===n.action)||("day"===n.action?I("DAY",n.id):"week"===n.action&&I(r,n.id))}function j(){d().length>0&&F(null,x())}function F(e,t){location.hash="/".concat(o,"/").concat(t.isWeek?"week":"day","/").concat(t.date)}function U(e,t){0===$(t.target).closest(".hwk-attachment-toggle").length&&b().forEach((function(e){return e.items.forEach((function(e){return e.isAttachmentListVisible(!1)}))}))}function V(e,t){27===t.keyCode&&$.publish(i)}function W(e){return R.merge(e,{items:e.items.map(B)})}function B(e){var t=ko.observable(!1),n=ko.observable(!1),r=IMHome.aria.createMenuButton("homework-attachment-button"),o=r.ariaControlsId,a=_objectWithoutProperties(r,["ariaControlsId"]);return $.subscribe(i,s),R.merge(e,{isAttachmentListVisible:t,isAttachmentButtonFocused:n,attachmentMenuId:o,attachmentButtonAttributes:a,toggleAttachmentList:function(){t(!t())},destroy:function(){$.unsubscribe(i,s)}});function s(){!0===t()&&(t(!1),n(!0))}}},IMHome.homework=IMHome.homework||{},IMHome.homework.HomeworkListItem=function(e){return R.merge(e,{isWeek:e.isWeek||!1,active:void 0!==e.active?ko.observable(e.active):ko.observable(!1)})},IMHome.onlinetest=IMHome.onlinetest||{},IMHome.onlinetest.App=function(e){var t=IMHome.core.constants.TILES.ONLINE_TEST;IMHome.core.setTitleTag(t);var n,r,i=IMHome.onlinetest.constants,o=i.ROUTE_ACTIONS,a=i.TEST_STATUS,s=i.TRANSITION_DELAY,l=i.ALLOWED_QUESTION_TYPES,c=ko.observable(!1),u=this,d=e.urls,f=e.translations,p={data:e.pagedList,ItemConstructor:IMHome.onlinetest.OnlineTestListItem,noResultsTemplate:$('<div class="no-results">'+f.noResults+"</div>")},h=0;function m(e,t){var n=t.params;if("action"in n==!1&&!0===IMHome.core.isCompactView()&&u.compactViewActive(!1),n.action===o.STATUS&&(g(n.id),u.compactViewActive(!1)),n.action===o.SHOW){var r=n.onlinetest,i=n.assignment,a=n.isUol;u.onlineTestParamId(r),u.assignmentParamId(i),u.onlineTestParamisUol(a),x(r,i,a)}}function g(e){var t=$.Deferred(),n=function e(){$.unsubscribe("pagedList.newResults",e),$.unsubscribe("pagedList.noResults",e),t.resolve()};switch($.subscribe("pagedList.newResults",n),$.subscribe("pagedList.noResults",n),e){case a.OVERDUE:u.viewingOverdue(!0),u.viewingDue(!1),u.viewingDone(!1),T(d.getOverDueOnlineTest);break;case a.DONE:u.viewingDue(!1),u.viewingOverdue(!1),u.viewingDone(!0),T(d.getDoneOnlineTest);break;default:u.viewingDone(!1),u.viewingOverdue(!1),u.viewingDue(!0),T(d.getDueOnlineTest)}return u.status(e),t.promise()}function v(e,t){var n=t.allItemIds;n.length>0&&(u.overdueCount(parseInt(n[0])),u.dueCount(parseInt(n[1])),u.doneCount(parseInt(n[2])))}function b(){u.activeItem({noResults:!0})}function y(e,n){location.hash=IMHome.core.buildUrl("/".concat(t,"/show/"),[{name:"onlinetest",value:n.id},{name:"assignment",value:n.surveyAssignmentId},{name:"isUol",value:n.showUolIcon}])}function w(e,t){IMHome.core.Router.getSammyObject().getLocation().includes(o.SHOW)||c()||null!==u.activeItem()||x(t.id,t.surveyAssignmentId,t.showUolIcon)}function x(e,t,n){c(!0),u.getOnlineTest(e,t,n,-1,-1).then((function(e){var n=function(){c(!1),u.currentPage(-1),u.showQuestionAnswer(!1),u.showOnlineTestItem(e),u.compactViewActive(!0),ko.utils.arrayForEach(u.onlineTestList().items(),(function(e){e.surveyAssignmentId===parseInt(t)?e.active(!0):e.active(!1)}))},r=R.defaultTo("",e.statusType).toLowerCase();u.status()!==r?g(r).then(n):n()}))}function _(e){u.currentPage()===u.totalQuestions()?u.showQuestionAnswer(!1):u.showQuestionAnswer(!0),e.totalQuestions-1>=u.currentPage()+1&&(u.currentPage(u.currentPage()+1),u.getOnlineTest(u.activeItem().id,u.activeItem().surveyAssignmentId,u.activeItem().isUol,u.currentPage(),e.totalQuestions).then((function(e){u.showOnlineTestItem(e),u.nextPageNavigation(!0),setTimeout((function(){u.compactViewActive(!0)}),s)})))}function k(e){0===u.currentPage()?u.showQuestionAnswer(!1):u.showQuestionAnswer(!0),u.isReviewQuestions()?u.currentPage(0):u.currentPage(u.currentPage()-1),u.getOnlineTest(u.activeItem().id,u.activeItem().surveyAssignmentId,u.activeItem().isUol,u.currentPage(),e.totalQuestions).then((function(e){u.showOnlineTestItem(e),u.previousPageNavigation(!0),u.nextPageNavigation(!0),setTimeout((function(){u.compactViewActive(!0)}),s)}))}function S(e){var t=!1;if("RadioButtonList"===e.questionTypeValue||"DropDownList"===e.questionTypeValue)t=e.responseAnswerId()>0;else if("TextBox"===e.questionTypeValue||"MultilineTextbox"===e.questionTypeValue)t=0!==e.responseId||null!==e.multiLineAnswerText()&&e.multiLineAnswerText().length>0;else if("Numeric"===e.questionTypeValue)t=!0;else if("CheckBoxList"===e.questionTypeValue){var n=e.responseAnswerIds();null!=n&&n.length>0&&(t=!0)}return t}function T(e){u.activeItem(null),u.nextItem(null),u.title(""),u.dueDate(""),u.dueLocalization(""),u.duePartition("");var t=R.merge(p,{});t.data.listUrl=e,u.onlineTestList(new IMHome.core.InfiniteScroller(t))}function I(e){var t=0;return R.contains(e.questionTypeValue,l)&&(t=e.responseAnswerId()),{surveyId:e.id,surveyAssignmentId:e.surveyAssignmentId,isUol:e.isUol,questionId:e.questionId,questionType:e.questionType,questionTypeValue:e.questionTypeValue,responseAnswerId:t,responseId:e.responseId,responseAnswerIds:e.responseAnswerIds(),multiLineAnswerText:e.multiLineAnswerText(),numericAnswerText:e.numericAnswerText(),currentPage:e.currentPage,totalQuestions:e.totalQuestions}}u.constants=IMHome.onlinetest.constants,u.templatePath=IMHome.core.getTemplatePath(t),u.translations=f,u.compactViewActive=ko.observable(!1),u.filterActive=ko.observable(!1),u.addingNewItem=ko.observable(!1),u.currentPage=ko.observable(-1),u.totalQuestions=ko.observable(),u.showQuestionAnswer=ko.observable(!1),u.onlineTestParamisUol=ko.observable(!1),u.nextItem=ko.observable(null),u.onlineTestList=ko.observable(new IMHome.core.InfiniteScroller(p)),u.compactAppController=ko.observable(new IMHome.core.CompactAppController({listItems:u.onlineTestList().items,selectItem:function(e,t){x(t.id,t.surveyAssignmentId,t.showUolIcon)},hideItem:function(){window.location.hash="/"+t},translations:{pageCount:f.pageCount,returnToList:f.returnToList,prevItem:f.prevItem,nextItem:f.nextItem}})),u.activeItem=ko.observable(null),u.listRequestPending=ko.observable(!1),u.overdueCount=ko.observable(e.totalOverDueCount),u.dueCount=ko.observable(e.totalDueCount),u.doneCount=ko.observable(e.totalDoneCount),u.viewingOverdue=ko.observable(!1),u.viewingDue=ko.observable(!1),u.viewingDone=ko.observable(!1),u.status=ko.observable(),u.title=ko.observable(""),u.dueDate=ko.observable(),u.dueLocalization=ko.observable(),u.duePartition=ko.observable("|"),u.previousPageNavigation=ko.observable(!0),u.nextPageNavigation=ko.observable(!0),u.onlineTestParamId=ko.observable(),u.assignmentParamId=ko.observable(),u.isReviewQuestions=ko.observable(!1),u.showConfirmDialog=ko.observable(!1),u.popupActivation=ko.observable(!1),u.showOnlineTestList=ko.observable(!0),u.isBacktToInstructions=ko.observable(!1),u.uolOrGroupTitle=ko.observable(),u.progress=ko.observable(),u.questionPaging=ko.observable(),n=ko.computed({read:function(){return!0===u.viewingOverdue()?a.OVERDUE:!0===u.viewingDue()?a.DUE:a.DONE},write:function(e){u.viewingOverdue(e===a.OVERDUE),u.viewingDue(e===a.DUE),u.viewingDone(e===a.DONE)}}),u.textAreaLimit=e.textAreaLimit,u.activeListItems=ko.observableArray([]),u.activeListItems=ko.computed((function(){var e=[];return!0===u.viewingOverdue()&&(e=u.onlineTestList().items()),!0===u.viewingDue()&&(e=u.onlineTestList().items()),!0===u.viewingDone()&&(e=u.onlineTestList().items()),e})),u.viewOverdueClick=function(){window.location.hash="/".concat(t,"/status/").concat(a.OVERDUE)},u.viewDueClick=function(){window.location.hash="/".concat(t,"/status/").concat(a.DUE)},u.viewDoneClick=function(){window.location.hash="/".concat(t,"/status/").concat(a.DONE)},u.completeClick=function(e){var t=I(e);IMHome.core.postJSON(d.setCompleteStatus,t).then((function(e){!0===e.success&&(u.viewingDue()?(u.viewingDue(!0),u.viewingOverdue(!1),u.viewingDone(!1),T(d.getDueOnlineTest),u.status(a.DUE)):u.viewingOverdue()?(u.viewingOverdue(!0),u.viewingDue(!1),u.viewingDone(!1),u.overdueItems(),T(d.getOverDueOnlineTest),u.status(a.OVERDUE)):(u.viewingDone(!0),u.viewingOverdue(!1),u.viewingDue(!1),T(d.getDoneOnlineTest),u.status(a.DONE)),1===u.dueCount()&&0===u.doneCount()&&(u.dueCount(0),u.doneCount(u.doneCount()+1)),u.showOnlineTestList(!0),u.showConfirmDialog(!1),u.popupActivation(!1))}))},u.previousPageClick=function(e){u.isReviewQuestions(!1),u.previousPageNavigation(!1);var t=I(e);0===u.currentPage()?u.isBacktToInstructions(!0):u.isBacktToInstructions(!1),!1===u.listRequestPending()&&(u.currentPage===e.totalQuestions?k(e):e.canEdit&&S(e)?IMHome.core.postJSON(d.saveAnswer,t).then((function(t){u.nextPageNavigation(!0),u.previousPageNavigation(!0),!0===t&&k(e)})):k(e))},u.reviewQuestions=function(e){u.isReviewQuestions(!0),u.previousPageNavigation(!1);var t=I(e);!1===u.listRequestPending()&&(u.currentPage===e.totalQuestions?k(e):e.canEdit&&S(e)?IMHome.core.postJSON(d.saveAnswer,t).then((function(t){!0===t&&k(e)})):k(e))},u.nextPageClick=function(e){u.nextPageNavigation(!1),u.currentPage()===e.totalQuestions-1&&u.nextPageNavigation(!1);var t=I(e);!1===u.listRequestPending()&&(-1===u.currentPage()?(!0===IMHome.core.isCompactView()?u.showOnlineTestList(!0):u.showOnlineTestList(!1),u.isBacktToInstructions(!1),_(e)):e.canEdit?(!0===IMHome.core.isCompactView()?u.showOnlineTestList(!0):u.showOnlineTestList(!1),S(e)?IMHome.core.postJSON(d.saveAnswer,t).then((function(t){u.nextPageNavigation(!0),u.previousPageNavigation(!0),!0===t&&_(e)})):_(e)):_(e))},u.activeListItem=ko.computed((function(){return u.activeListItems().filter((function(e){return!0===e.active()}))[0]||null})),u.overdueItems=ko.computed((function(){return u.onlineTestList().items().filter((function(e){return e}))})),u.dueItems=ko.computed((function(){return u.onlineTestList().items().filter((function(e){return e}))})),u.doneItems=ko.computed((function(){return u.onlineTestList().items().filter((function(e){return e}))})),u.getOnlineTest=function(e,t,n,r,i){var o={id:e,surveyAssignmentId:t,showUolIcon:n,currentPage:r,totalQuestions:i,isSurvey:!1};return $.getJSON(d.getOnlineTest,o).then((function(e){return IMHome.core.triggerNotificationUpdate([IMHome.home.homeData.notificationTypeMap.onlineTestAssigned]),e}))},u.showOnlineTestItem=function(e){var t=e;t.noResults||(u.status()===a.DONE?u.dueLocalization(t.translations.done):u.status()===a.DUE?u.dueLocalization(t.translations.due):u.status()===a.OVERDUE&&u.dueLocalization(t.translations.overDue),u.title(t.title),u.dueDate(t.dueDate),u.nextItem(new IMHome.onlinetest.OnlineTest(t)),u.currentPage(t.currentPage),u.totalQuestions(t.totalQuestions),u.duePartition("|"),u.progress(t.progress),u.uolOrGroupTitle(t.uolOrGroupTitle),u.questionPaging(t.questionPaging))},u.destroy=function(){u.onlineTestList().destroy(),r.unsubscribeAll()},u.newItemRendered=function(){u.addingNewItem(!1),setTimeout((function(){u.addingNewItem(!0)}),s)},u.onNewItemTransitionEnd=function(){u.addingNewItem(!1),u.activeItem(u.nextItem()),u.nextItem(null)},u.submitClick=function(){u.showConfirmDialog(!0),u.popupActivation(!0)},u.backToTest=function(){u.showConfirmDialog(!1),u.popupActivation(!1)},u.init=function(){var e=[{event:"route",action:m},{event:"pagedList.itemClick",action:y},{event:"pagedList.newResults",action:v},{event:"pagedList.noResults",action:b},{event:"appClosed",action:u.destroy},{event:"pagedList.activeItem.response",action:w},{event:"pagedList.nextItem.response",action:w}];r=new IMHome.core.SubscriptionList(e),u.dueCount()>0?(u.viewingDue(!0),u.status(a.DUE)):u.overdueCount()>0?(u.viewingOverdue(!0),u.status(a.OVERDUE)):(u.viewingDone(!0),u.status(a.DONE)),!1===IMHome.core.isCompactView()&&setTimeout((function(){!1===c()&&0===h&&null===u.activeItem()&&null===u.nextItem()&&function(e){var t;switch(e){case a.OVERDUE:t=u.overdueItems();break;case a.DUE:t=u.dueItems();break;case a.DONE:t=u.doneItems()}setTimeout((function(){t.length>0?u.selectItem(t[0].id):(h++,u.showOnlineTestItem({noResults:!0,translations:{noResultsMessage:f.noResultsMessage}}))}),0)}(n())}),0)}},IMHome.onlinetest=IMHome.onlinetest||{},IMHome.onlinetest.constants=function(){var e={TEXTBOX:"TextBox",MULTILINE_TEXTBOX:"MultilineTextbox",RADIO_BUTTON_LIST:"RadioButtonList",CHECKBOX_LIST:"CheckBoxList",DROPDOWN_LIST:"DropDownList",NUMERIC:"Numeric"};return{ROUTE_ACTIONS:{SHOW:"show",STATUS:"status"},TEST_STATUS:{DONE:"done",DUE:"due",OVERDUE:"overdue"},TRANSITION_DELAY:100,QUESTION_TYPES:e,ALLOWED_QUESTION_TYPES:[e.RADIO_BUTTON_LIST,e.DROPDOWN_LIST,e.NUMERIC,e.TEXTBOX,e.MULTILINE_TEXTBOX,e.CHECKBOX_LIST]}}(),IMHome.onlinetest=IMHome.onlinetest||{},IMHome.onlinetest.OnlineTest=function(e){"use strict";var t=this;t.id=e.id,t.translations=e.translations,t.title=e.title,t.publishDate=e.publishDate,t.dueDate=e.dueDate,t.type=e.entityType,t.welcomeMessage=e.welcomeMessage,t.description=e.description,t.endMessage=e.endMessage,t.canEdit=e.canEdit,t.publishedBy=e.publishedBy,t.dueLocalization=e.dueLocalization,t.surveyAssignmentId=e.surveyAssignmentId,t.isUol=e.showUolIcon,t.uolOrGroupTitle=e.uolOrGroupTitle,t.questionId=e.questionId,t.questionTitle=e.questionTitle,t.totalQuestions=e.totalQuestions,t.questionType=e.questionType,t.questionTypeValue=e.questionTypeValue,t.totalAnswers=e.totalAnswers,t.progress=e.progress,t.questionPaging=e.quetionPaging,t.currentPage=e.currentPage,t.responseDetails=ko.observable(e.responseDetails),t.answers=ko.observable(e.answers),t.responseAnswerId=ko.observable(e.answerId),t.responseAnswerIds=ko.observableArray(e.answerIds),t.responseId=e.responseId,t.multiLineAnswerText=ko.observable(e.multiLineAnswerText),t.textAreaLimit=e.textAreaLimit,t.numericAnswerText=ko.observable(e.numericAnswerText),t.read=ko.observable(e.read),t.active=ko.observable(!1),t.totalQuestionAnswerList=ko.observable(e.surveyApiQuestionAnswerList),t.surveyTypes=ko.observable(e.surveyTypes)},IMHome.onlinetest=IMHome.onlinetest||{},IMHome.onlinetest.OnlineTestListItem=function(e){"use strict";var t=this;t.id=e.id,t.translations=e.translations,t.title=e.title,t.publishDate=e.publishDate,t.dueDate=e.dueDate,t.showUolIcon=e.showUolIcon,t.showGroupIcon=e.showGroupIcon,t.type=e.entityType,t.surveyAssignmentId=e.surveyAssignmentId,t.publishLocalization=e.publishLocalization,t.dueLocalization=e.dueLocalization,t.uolOrGroupTitle=e.uolOrGroupTitle,t.read=ko.observable(e.read),t.active=ko.observable(!1)},IMHome.message=IMHome.message||{},IMHome.message.App=function(e){var t=e.urls,n=e.translations,r=e.filters,i=e.currentUserIM2Id,o=e.maxMessageSubjectChars,a=IMHome.core.GoogleAnalytics,s=IMHome.core.constants.TILES.MESSAGE;IMHome.core.setTitleTag(s);var l="office365",c="Google",u=ko.observable(!1),d=ko.observableArray(),f=ko.pureComputed((function(){return d().length>0})),p={translations:{to:n.to,searchUsers:n.searchUsers},messageHeader:n.newMessage,urls:{getRecipients:t.getRecipients,sendMessage:t.sendMessage},noResultsTemplate:$('<div class="no-results">'+n.noResults+"</div>"),toUsers:d},h=0,m=$.extend(this,IMHome.core.defaultAppMethods);m.translations=n,m.templatePath=IMHome.core.getTemplatePath(s),m.appName=s,m.canMessage=f,m.noResults=ko.observable(!1),m.messageDialogActive=ko.observable(!1),m.messageDialogData=ko.observable(),m.messageDialogClosed=ko.computed((function(){return m.messageDialogData()&&!1===m.messageDialogData().confineFocusToDialog()})),m.filter=function(e){var n=function(e,t,n){var r=new t(e);return R.merge(r,{reset:function(){return r[n](e[n])},getValue:function(){return r[n]()}})},r=R.mapObjIndexed((function(e){return"textbox"===e.type?n(e,IMHome.core.Textbox,"value"):n(e,IMHome.core.Checkbox,"checked")}),e),i=e.generalMessages||e.taskMessages,o=ko.observable(!1);return{filterControls:r,showTypeFilters:i,getCurrentValues:a,resetFilters:function(){R.forEachObjIndexed(R.invoker(0,"reset"),r)},submit:function(){var e=a();m.submitFilter(e,t.getMessages,s)},isActive:o,toggle:function(){o(!o())}};function a(){return R.mapObjIndexed(R.invoker(0,"getValue"),r)}}(r),m.filterActive=m.filter.isActive,m.newMessage=function(e,t){var n=_objectSpread({},p);!0===e&&(n.toUsers=[t.sentUser]),m.messageDialogData(IMHome.message.createMessageDialog(n)),m.messageDialogActive(!0)},m.replyToMessage=function(e){var t=e=ko.mapping.toJS(e),r=t.id,i=t.messageContextType,a=t.messageBodyPlainText,s=R.ifElse((function(e){return e.length>o}),(function(e){return IMHome.core.truncateText(e,o)}),(function(e){return e}))(e.messageSubject),l="\n\n".concat(R.times((function(){return"-"}),147).join(""),"\n\n"),c=R.pluck("displayName",e.toUsers).join("; "),u=l+"".concat(n.to," ").concat(c,"\n")+"".concat(n.from," ").concat(e.sentUser.displayName,"\n")+"".concat(n.sent,": ").concat(e.timeSent,"\n")+"".concat(n.re," ").concat(e.messageSubject,"\n")+a,f=R.pipe(R.filter(R.propEq("isCurrentUser",!1)),R.prepend(e.sentUser),R.map(R.assoc("isSelected",!0)),R.concat(R.__,d()),R.uniqWith(R.propEq("id")))(e.toUsers),h=R.merge(p,{id:r,messageHeader:n.replyToMessage,toUsers:f,messageSubject:s,messageBody:u,messageContextType:i,isReply:!0,addUniqueSendMessageProperties:R.merge(R.__,{id:r})});m.messageDialogData(IMHome.message.createMessageDialog(h)),m.messageDialogActive(!0)},m.deleteMessage=function(e){var n={id:e.id,messageFolder:e.messageFolder},r=b(e.id);e.canDelete(!1),IMHome.core.postJSON(t.deleteMessage,n).then((function(e){e.success&&r.removing(!0)}))};var g=[{id:c,show:ko.pureComputed((function(){return!IMHome.core.isNativeApp()&&IMHome.home.homeViewModel.isGoogle()}))},{id:l,messageCount:IMHome.home.homeViewModel.office365MessageCount,show:ko.pureComputed((function(){return!IMHome.core.isNativeApp()&&IMHome.home.homeViewModel.office365MessageCount()>=0}))}];function v(e,n){var r;n.noResults||!1===n.isNew||IMHome.core.postJSON(t.viewedMessage,{id:n.id}).then((function(e){e.success&&(r=b(n.id))&&(r.isNew(!1),$.publish("message/updateMessageCount"))}))}function b(e){return ko.utils.arrayFirst(m.list.items(),(function(t){return t.id===e}))}function y(e,t){var n=m.list,r=b(t),i=null;n.hasNext()?i=b(n.getNextItemId()):n.hasPrev()&&(i=b(n.getPrevItemId())),n.activeItem(i),n.items.remove(r)}function w(e){return $.extend(!0,e,{translations:{viewTaskDetails:n.viewTaskDetails,taskDeletedNotification:n.taskDeletedNotification},currentUserIM2Id:i})}function x(){m.filter.filterControls.sentItems.checked()&&setTimeout((function(){m.filter.submit()}),500)}function _(e,t){0===$(t.target).closest(".app-filter, .btn-filter").length&&m.filter.isActive(!1)}function k(e){return R.merge(e,{initial:e.userInitial,colorClass:IMHome.message.getUserImHomeUICodeCssClass(e),text:e.displayName})}function S(e,t){27===t.keyCode&&!0===m.filter.isActive()&&m.filter.isActive(!1)}m.externalMessagesButton=function(e){var t,n=e.id,r=void 0===n?"":n,i=e.messageCount,o=e.onClick,s=e.show,u=(_defineProperty(t={},c,{href:"https://mail.google.com/mail/#inbox",logoSrc:"dist/images/google.svg",googleAnalyticsEventAction:a.eventActions.OPEN_GMAIL_MESSAGES}),_defineProperty(t,l,{href:"https://outlook.office365.com/owa/#path=/mail",logoSrc:"dist/images/office.svg",googleAnalyticsEventAction:a.eventActions.OPEN_OFFICE_365_MESSAGES}),t);return R.merge({init:function(){},click:function(e){var t=e.googleAnalyticsEventAction;return o(t).apply(null,arguments),!0},messageCount:i,icon:"new-window",css:_defineProperty({},r,!0),href:null,logoSrc:null,show:ko.pureComputed((function(){return s&&s()&&!IMHome.core.isNullOrEmpty(r)}))},u[r])}(R.merge(g.find((function(e){return(0,e.show)()})),{onClick:function(e){return function(){return a.uiEvent(e)}}})),m.init=function(){var r=[{event:"route",action:$.proxy(m.onRouteChange,m)},{event:"pager/nextClick",action:$.proxy(m.onNextClick,m)},{event:"pager/prevClick",action:$.proxy(m.onPrevClick,m)},{event:"pager/backClick",action:$.proxy(m.onBackClick,m)},{event:"item/newItem",action:v},{event:"listItem/newItems",action:$.proxy(m.showFirstItemInListIfNotCompactView,m)},{event:"message/listItem/removed",action:y},{event:"message/messageSent",action:x},{event:"global/click",action:_},{event:"global/keyup",action:S}];m.list=new IMHome.core.ItemList({ItemConstructor:IMHome.message.ListItem}),m.appSubscriptionList=new IMHome.core.SubscriptionList(r),m.controller=new IMHome.core.ContentController({ItemConstructor:IMHome.message.Message,hasItemEmptyTemplate:!0,templatePath:m.templatePath,getItemUrl:t.getMessage,appName:s,itemDataFormatter:w}),m.pager=new IMHome.core.ContentPager({translations:{pageCount:n.pageCount,returnToList:n.returnToList,prevItem:n.prevItem,nextItem:n.nextItem},currentPage:ko.computed(m.getCurrentPageNumber,m),totalPages:ko.computed(m.getTotalPageCount,m),previousButtonIsDisabled:ko.computed(m.prevPageAvailable,m),nextButtonIsDisabled:ko.computed(m.nextPageAvailable,m)}),m.infiniteScrollOptions={itemCount:m.list.totalItems,loadFunction:function(){var e=m.filter.getCurrentValues();return m.getMoreItems(t.getMessages,e,++h).then((function(e){!0===e.more?u(!1):u(!0),m.publishNewItems(e.items,!0)}))},allResultsLoaded:u,noResults:m.noResults,noResultsTemplate:$($("#t_noResultsDefault").clone().html())},m.ready(),$.publish("message/hasSeenUnseenExternalMessages"),setTimeout((function(){IMHome.core.postJSON(e.urls.getRecipients,{page:1}).then((function(e){d(e.items.map(k))}))}))}},IMHome.message=IMHome.message||{},IMHome.message.createMessageDialog=function(e){var t=ko.observable(),n=window.matchMedia("(max-width: 767px)"),r=ko.observable(!1),i=(e=$.extend({id:null,MAX_MESSAGE_SUBJECT_CHARS:60,toUsers:[],fromUser:{},messageSubject:"",messageBody:"",sendMessage:x,translations:{},urls:e.urls,messageHeader:"",messageContextType:"General",isReply:!1,addUniqueSendMessageProperties:e.addUniqueSendMessageProperties||null},e)).isReply,o=ko.unwrap(e.toUsers),a=e.messageHeader,s=e.messageContextType,l=e.MAX_MESSAGE_SUBJECT_CHARS,c=ko.observable(e.messageSubject),u=ko.observable(e.messageBody),d=ko.observable(!1),f=ko.observable(!1),p=ko.observable(!1),h=ko.observable(!1),m=new IMHome.core.SubscriptionList([]),g=ko.observableArray(o.filter(R.propEq("isSelected",!0))),v=ko.pureComputed((function(){return g().slice(0,t()).map(_)})),b=ko.computed((function(){return g().length}));return{isReply:i,toUsers:o,usersFormatted:f,maxVisibleUsers:t,selectedUsers:g,visibleSelectedUsers:v,selectedUsersCount:b,selectorIsOpen:p,messageHeader:a,messageSubject:c,maxMessageSubjectChars:l,messageBody:u,onMessageBodyFocus:function(e,t){$(t.target).prop("selectionStart",0),$(t.target).prop("selectionEnd",0)},messageContextType:s,dialogClassActive:d,confineFocusToDialog:r,init:function(e){var t=ko.utils.arrayFirst(e,(function(e){return 1===e.nodeType}));f(!0),IMHome.core.afterRepaint({element:t,success:function(){d(!0),m.addSubscription({event:"global/keyup",action:S}),m.addSubscription({event:"global/keydown",action:k})}}),setTimeout((function(){r(!0)}),300),y(n),n.addListener(y)},closeMessageDialog:w,sendMessage:x,removeUserFromSelected:function(e){var t=R.find(R.propEq("id",e.id),g());g.remove(t)}};function y(e){e.matches?t(1):t(9)}function w(){d(!1),setTimeout((function(){!0===d()&&e.dialogClassActive(!1)}),1e3),r(!1),m.unsubscribeAll()}function x(t){var n=function(e,t){var n={messageSubject:e.messageSubject(),messageBody:e.messageBody()};return n.toUsers=ko.utils.arrayMap(e.selectedUsers(),(function(e){return{id:e.id}})),null!==t&&(n=t(n)),n}(t,e.addUniqueSendMessageProperties);IMHome.core.postJSON(e.urls.sendMessage,n).then((function(e){e.success&&(w(),$.publish("message/messageSent"))}))}function _(e){return R.merge(e,{initial:e.userInitial,colorClass:IMHome.message.getUserImHomeUICodeCssClass(e),text:e.displayName})}function k(e,t){27===t.keyCode&&!0===p()&&h(!0)}function S(e,t){27===t.keyCode&&(!1===h()&&w(),h(!1))}},IMHome=IMHome||{},IMHome.message=$.extend(IMHome.message||{},function(){"use strict";return{getUserImHomeUICodeCssClass:function(e){return"color-user-"+(e.userIMHomeUICode||e.id%20+1)}}}()),IMHome.message=IMHome.message||{},IMHome.message.ListItem=function(e){var t="General"===e.messageContextType?"Message":e.messageContextType,n=e.id,r=e.sentUser.profileImageUrl,i=e.messageType,o=e.sentUser,a=e.messageSubject,s=e.timeSent,l=e.sentUser.displayName,c=e.sentUser.hasProfileImage,u=e.sentUser.userInitial,d=IMHome.message.getUserImHomeUICodeCssClass(o),f=ko.observable(!1),p=ko.observable(e.isNew),h=ko.observable(!1),m=IMHome.core.getSvgIconIdFromContextType(t);return{id:n,profileImageUrl:r,messageType:i,sentUser:o,messageSubject:a,timeSent:s,displayName:l,hasProfileImage:c,initial:u,colorClass:d,active:f,isNew:p,removing:h,onRemovedFromList:function(){h(!1),$.publish("message/listItem/removed",n)},svgIconId:m}},IMHome.message=IMHome.message||{},IMHome.message.Message=function(e){"use strict";var t,n=this,r=null;t="General"===(e=$.extend({id:null,messageContextType:"General",messageContextTypeTitle:"",taskVersionPupilAssignmentId:null,profileImageUrl:"",currentUserIM2Id:null,user:{id:null,type:"pupil",hasProfileImage:!1},messageSubject:"",messageBody:"",messageBodyPlainText:"",toUsers:[],sentUser:"",timeSent:"",messageFolder:"Inbox"},e)).messageContextType?"Message":e.messageContextType,n.id=e.id,n.messageContextType=e.messageContextType,n.messageContextTypeTitle=e.messageContextTypeTitle,n.sentUser=e.sentUser,n.profileImageUrl=e.sentUser.profileImageUrl,n.hasProfileImage=e.sentUser.hasProfileImage,n.timeSent=e.timeSent,n.fromUser=e.fromUser,n.messageFolder=e.messageFolder,n.initial=e.sentUser.userInitial,n.colorClass=IMHome.message.getUserImHomeUICodeCssClass(n.sentUser),n.deepLinkText=null,n.isOutbox="Outbox"===e.messageFolder,n.messageBodyPlainText=e.messageBodyPlainText,n.canDelete=ko.observable(!0),IMHome.core.isNullOrEmpty(e.sentUser)||!0!==e.sentUser.senderUserIsCSU||(n.isOutbox=!0),n.messageSubject=ko.observable(e.messageSubject),n.messageBody=ko.observable(e.messageBody),n.othersIsVisible=ko.observable(!1),n.toUsers=ko.observableArray(e.toUsers),n.deepLinkVisible=ko.observable(!1),n.contextItemDeleted=ko.observable(!1),n.svgIconId=IMHome.core.getSvgIconIdFromContextType(t),n.isOutbox?(n.firstToUser=e.toUsers.shift().displayName,n.others=ko.observableArray(e.toUsers)):(n.others=ko.observableArray(),e.toUsers.length>1&&n.others(ko.utils.arrayFilter(e.toUsers,(function(e){return!1===e.isCurrentUser})))),n.othersCount=ko.observable(n.others().length),n.showOthers=ko.computed((function(){return n.othersCount()>0})),n.deepLinkClick=function(){location.hash=r},function(){switch(e.messageContextType){case"Task":!function(e){null!==e.deepLinkId?(r=e.deepLinkBase+e.deepLinkId,n.deepLinkText=e.deepLinkTranslation,n.deepLinkVisible(!0)):(n.contextItemDeletedNotification=e.contextItemDeletedNotification,n.contextItemDeleted(!0))}({deepLinkId:e.taskVersionPupilAssignmentId,deepLinkBase:"/task/show/",deepLinkTranslation:e.translations.viewTaskDetails,contextItemDeletedNotification:e.translations.taskDeletedNotification});break;default:r=null}}()},IMHome.parentmeeting=IMHome.parentmeeting||{},IMHome.parentmeeting.App=function(e){var t=this,n=e.translations,r=e.urls,i=e.maxTeacherMessageChars,o=e.maxMeetingsPerPupil,a=IMHome.core.constants.TILES.PARENT_MEETING;IMHome.core.setTitleTag(a);var s=IMHome.core.createTextareaCountLimiter("",i).textInput,l=ko.observableArray([]),c=ko.observableArray([]),u={teacher:n.teacher,teachers:n.teachers,room:n.room,nameSeparator:n.nameSeparator};function d(){IMHome.core.postJSON(r.listData).then((function(e){l(e.scheduledMeetings),c(e.availableMeetings)}))}function f(e){var t=e.meeting;m({title:n.cancelAppointment,confirmText:n.confirmCancelAppointment,showMessage:!1,meeting:t,cancelBtnText:n.abortCancel,confirmBtnText:n.yesCancel}).then((function(e){IMHome.core.postJSON(r.cancel,{id:e.id}).then((function(e){e.success&&d()}))}))}function p(e){var t=e.meeting;s(t.message),m({title:n.updateParentMeeting,messageLabel:n.messageToTeacher,showMessage:!0,meeting:t,cancelBtnText:n.cancel,confirmBtnText:n.update}).then((function(e){var t=$.extend({},{id:e.id,message:s()});IMHome.core.postJSON(r.update,t).then((function(e){e.success&&d()}))}))}function h(e){var t=e.meeting;m({title:n.bookParentMeeting,messageLabel:n.messageToTeacher,showMessage:!0,meeting:t,cancelBtnText:n.cancel,confirmBtnText:n.book}).then((function(e){var t=$.extend({},{id:e.id,message:s()});IMHome.core.postJSON(r.create,t).then((function(e){e.success&&d()}))}))}function m(e){var t=e.title,n=e.messageLabel,r=e.showMessage,i=e.meeting,o=e.confirmText,a=e.cancelBtnText,l=e.confirmBtnText,c=$.Deferred();return IMHome.core.showDialog(new IMHome.core.Dialog({title:t,dialogCssClass:"parent-meeting-editor",contentsTemplate:"t_parentMeetingEditor",contentsModel:{showConfirmText:!IMHome.core.isNullOrEmpty(o),confirmText:o,messageLabel:n,message:s,showMessage:r,meeting:{meeting:i,translations:u}},buttons:[{cssClasses:"bn",text:a,click:function(){c.reject(),s(""),IMHome.core.hideDialog()}},{cssClasses:"bn-primary",text:l,click:function(e){var t=e.context;c.resolve(t),s(""),IMHome.core.hideDialog()},context:i}]})),c.promise()}function g(e){return e.teachers.length>1?n.teachers:n.teacher}t.appName=a,t.templatePath=IMHome.core.getTemplatePath(a),t.compactViewActive=ko.observable(!1),t.noResults=ko.observable(!1),t.translations=n,t.scheduledMeetingsListItems=ko.computed((function(){return l().map((function(e){var t=$.extend({},e,{teacherLabel:g(e)});return{meeting:t,translations:u,actions:[{text:n.cancelAppointment,click:f,meeting:t,disabled:!t.canCancel},{text:n.update,click:p,meeting:t,disabled:!t.canUpdate}]}}))})),t.availableMeetingsListItems=ko.computed((function(){return c().map((function(e){var t=$.extend({},e,{teacherLabel:g(e)});return{meeting:t,translations:u,actions:[{text:n.book,click:h,meeting:t,disabled:!t.canBook||l().length>=o}]}}))})),t.init=function(){l(e.scheduledMeetings),c(e.availableMeetings);var n=[{event:"route",action:$.proxy(t.onRouteChange,t)}];t.appSubscriptionList=new IMHome.core.SubscriptionList(n),IMHome.core.triggerNotificationUpdate([IMHome.home.homeData.notificationTypeMap.parentMeetingAvailable])}},IMHome.parentmeeting=IMHome.parentmeeting||{},IMHome.parentmeeting.ListItem=function(e){"use strict";var t=this;t.id=e.id,t.title=e.title,t.description=e.description,t.active=ko.observable(!1)},IMHome.parentmeeting.ParentMeeting=function(e){"use strict";var t=e.translations,n=e.meeting;this.id=n.id,this.translations=t},IMHome.preferences=IMHome.preferences||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.preferences,r=arguments.length>1?arguments[1]:void 0;n.App=function(e){var i=t.constants.TILES.PREFERENCES;IMHome.core.setTitleTag(i);var o=[],a=t.getTemplatePath(i),s=e.translations,l=e.privacyUrl,c=ko.observable(!1);void 0!==e.sections.privacy&&(o.privacy=n.createPrivacyPage(e.sections.privacy)),void 0!==e.sections.accountSettings&&(o.accountSettings=n.createAccountSettingsPage(e.sections.accountSettings)),void 0!==e.sections.personal&&(o.personal=n.createPersonalPage(e.sections.personal,e.translations)),void 0!==e.sections.pushNotifications&&(o.pushNotifications=n.createPushNotificationsPage(e.sections.pushNotifications));return{codeName:i,sections:o,templatePath:a,translations:s,privacyUrl:l,compactViewActive:c,hideItem:function(){Sammy().setLocation("#/".concat(i))},init:function(){for(var e in o)o.hasOwnProperty(e)&&(o[e].active=ko.observable(!1));!1===IMHome.core.isMobile()&&d(),$.subscribe("route",m)},navigationClick:h,destroy:function(){$.unsubscribe("route",m)}};function u(e){for(var t in e)e.hasOwnProperty(t)&&e[t].active(!1)}function d(){new RegExp("^#/".concat(i,"/?$")).test(location.hash)&&(u(o),void 0!==o.personal?h(o.personal):void 0!==o.accountSettings?h(o.accountSettings):void 0!==o.privacy&&h(o.privacy))}function f(e){return r.pipe(r.toPairs,r.find((function(t){return t[0].toLowerCase()===e.toLowerCase()})),r.last)(o)}function p(e){u(o),e.active(!0),c(!0)}function h(e){var t=ko.unwrap(e.codeName);Sammy().setLocation("#/".concat(i,"/").concat(t))}function m(e,t){var n=t.params;!1===r.isNil(n.action)?r.pipe(f,p)(n.action):(c(!1),IMHome.core.isMobile()?setTimeout((function(){u(o)}),500):d())}}}(IMHome,R),IMHome.preferences=IMHome.preferences||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.preferences,n=e.core,r=arguments.length>1?arguments[1]:void 0;t.createAccountSettingsPage=function(e){var t=e.title,i=r.observableArray(e.languageOptions),o=r.observable(r.utils.arrayFirst(i(),(function(e){return!0===e.selected}))),a=r.observable(o().key),s=e.urls,l=r.observable(l);return{codeName:e.codeName,languageOptions:i,selectedLanguage:o,selectedLanguageKey:a,username:l,saveAccountSettings:function(){return n.postJSON(s.save,{languageId:a()}).then((function(e){!0===e.success&&window.location.reload()}))},title:t}}}(IMHome,ko),IMHome.preferences=IMHome.preferences||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.preferences,n=e.core,r=arguments.length>1?arguments[1]:void 0;t.createPersonalPage=function(e,t){var i=r.observable(e.email),o=r.observable(e.email),a=r.observable(e.userTitle),s=r.observable(e.fullName),l=r.observable(e.firstName),c=r.observable(e.lastName),u=r.observable(e.city),d=r.observable(e.postCode),f=r.observable(e.homeAddress),p=r.observable(e.telMobile),h=r.observable(e.telHome),m=r.observable(e.telWork);return{firstName:l,lastName:c,fullName:s,confirmEmail:o,email:i,savePersonalDetails:function(){(function(){var e=[],n=!0;IMHome.core.isNullOrEmpty(o())||0===o().length&&0!==i().length?(e.push({type:"error",title:t.emailEmpty}),n=!1):i()!==o()&&(e.push({type:"error",title:t.emailsNotMatch}),n=!1);!1===n&&$.publish("alerts",[e]);return n})()&&n.postJSON(n.baseUrl+"Account/PersonalDetails/Save",{firstName:l(),lastName:c(),fullName:s(),confirmEmail:o(),email:i(),userTitle:a(),city:u(),postCode:d(),homeAddress:f(),telMobile:p(),telHome:h(),telWork:m()})},userTitle:a,city:u,postCode:d,homeAddress:f,telMobile:p,telHome:h,telWork:m,title:e.title,codeName:e.codeName,fullNameVisible:e.fullNameVisible,userTitleEditable:e.userTitleEditable,userTitleVisible:e.userTitleVisible,firstNameVisible:e.firstNameVisible,firstNameRequired:e.firstNameRequired,firstNameEditable:e.firstNameEditable,lastNameVisible:e.lastNameVisible,lastNameRequired:e.lastNameRequired,lastNameEditable:e.lastNameEditable,homeAddressVisible:e.homeAddressVisible,homeAddressRequired:e.homeAddressRequired,homeAddressEditable:e.homeAddressEditable,cityVisible:e.cityVisible,cityRequired:e.cityRequired,cityEditable:e.cityEditable,postCodeVisible:e.postCodeVisible,postCodeRequired:e.postCodeRequired,postCodeEditable:e.postCodeEditable,autoCompletePostcodes:e.autoCompletePostcodes,emailVisible:e.emailVisible,emailRequired:e.emailRequired,emailEditable:e.emailEditable,showEmailAsUsernameMessage:e.showEmailAsUsernameMessage,mobileTelephoneVisible:e.mobileTelephoneVisible,mobileTelephoneRequired:e.mobileTelephoneRequired,mobileTelephoneEditable:e.mobileTelephoneEditable,homeTelephoneVisible:e.homeTelephoneVisible,homeTelephoneRequired:e.homeTelephoneRequired,homeTelephoneEditable:e.homeTelephoneEditable,workTelephoneVisible:e.workTelephoneVisible,workTelephoneRequired:e.workTelephoneRequired,workTelephoneEditable:e.workTelephoneEditable}}}(IMHome,ko),IMHome.preferences=IMHome.preferences||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.preferences,n=e.core,r=arguments.length>1?arguments[1]:void 0;t.createPrivacyPage=function(e){var t=e.pupils,i=r.observable(e.showName),o=r.observable(e.showAddress),a=r.observable(e.showMobile),s=r.observable(e.showPhone),l=r.observable(e.studentId),c=r.observable(e.isChildVisibleInContactList),u=r.observable(e.addressSwitchDisabled),d=e.urls,f=e.onlyShowPrivacyPolicy;return a.subscribe(p),s.subscribe(p),o.subscribe(p),i.subscribe((function(e){!0===e?i(!0):(a(!1),s(!1),o(!1))})),{title:e.title,codeName:e.codeName,pupils:t,showName:i,showAddress:o,showMobile:a,showPhone:s,pupilId:l,isChildVisibleInContactList:c,addressSwitchDisabled:u,savePrivacySettings:function(){var e={ShowName:i(),ShowAddress:o(),ShowPhone:s(),ShowMobile:a(),StudentId:l(),IsChildVisibleInContactList:c()};n.postJSON(d.save,e)},changePupils:function(e,t){n.postJSON(d.changePupilPreference,{pupilId:t.target.value}).done((function(e){i(e.showName),o(e.showAddress),a(e.showMobile),s(e.showPhone),c(e.isChildVisibleInContactList),l(t.target.value),u(e.addressSwitchDisabled)}))},onlyShowPrivacyPolicy:f};function p(e){!0===e&&i(!0)}}}(IMHome,ko),IMHome.preferences=IMHome.preferences||{},function(e,t,n){var r=e.preferences,i=e.core,o=e.init;r.createPushNotificationsPage=function(e){var r=e.notifications,a=e.urls,s=e.title;return{codeName:e.codeName,title:s,notifications:r=n.pipe(n.map((function(e){return n.merge(e,{isSelected:t.observable(e.isSelected),url:i.format(a.updateNotification,e.id,e.appCodeName)})})),t.observableArray)(r),showPupilNameInTitle:o.userRole===i.constants.USER_ROLE.PARENT,pupilName:o.selectedPupilName}}}(IMHome,ko,R),IMHome.survey=IMHome.survey||{},IMHome.survey.App=function(e){var t=IMHome.survey.constants.ROUTE_ACTIONS,n=this,r=e.urls,i=e.translations,o=IMHome.core.constants.TILES.SURVEY;IMHome.core.setTitleTag(o);var a,s=IMHome.core.getURLParameters().returnHash||"/#/";function l(e,r){var i=r.params;i.action===t.SHOW&&function(e,t,r){n.getSurvey(e,t,r,-1,-1,!0).then((function(e){n.compactViewActive(!0),$.each(e.surveyApiQuestionAnswerList,(function(e,t){this.questionOrderNo=t.questionOrder+".",0!==t.responseId&&n.editAnswers(!1)})),n.showSurvey(R.merge(e,{editAnswers:n.editAnswers}))}))}(i.survey,i.assignment,i.isUol)}n.compactViewActive=ko.observable(!1),n.templatePath=IMHome.core.getTemplatePath(o),n.translations=i,n.addingNewItem=ko.observable(!1),n.currentPage=ko.observable(-1),n.totalQuestions=ko.observable(),n.nextItem=ko.observable(),n.editAnswers=ko.observable(!0),n.eventIsEditable=ko.observable(!1),n.completeSurveyClick=function(e){var t,i={surveyId:(t=e).id,surveyAssignmentId:t.surveyAssignmentId,isUol:t.isUol,totalQuestions:t.totalQuestions,totalQuestionAnswersList:t.totalQuestionAnswerList()};n.editAnswers(!1),IMHome.core.postJSON(r.saveSurveyAnswer,i).then((function(e){!0===e.isValid?n.eventIsEditable(!0):(n.eventIsEditable(!1),n.editAnswers(!0))}))},n.surveyPostedClick=function(){location.href=s},n.getSurvey=function(e,t,n,i,o,a){return $.getJSON(r.getSurveys,{id:e,surveyAssignmentId:t,showUolIcon:n,currentPage:i,totalQuestions:o,isSurvey:a}).then((function(e){return IMHome.core.triggerNotificationUpdate([IMHome.home.homeData.notificationTypeMap.surveyAssigned,IMHome.home.homeData.notificationTypeMap.parentSurveyAssigned]),e}))},n.showSurvey=function(e){e.noResults||n.nextItem(IMHome.survey.createSurvey(e))},n.destroy=function(){a.unsubscribeAll()},n.newItemRendered=function(){n.addingNewItem(!1),setTimeout((function(){n.addingNewItem(!0)}),100)},n.init=function(){var e=[{event:"route",action:l},{event:"appClosed",action:n.destroy}];a=new IMHome.core.SubscriptionList(e)}},IMHome.survey=IMHome.survey||{},IMHome.survey.constants={ROUTE_ACTIONS:{SHOW:"show"}},IMHome.survey=IMHome.survey||{},IMHome.survey.createSurvey=function(e){var t=e.id,n=e.translations,r=e.title,i=e.publishDate,o=e.dueDate,a=e.entityType,s=e.welcomeMessage,l=e.description,c=e.endMessage,u=e.publishedBy,d=e.dueLocalization,f=e.surveyAssignmentId,p=e.showUolIcon,h=e.uolOrGroupTitle,m=e.editAnswers,g=e.hasDueDatePassed;return{id:t,translations:n,title:r,publishDate:i,dueDate:o,type:a,welcomeMessage:s,description:l,endMessage:c,publishedBy:u,dueLocalization:d,surveyAssignmentId:f,isUol:p,uolOrGroupTitle:h,totalQuestionAnswerList:ko.observable(e.surveyApiQuestionAnswerList),canEdit:!0===m()&&!1===g}},IMHome.portfolio=IMHome.portfolio||{},IMHome.portfolio.App=function(e){var t,n,r=IMHome,i=r.core,o=r.portfolio,a=r.home,s=i.constants.TILES.PORTFOLIO,l="filter",c=e.urls,u=e.translations,d=e.isShowCourses,f=e.semesterTypeList,p=f.pupilPortfolioSemester,h=void 0===p?[]:p,m=f.currentStartDate,g=f.currentEndDate,v=f.currentSemesterType,b=R.ifElse(R.anyPass([i.isNullOrEmpty,R.equals("null"),R.equals("undefined"),R.isNil]),R.always(""),R.identity),y=ko.observableArray(h.map((function(e){return R.merge(e,{id:e.semesterType})}))),w=ko.observable(!1);n=o.createPortfolioList({items:[],itemFactory:i.factoryInjector(o.createPortfolioCard,{translations:{by:u.commonBy}}),onItemClick:function(e){return o.createDialog({translations:u,urls:c,portfolioItem:e,portfolioList:n,isPortfolioItemDialogOpen:w}).init()},fetchItems:function(e){return i.postFormattedJSON(c.getPortfoliosBySemester,R.pipe(R.merge({isShowCourses:d,isCompactView:!1}),ko.toJS),e).then((function(e){return i.triggerNotificationUpdate([a.homeData.notificationTypeMap.portfolioNew]),e}))}});var x=o.createCourseSubjectFilter({itemsToFilter:n.items,filterOptionsComputed:ko.pureComputed((function(){return R.pipe(R.pluck("courseSubjectList"),R.flatten)(n.items())}))}),_=o.createPortfolioFilter({translations:u,items:y,selectedItem:i.getById(y(),b(v)),startDate:m,endDate:g,endDateLabel:u.commonTo,onSelectedItemChange:function(e){i.isNullOrEmpty(e)||T({semesterType:e.semesterType})},onDateRangeChange:function(e){T({semesterType:null,startDate:e.startDate,endDate:e.endDate})}}),k=ko.pureComputed((function(){return x.filterOptions().length>5?3:10}));return{init:function(){var e=i.getById(y(),v),r=e.startDate,o=e.endDate,a=e.semesterType;n.fetchAndUpdateItems({semesterType:a,startDate:r,endDate:o}),x.init(),_.init(),t=new i.SubscriptionList([{event:"route",action:S}])},destroy:function(){n.destroy(),t.unsubscribeAll()},pageTitle:u.portfolioHeaderTitle,isPortfolioItemDialogOpen:w,portfolioList:n,courseSubjectFilter:x,portfolioFilter:_,maxSubjectNameLength:k};function S(e,t){var r=t.params,o=t.initialRoute,a=void 0!==o&&o,s=R.map(b,r),c=s.semesterType,u=s.startDate,d=s.endDate,f=s.courseSubjectId,p=s.courseSubjectTitle,h=s.id,m=R.complement(i.isNullOrEmpty);if(h===l&&!a)if(m(c))if(m(f)||m(p)){var g=i.getById(y(),c),v=g.startDate,w=g.endDate,x=g.semesterType;n.fetchAndUpdateItems({semesterType:x,startDate:v,endDate:w,courseSubjectId:f,courseSubjectTitle:p})}else{var k=i.getById(y(),c),S=k.startDate,T=k.endDate,I=k.semesterType;n.fetchAndUpdateItems({startDate:S,endDate:T,semesterType:I}).then((function(){_.updateSelectedItemById(c)}))}else m(u)&&m(d)&&n.fetchAndUpdateItems({startDate:u,endDate:d,semesterType:c}).then((function(){_.updateSelectedDateRange({startDate:u,endDate:d})}))}function T(e){var t=R.map(R.pipe(ko.unwrap,(function(e){return e+""})),e||{});window.location.hash=i.buildUrl("/documentation/".concat(s,"/").concat(l),t)}},IMHome.portfolio=IMHome.portfolio||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.portfolio;n.createCourseSubjectFilter=function(e){var n=e.filterOptionsComputed,r=ko.observableArray(a(n())),i=t.defaultObservableArray([],e.itemsToFilter);return{init:function(){n.subscribe((function(e){r(a(e))}))},filterOptions:r};function o(e){e.isActive(!e.isActive());var t=R.pipe(ko.toJS,R.filter(R.prop("isActive")),R.pluck("fullName"))(r()),n=R.pipe(R.prop("courseSubjectList"),R.pluck("fullName"),ko.toJS,R.any(R.contains(R.__,t))),o=R.ifElse(R.isEmpty,(function(){return function(e){return e.isVisible(!0)}}),(function(){return function(e){return e.isVisible(n(e))}}))(t);i().forEach(o)}function a(e){var t=R.curry((function(e,t){return t.filter((function(t,n){return R.indexOf(ko.toJS(t),e)===n}))})),n=R.curry((function(e,t){var n=R.pipe(R.filter(R.equals(ko.toJS(t))),R.length)(e),r=ko.observable(!1);return R.merge(t,{count:n,countIsVisible:n>1,click:o,isActive:r})})),r=ko.toJS(e);return R.pipe(t(r),R.map(n(r)))(e)}}}(IMHome),IMHome.portfolio=IMHome.portfolio||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.portfolio;n.createDialog=function(e){var r=e.urls,i=e.translations,o=e.portfolioItem,a=e.portfolioList,s=e.isPortfolioItemDialogOpen,l="".concat(r.getPortfolioDetail).concat(o.id),c={urls:{postComment:r.savePortfolioComment,deleteComment:r.deleteComment},translations:t.renameKeys({viewMoreCommets:"showAllButtonText",viewLessCommets:"hideButtonText",save:"update"},i),canComment:!0,connectionType:"Portfolio"};return{init:function(){return t.postJSON(l).then((function(e){var r=e.portfolioDetail,i=void 0===r?{}:r,o=n.createViewerDetails(i),l=new IMHome.component.timeline.CommentThread(_objectSpread(_objectSpread({},c),{},{connectionId:i.id,comments:i.comment}));return t.getDialogApi().then((function(e){e.setTitle(i.title),e.setTemplateName("t_portfolioDialog"),e.setData({viewerDetails:o,commentThread:l,onClose:u}),e.setSize(t.constants.DIALOG_SIZES.NORMAL),e.open("documentation-portfolio-dialog"),s(!0)}));function u(){var e=l.comments().length,t=a.activeItem();null==t||t.commentCount(e),a.activeItem(null),s(!1)}}))}}}}(IMHome),IMHome.portfolio=IMHome.portfolio||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.portfolio;n.createPortfolioCard=function(e){var n=e.translations,r=void 0===n?{}:n,i=e.id,o=void 0===i?null:i,a=e.courseSubjectId,s=e.courseSubjectTitle,l=e.courses,c=e.extensionType,u=e.fileExtension,d=e.subjects,f=e.updatedDate,p=e.onClick,h=void 0===p?t.noop:p,m=t.defaultObservable(null,e.commentCount),g=t.defaultObservable(null,e.title),v=t.defaultObservable(!0,e.isVisible),b=e.courseSubjectList.map((function(e){var n=t.defaultObservable(null,e.fullName),r=t.defaultObservable(null,e.shortName),i=ko.pureComputed((function(){return t.isNullOrEmpty(r())?n():r()}));return R.merge(e,{shortName:r,fullName:n,displayedName:i})})),y=t.defaultObservable(null,e.fileType),w=t.defaultObservable(!1,e.hasTileImage),x=t.defaultObservable(null,e.tileImage),_=ko.pureComputed((function(){return t.getIconTemplateFromFileType(y())})),k=t.defaultObservable("",e.updatedDateFormat),S=t.defaultObservable("",e.updatedBy),T=ko.pureComputed((function(){return"".concat(k()," ").concat(r.by," ").concat(S())})),I=t.defaultObservable(!1,e.active);return{translations:r,id:o,courseSubjectId:a,courseSubjectTitle:s,courses:l,extensionType:c,fileExtension:u,subjects:d,updatedDate:f,onClick:h,commentCount:m,title:g,isVisible:v,courseSubjectList:b,fileType:y,hasTileImage:w,tileImage:x,iconTemplateName:_,updatedDateFormat:k,updatedBy:S,timeStamp:T,active:I}}}(IMHome),IMHome.portfolio=IMHome.portfolio||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.portfolio;n.createPortfolioFilter=function(e){var n=e.translations,r=t.defaultObservable(!1,e.isOpen),i=t.defaultObservableArray([],e.items),o=t.defaultObservable(null,e.selectedItem).extend({deferred:!0}),a=ko.pureComputed((function(){return!t.isNullOrEmpty(o())})),s=ko.observable(e.startDate).extend({deferred:!0}),l=ko.observable(e.endDate).extend({deferred:!0}),c=e.endDateLabel;return{init:function(){a()&&d();t.dateOverlapGuard(s,l),o.subscribe(e.onSelectedItemChange);var n=function(){var n=s(),i=l(),o=R.complement(t.isNullOrEmpty);o(n)&&o(i)&&(e.onDateRangeChange({startDate:t.formatDateToStandardFormat(n),endDate:t.formatDateToStandardFormat(i)}),r(!1))};s.subscribe(n),l.subscribe(n)},title:ko.pureComputed((function(){var e=o(),n=s(),r=l();return R.ifElse(t.isNullOrEmpty,(function(){var e=t.formatDateToLocaleFormat(n),i=t.formatDateToLocaleFormat(r);return"".concat(e,"-").concat(i)}),(function(e){return e.semesterType}))(e)})),show:t.defaultObservable(!0,e.show),click:function(){r(!r())},translations:n,isOpen:r,items:i,itemClick:function(e){return u(e.id),!1},updateSelectedItemById:u,updateSelectedDateRange:function(e){var t=e.startDate,n=e.endDate;o(null);var r=new Date(t),i=new Date(n);moment(r).isValid()&&s(r);moment(i).isValid()&&l(i)},startDate:s,endDate:l,endDateLabel:c};function u(e){o(t.getById(i(),e)),d(),r(!1)}function d(){s(""),l("")}}}(IMHome),IMHome.portfolio=IMHome.portfolio||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.portfolio;n.createPortfolioList=function(e){var n=e.fetchItems,r=e.items,i=t.factoryInjector(e.itemFactory,{onClick:function(t){e.onItemClick.apply(null,arguments),o.activeItem(t)}}),o=t.ItemList({itemData:r,ItemConstructor:i});return R.merge(o,{fetchAndUpdateItems:R.pipeP(n,(function(e){return R.pipe(R.pathOr([],["pagedList","items"]),(function(e){return o.updateItems({items:e})}))(e)}))})}}(IMHome),IMHome.portfolio=IMHome.portfolio||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.portfolio;n.createViewerDetails=function(e){var n=e.urls,r=e.translations,i=e.publishDate,o=e.title,a=e.fileName,s=e.publisherUser,l=void 0===s?{}:s,c=e.pupil,u=void 0===c?{}:c;return{urls:n,translations:r,originalImage:t.defaultObservable(null,e.originalImage),publishDate:i,title:o,fileType:e.fileType.toLowerCase(),fileExtension:e.fileExtension.substring(1),fileName:a,extensionType:e.extensionType.toLowerCase(),publishedBy:l.displayName,pupilDisplayName:u.displayName,publisherUser:l,pupil:u,courseSubjectList:function(e){var n=t.defaultObservableArray([],e.items),r=ko.pureComputed((function(){return R.ifElse(R.propEq("length",1),R.pipe(R.head,R.prop("fullName")),R.pipe(R.pluck("shortName"),R.join(", ")))(n())}));return{items:n,stringValue:r}}({items:e.courseSubjectList})}}}(IMHome),IMHome.timeregistration=IMHome.timeregistration||{},function(e){var t=IMHome.timeregistration;t.App=function(e){var n=e.translations,r=IMHome.core.constants.TILES.TIME_REGISTRATION;IMHome.core.setTitleTag(r);var i=null,o=t.createWeekSwitcher({initialDate:new Date,getEntriesUrl:e.urls.getCalendarData,translations:{lastWeek:n.lastWeek,jumpToWeek:n.jumpToWeek,nextWeek:n.nextWeek,week:n.week},onChange:function(e){i&&i.toDateString()===e.toDateString()||(i=e,window.dispatchEvent(new CustomEvent("imr-timeRegistration-weekChange",{detail:new Date(e)})))}}),a={uiRoute:"IMH/timeRegistration",elementId:"time-registration-react-root",data:e},s=function(){var e,t=0,n=function(){clearInterval(e)},r=function(){n(),window.phoenixInitializer&&window.phoenixInitializer(a)};e=setInterval((function(){var e=null!==document.getElementById(a.elementId),i="function"==typeof window.phoenixInitializer;e&&i?r():t++,t>20&&n()}),10)};return{init:function(){s(),o.init()},destroy:function(){o.destroy(),window.phoenixDestroyer&&window.phoenixDestroyer(a.uiRoute)},headingText:n.headerTimeReg,weekSwitcherViewModel:o.viewModel}}}(),IMHome.timeregistration=IMHome.timeregistration||{},function(e){var t=e.timeregistration,n=e.core;t.createDatePicker=function(e){var t=e.getEntriesUrl,r=e.externalDateObservable,i=ko.observable(r()),o=n.debounce((function(e){var t=function(e){var t=e.calendars[0];return"".concat(t.year,"-").concat(t.month+1)}(e);if(a[t]){var n=a[t].lastUpdated,r=new Date;r-n>6e4?s(e,t):l(e)}else s(e,t)}),300,{leading:!0,trailing:!0}),a={},s=function(e,n){IMHome.core.postJSON(t,{month:n}).then((function(t){a[n]={events:t,lastUpdated:new Date},l(e)}))};return{pikadayDate:i,pikadayOptions:{onSelect:function(e){if(this.isVisible()){var t=e.getDate()-e.getDay()+1;r(new Date(e.setDate(t)))}},onOpen:function(){i(r())},onClose:function(){},onDraw:o,showWeekNumber:!0,pickWholeWeek:!0,showDaysInNextAndPreviousMonths:!0}};function l(e){var t=e.el;Object.values(a).reduce((function(e,t){var n=t.events;return[].concat(_toConsumableArray(e),_toConsumableArray(n))}),[]).forEach((function(e){var n,r=e.split("-").map((function(e){return parseInt(e)})),i=_slicedToArray(r,3),o=i[0],a=i[1],s=i[2],l='[data-pika-year="'.concat(o,'"][data-pika-month="').concat(a-1,'"][data-pika-day="').concat(s,'"]');null===(n=t.querySelector(l))||void 0===n||n.parentNode.classList.add("has-event")}))}}}(IMHome),IMHome.timeregistration=IMHome.timeregistration||{},function(e){var t=IMHome.timeregistration;t.createWeekSwitcher=function(e){var n,r=e.initialDate,i=e.translations,o=e.getEntriesUrl,a=e.onChange,s=getUTCBeginningOfWeek(r),l=ko.observable(s),c=t.createDatePicker({getEntriesUrl:o,externalDateObservable:l});window.addEventListener("imr-timeRegistration-goToThisWeek",(function(){return l(thisWeeksDate)}));return{viewModel:{datePickerConfig:c,selectedDate:l,translations:i},init:function(){n=l.subscribe(a,null,"change"),a(l())},destroy:function(){n.dispose()}}}}(),IMHome.task=IMHome.task||{},IMHome.task.Activity=function(e){"use strict";var t=this;t.id=e.id,t.type=e.type.toLowerCase(),t.text=e.text,t.date=e.date,t.user=e.user,t.deleted=ko.observable(e.deleted),t.url=e.url,t.plagiarismOptoutUrl=e.plagiarismOptoutUrl,t.deleteFile=function(){if(IMHome.init.impersonation)return!1;$.publish("task/activity/delete",t)}},IMHome.task=IMHome.task||{},IMHome.task.App=function(e){var t=IMHome.core.constants.TILES.ASSIGNMENTS;IMHome.core.setTitleTag(t);var n,r,i=IMHome.task.constants,o=i.TASK_STATUS,a=i.ROUTE_ACTIONS,s=this,l=e.maxMessageSubjectChars,c=e.urls,u=e.filterOption,d=e.translations.dateFormat,f=e.maxUploadSize,p=e.allowedExtensions,h={total:e.taskResults.totalOverdue,allResultsLoaded:ko.observable(!1)},m={total:e.taskResults.totalDue,allResultsLoaded:ko.observable(!1)},g={total:e.taskResults.totalDone,allResultsLoaded:ko.observable(!1)},v=null,b=0,y={academicYearId:u.academicYears.options.filter((function(e){return!0===e.Selected})).Key,subjects:u.subjects.options.filter((function(e){return!0===e.Selected})).Key,teachers:u.teachers.options.filter((function(e){return!0===e.Selected})).Key,courses:u.courses.options.filter((function(e){return!0===e.selected})).Key},w=ko.observable();$.extend(s,IMHome.core.defaultAppMethods),s.listRequestPending=ko.observable(!1),s.translations=e.translations,s.templatePath=IMHome.core.getTemplatePath(t),s.userRestricted=e.isRestricted,s.canSendMessages=e.canSendMessages,s.activeItem=ko.observable(null),s.nextItem=ko.observable(null),s.compactViewActive=ko.observable(!1),s.addingNewTask=ko.observable(!1),s.noResults=ko.observable(!1),s.encouragementIcon=ko.observable(null),s.filter={academicYearsSelectList:new IMHome.core.SelectList(u.academicYears),subjectsSelectList:new IMHome.core.SelectList(u.subjects),teachersSelectList:new IMHome.core.SelectList(u.teachers),coursesSelectList:new IMHome.core.SelectList(u.courses),showCoursesFilter:u.showCoursesFilter},s.overdueCount=ko.observable(h.total),s.dueCount=ko.observable(m.total),s.doneCount=ko.observable(g.total),s.viewingOverdue=ko.observable(),s.viewingDue=ko.observable(),s.viewingDone=ko.observable(),r=ko.computed({read:function(){return!0===s.viewingOverdue()?o.OVERDUE:!0===s.viewingDue()?o.DUE:o.DONE},write:function(e){s.viewingOverdue(e===o.OVERDUE),s.viewingDue(e===o.DUE),s.viewingDone(e===o.DONE)}});var x=" <i class='fa fa-angle-double-right'></i> ";function _(e,t){var n,i=t.params;s.addingNewTask(!1),"show"===i.action&&s.selectItem(i.id).then((function(e){var t=e.status.toLowerCase();t!==r()&&r(t)})),"status"===i.action&&(n=i.id,r(n),!1===IMHome.core.isCompactView()&&I(n))}function k(e,t){IMHome.core.postJSON(c.deleteHandIn,{id:t.id}).then((function(e){!1!==e.success&&t.deleted(!0)}))}function S(e,t){IMHome.core.postJSON(c.setNote,{id:t.id,note:t.note()})}function T(e){return ko.utils.arrayMap(e,(function(e){var t=new IMHome.task.ListItem(e);return t.active=ko.computed((function(){return null!==s.nextItem()&&t.id===parseInt(s.nextItem().id)||null!==s.activeItem()&&t.id===parseInt(s.activeItem().id)})),t}))}function I(e){var t;switch(e){case o.OVERDUE:t=s.overdueItems();break;case o.DUE:t=s.dueItems();break;case o.DONE:t=s.doneItems()}setTimeout((function(){t.length>0?s.selectItem(t[0].id):(b++,s.showTask({noResults:!0,translations:{noResultsMessage:s.translations.noResultsMessage}}))}),0)}function E(e){var t=s.currentListItems().filter((function(t){return t.id===parseInt(e)}));return t.length>0?t[0]:null}function C(e,t){t.itemData.append=!1,O(e,t.itemData),s.overdueCount(t.itemData.totalOverdue),s.dueCount(t.itemData.totalDue),s.doneCount(t.itemData.totalDone),h.allResultsLoaded(!1),m.allResultsLoaded(!1),g.allResultsLoaded(!1),s.taskFilterActive(!1)}function O(e,t){var n=T(t.items),r=s.currentListItems;!0===t.append?r(r().concat(n)):r(n)}function M(e,t){var n=E(t.id);n&&(n.pendingStatusChange(t.pendingStatusChange()),!0===n.pendingStatusChange()&&(v=s.activeListItems().indexOf(n)))}function D(e,t){var n=E(t.id);n&&(j(e,t.status(),!0),n.removing(!0))}function P(e){var t=E(e.id);null!==t&&(t.milestoneCount(e.milestones.length),t.milestonesComplete(e.milestones.filter((function(e){return!0===e.isDone})).length))}function A(e,t){P(t)}function N(e,t,n){var r=t.milestones().map((function(e){var t=IMHome.core.formatDateToStandardFormat(e.date());return R.assoc("date",t,e)}));IMHome.core.isNullOrEmpty(n)||r.push(n),IMHome.core.postJSON(c.editMilestones,{id:t.id,milestones:ko.toJS(r)}).then((function(){s.getTask(t.id).deferred.then((function(e){$.publish("task/milestone/update",e)}))}))}function H(e,t,n){IMHome.core.postJSON(c.setMilestoneStatus,{id:n.id,isDone:n.isDone()}).then((function(){s.getTask(t.id).deferred.then((function(e){P(e)}))}))}function L(){var e=s.activeListItems();return v<e.length?s.selectItem(e[v].id):e.length>0?s.selectItem(e[v-1].id):void(!1===IMHome.core.isCompactView()?setTimeout((function(){I(r())}),1):s.hideTask())}function j(e,t,n){var r;if(s.activeListItems().length>0){switch(t){case o.OVERDUE:r=s.overdueCount;break;case o.DUE:r=s.dueCount;break;case o.DONE:r=s.doneCount}return r(n?r()+1:r()-1)}}function F(e){switch(e){case o.OVERDUE:w=h.allResultsLoaded;break;case o.DUE:w=m.allResultsLoaded;break;case o.DONE:w=g.allResultsLoaded}}function U(e,t){0===$(t.target).closest(".app-filter, .btn-filter").length&&s.taskFilterActive(!1)}s.currentListItems=ko.observableArray([]),s.listRequestPending=ko.observable(!1),s.showingO365Details=ko.observable(!1),s.office365FileList=ko.observableArray(),s.selectedOffice365FileList=ko.observableArray(),s.folderName=ko.observable(""),s.selectedfolderDetail=ko.observable(e.translations.document),s.isFolderDetailDisplay=ko.observable(!0),s.selectedO365FilePage=ko.observable(1),s.o365PageSize=8,s.preivousO365FilePageVisible=ko.observable(!1),s.nextO365FilePageVisible=ko.observable(!1),s.totalO365Resource=ko.observable(0),s.activeListItems=ko.computed((function(){var e=[];return!0===s.viewingOverdue()&&(e=s.overdueItems()),!0===s.viewingDue()&&(e=s.dueItems()),!0===s.viewingDone()&&(e=s.doneItems()),e})),s.activeListItem=ko.computed((function(){return s.activeListItems().filter((function(e){return!0===e.active()}))[0]||null})),s.selectedTaskIndex=ko.computed((function(){var e=-1;return s.activeListItems().length>0&&(e=s.activeListItems().indexOf(s.activeListItem())),e})),s.pageCount=ko.computed((function(){var e="-";return-1!==s.selectedTaskIndex()&&(e=s.selectedTaskIndex()+1),IMHome.core.format(s.translations.pageCount,e,s.activeListItems().length)})),s.previousButtonIsDisabled=ko.computed((function(){return s.selectedTaskIndex()<=0})),s.nextButtonIsDisabled=ko.computed((function(){return s.selectedTaskIndex()===s.activeListItems().length-1})),s.taskFilterActive=ko.observable(!1),s.datepickerOptions={minDate:new Date},s.overdueItems=ko.computed((function(){return s.currentListItems().filter((function(e){return e.status()===o.OVERDUE}))})),s.dueItems=ko.computed((function(){return s.currentListItems().filter((function(e){return e.status()===o.DUE}))})),s.doneItems=ko.computed((function(){return s.currentListItems().filter((function(e){return e.status()===o.DONE}))})),s.encouragementMessages=ko.computed((function(){var e=[],t=r(),n=s.overdueCount(),i=s.dueCount(),a=s.doneCount();switch(s.encouragementIcon(null),t){case o.OVERDUE:if(0===n&&0===i&&0===a){e.push(s.translations.noTasksToShow),s.encouragementIcon(1);break}0===n&&(i>0||a>0)&&(e.push(s.translations.goodJob),e.push(s.translations.noOverdueTasks),s.encouragementIcon(2));break;case o.DUE:if(0===n&&0===i&&0===a){e.push(s.translations.noTasksToShow),s.encouragementIcon(1);break}if(0===i&&a>0&&0===n){e.push(s.translations.goodJob),e.push(s.translations.completedAllTasks),s.encouragementIcon(2);break}if(0===i&&a>0&&n>0){e.push(s.translations.noDueTasks),e.push(s.translations.workOnOverdueTasks),s.encouragementIcon(1);break}n>0&&0===i&&0===a&&(e.push(s.translations.noDueTasks),e.push(s.translations.workOnOverdueTasks),s.encouragementIcon(1));break;case o.DONE:if(0===n&&0===i&&0===a){e.push(s.translations.noTasksToShow),s.encouragementIcon(1);break}if(0===a&&n>0&&i>=0){e.push(s.translations.notCompletedAnyTasks),e.push(s.translations.workOnOverdueTasks),s.encouragementIcon(1);break}0===a&&0===n&&i>0&&(e.push(s.translations.notCompletedAnyTasks),e.push(s.translations.workOnDueTasks),s.encouragementIcon(1))}return e})),s.messageDialogActive=ko.observable(!1),s.messageDialogData=ko.observable(),s.messageTemplateUrl=IMHome.core.getTemplatePath("message"),s.previousTaskClick=function(){var e=s.selectedTaskIndex();e>0&&s.selectItem(s.activeListItems()[e-1].id)},s.nextTaskClick=function(){var e=s.selectedTaskIndex();e<s.activeListItems().length-1&&s.selectItem(s.activeListItems()[e+1].id)},s.viewOverdueClick=function(){location.hash="/".concat(t,"/").concat(a.STATUS,"/").concat(o.OVERDUE)},s.viewDueClick=function(){location.hash="/".concat(t,"/").concat(a.STATUS,"/").concat(o.DUE)},s.viewDoneClick=function(){location.hash="/".concat(t,"/").concat(a.STATUS,"/").concat(o.DONE)},s.getTask=function(e){return{deferred:IMHome.core.postJSON(c.getTask,{taskId:e}).then((function(e){return IMHome.core.triggerNotificationUpdate([IMHome.home.homeData.notificationTypeMap.assignmentDue,IMHome.home.homeData.notificationTypeMap.assignmentOverDue,IMHome.home.homeData.notificationTypeMap.assignmentSet]),e})),itemRequestNumber:++b}},s.showTask=function(e){e.noResults?s.nextItem(e):(e.maxUploadSize=f,e.allowedExtensions=p,e.dateFormat=d,e.urls={upload:c.uploadHandIn,sendMessage:c.addComment,setTaskStatus:c.setTaskStatus,optionalParts:c.acknowledgeOptionalParts},e.translations={submit:s.translations.submit,unsubmit:s.translations.unsubmit,noDescription:s.translations.noDescription,noResultsMessage:s.translations.noResultsMessage,attachmentWrongType:s.translations.attachmentWrongType,attachmentSizeSumTooLarge:s.translations.attachmentSizeSumTooLarge,uploading:s.translations.uploading,done:s.translations.done,cancel:s.translations.cancel,optionalPartsMessage:s.translations.optionalPartsMessage,optionalPartsButton:s.translations.optionalPartsButton},s.nextItem(new IMHome.task.Task(e)))},s.hideTask=function(){s.compactViewActive(!1),location.hash="/".concat(t,"/").concat(a.STATUS,"/").concat(r())},s.listItemClick=function(e){e.read(!0),location.hash="/".concat(t,"/").concat(a.SHOW,"/").concat(e.id)},s.keyupEvent=function(e,t){13===t.keyCode&&s.listItemClick(e,t)},s.selectItem=function(e){var t;if(void 0!==e)return(t=s.getTask(e)).deferred.then((function(e){b===t.itemRequestNumber&&(s.showTask(e),s.compactViewActive(!0))}),(function(){})),t.deferred},s.destroy=function(){n.unsubscribeAll()},s.toggleFilter=function(){s.taskFilterActive(!s.taskFilterActive())},s.clearFilter=function(){var e=s.filter;e.academicYearsSelectList.clear(),e.subjectsSelectList.clear(),e.teachersSelectList.clear(),e.coursesSelectList.clear()},s.applyFilter=function(){var e,t,n;y={academicYearId:s.filter.academicYearsSelectList.value(),subjects:s.filter.subjectsSelectList.value(),teachers:s.filter.teachersSelectList.value(),courses:s.filter.coursesSelectList.value()},(e=y,t="active",n=c.getTasks,IMHome.core.postJSON(n,e).then((function(e){$.publish("task/submitFilter",{itemData:e,list:t})}))).then((function(){IMHome.core.isCompactView()||I(r())}))},s.currentStatusList=ko.computed((function(){return!0===s.viewingOverdue()?s.overdueItems():!0===s.viewingDue()?s.dueItems():s.doneItems()})),s.newTaskRendered=function(){setTimeout((function(){s.addingNewTask(!0)}),1)},s.onNewTaskTransitionEnd=function(){s.addingNewTask(!1),s.activeItem(s.nextItem()),s.nextItem(null)},s.sendMessage=function(e){var t,n;if(IMHome.init.impersonation)return!1;t=e.title.length>l?IMHome.core.truncateText(e.title,l):e.title,n={id:e.id,translations:{title:s.translations.title},messageHeader:s.translations.newMessage,urls:{sendMessage:c.sendMessage},messageDialogActive:function(e){return s.messageDialogActive(e)},toUsers:[R.assoc("isSelected",!0,e.setByUser)],messageSubject:t,maxSubjectChars:l,messageBody:"",messageContextType:"Task",addUniqueSendMessageProperties:function(t){return t.taskVersionPupilAssignmentId=e.id,t.messageContextType="Task",t}},s.messageDialogData(IMHome.message.createMessageDialog(n)),s.messageDialogActive(!0)},s.shouldOpenInLightBox=function(e){var t=void 0!==e.fileType?e.fileType:e.text.substr(e.text.lastIndexOf(".")+1);return-1!==IMHome.core.lightboxableFiles.indexOf(t)},s.getO365FoledrDetail=function(e){if(s.isFolderDetailDisplay()){s.selectedO365FilePage(1),s.folderName(s.folderName()+"/"+e.fileName),s.selectedfolderDetail(s.selectedfolderDetail()+x+e.fileName);var t={folderName:s.folderName(),page:s.selectedO365FilePage(),pageSize:s.o365PageSize};s.loadO365FolderDetail(t)}},s.openParentO365FolderDetail=function(){s.isFolderDetailDisplay()&&(s.selectedO365FilePage(1),s.folderName(s.folderName().substring(0,s.folderName().lastIndexOf("/"))),s.selectedfolderDetail(s.selectedfolderDetail().substring(0,s.selectedfolderDetail().lastIndexOf(x))),s.loadO365FolderDetail())},s.previousO365ResourceDetail=function(){s.isFolderDetailDisplay()&&(s.selectedO365FilePage(s.selectedO365FilePage()-1),s.loadO365FolderDetail())},s.nextO365ResourceDetail=function(){s.isFolderDetailDisplay()&&(s.selectedO365FilePage(s.selectedO365FilePage()+1),s.loadO365FolderDetail())},s.addO365FileClick=function(){if(!1===s.listRequestPending()){s.listRequestPending(!0);var e={page:s.selectedO365FilePage(),pageSize:s.o365PageSize};IMHome.core.postJSON(c.addOffice365File,e).then((function(e){s.showingO365Details(!0),s.listRequestPending(!1),s.office365FileList(e.items),s.totalO365Resource(e.totalItemCount),s.dipsplayNextPreviousO365Button()}))}},s.loadO365FolderDetail=function(){var e={folderName:s.folderName(),page:s.selectedO365FilePage(),pageSize:s.o365PageSize};s.isFolderDetailDisplay(!1),IMHome.core.postJSON(c.addOffice365File,e).then((function(e){s.isFolderDetailDisplay(!0),s.listRequestPending(!1),s.office365FileList(e.items),s.totalO365Resource(e.totalItemCount),s.selectedOffice365FileList([]),s.dipsplayNextPreviousO365Button()}))},s.dipsplayNextPreviousO365Button=function(){s.totalO365Resource()>s.o365PageSize?(s.selectedO365FilePage()>1?s.preivousO365FilePageVisible(!0):s.preivousO365FilePageVisible(!1),s.selectedO365FilePage()*s.o365PageSize<s.totalO365Resource()?s.nextO365FilePageVisible(!0):s.nextO365FilePageVisible(!1)):(s.preivousO365FilePageVisible(!1),s.nextO365FilePageVisible(!1))},s.closeDialog=function(){s.showingO365Details(!1),s.selectedO365FilePage(1),s.selectedOffice365FileList([]),s.office365FileList([]),s.folderName(""),s.selectedfolderDetail(e.translations.document)},s.downloadO365Files=function(){if(s.selectedOffice365FileList().length<=0)$.publish("alerts",[[{type:"error",title:s.translations.taskHandInSelectAnyFile}]]);else{s.filteredFiles=ko.utils.arrayFilter(s.office365FileList(),(function(e){for(var t=0;t<s.selectedOffice365FileList().length;t++)if(e.fileId===s.selectedOffice365FileList()[t])return!0;return!1}));var e=s.activeListItems()[s.selectedTaskIndex()].id;IMHome.core.postJSON(c.uploadThirdPartyHandIns,{taskAssignmentId:e,thirdPartyFiles:ko.toJS(s.filteredFiles)}).then((function(e){!1!==e.success&&(s.selectedOffice365FileList([]),$.each(e.activityItem,(function(e,t){s.activeItem().activityList.push(new IMHome.task.Activity(t))})),$.publish("alerts",[[{type:"confirmation",title:e.successMessage}]]))}))}},s.o365FileListPageText=ko.computed((function(){return s.translations.page+" "+IMHome.core.format(s.translations.pageCount,s.selectedO365FilePage(),Math.ceil(s.totalO365Resource()/s.o365PageSize))})),s.init=function(){var t=[{event:"route",action:_},{event:"listItem/newItems",action:O},{event:"task/submitFilter",action:C},{event:"task/pendingStatusChange",action:M},{event:"task/updateListTotalCount",action:j},{event:"task/statusChange",action:D},{event:"task/milestone/change",action:N},{event:"task/milestone/status/change",action:H},{event:"task/listItem/removed",action:L},{event:"task/note/save",action:S},{event:"task/milestone/update",action:A},{event:"task/activity/delete",action:k},{event:"global/click",action:U}];n=new IMHome.core.SubscriptionList(t),r.subscribe(F),s.currentListItems(T(e.taskResults.items)),s.infiniteScrollOptions={itemCount:ko.observable(s.currentListItems().length),loadFunction:function(){var e=$.Deferred(),t=s.activeListItems().length;return y.assignmentState=r(),t>=IMHome.core.defaults.PAGE_SIZE?function(e,t,n){var r=$.extend({skipCount:n,pageSize:IMHome.core.defaults.PAGE_SIZE},t);return IMHome.core.postJSON(e,r)}(c.getTasks,y,t).then((function(e){!0===e.more?w(!1):w(!0),$.publish("listItem/newItems",{items:e.items,append:!0}),s.overdueCount(e.totalOverdue),s.dueCount(e.totalDue),s.doneCount(e.totalDone)})):(w(!0),e.resolve(),e.promise())},allResultsLoaded:function(){return w()},noResults:s.noResults,noResultsTemplate:$($("#t_noResultsDefault").clone().html())},s.viewingDue(!0),!1===IMHome.core.isCompactView()&&setTimeout((function(){0===b&&null===s.activeItem()&&null===s.nextItem()&&I(r())}),1)}},IMHome.task=IMHome.task||{},IMHome.task.constants={ROUTE_ACTIONS:{SHOW:"show",STATUS:"status"},TASK_STATUS:{DONE:"done",DUE:"due",OVERDUE:"overdue"}},IMHome.task=IMHome.task||{},IMHome.task.ListItem=function(e){"use strict";var t=this;t.id=e.id,t.status=ko.observable(e.status.toLowerCase()),t.pendingStatusChange=ko.observable(!1),t.removing=ko.observable(!1),t.dueDate=e.dueDate,t.subject=e.subject,t.title=e.title,t.hasOptionalParts=e.hasOptionalParts,t.read=ko.observable(e.read),t.active=ko.observable(!1),t.hasUnreadComments=ko.observable(e.hasUnreadComments),t.hasFiles=ko.observable(e.hasFiles),t.hasLinks=ko.observable(e.hasLinks),t.hasReferences=ko.observable(e.hasReferences),t.milestoneCount=ko.observable(e.milestoneCount),t.milestonesComplete=ko.observable(e.milestonesComplete),t.visible=ko.observable(!0),t.pendingDone=ko.computed((function(){return!0===t.pendingStatusChange()&&"done"!==t.status()})),t.pendingDue=ko.computed((function(){return!0===t.pendingStatusChange()&&"done"===t.status()})),t.milestones=ko.computed((function(){for(var e=1,n=t.milestoneCount(),r=t.milestonesComplete(),i=[];e<=n;e++)i.push({done:e<=r,active:e===r+1});return i})),t.onRemovedFromList=function(){var e="done"===t.status()?"due":"done";t.pendingStatusChange(!1),t.status(e),t.removing(!1),$.publish("task/listItem/removed",t)}},IMHome.task=IMHome.task||{},IMHome.task.Task=function(e){"use strict";var t,n=this,r=[],i=e.urls,o=e.maxUploadSize,a=1e6*o,s=e.allowedExtensions;function l(){n.uploading(!1),n.uploadProgress(0)}function c(e){n.activityList.push(new IMHome.task.Activity(e.activityItem)),setTimeout((function(){n.uploading(!1),n.uploadProgress(0)}),500)}function u(e){n.uploadProgress(e)}function d(e){var t=$.Deferred(),r=s,i=IMHome.core.regEx.fileExtension,o=e.name.toLowerCase().match(i)[0];return e.size<=a?r.indexOf(o)>-1?(t.resolve(e),n.uploadFilename(e.name),n.uploading(!0)):(t.reject(),$.publish("alerts",[[{type:"error",title:IMHome.core.format(n.translations.attachmentWrongType,e.name)}]])):(t.reject(),$.publish("alerts",[[{type:"error",title:n.translations.attachmentSizeSumTooLarge}]])),t.promise()}function f(e){return ko.utils.arrayMap(e,(function(e){var t={text:ko.observable(e.text),dateString:ko.observable(e.dateString),date:ko.observable(moment(e.date).toDate()),id:e.id,isDone:ko.observable(e.isDone)};return t.isDone.subscribe((function(){$.publish("task/milestone/status/change",[n,t])})),t}))}function p(e,t){n.milestones(f(t.milestones)),n.editingMilestones(!1),n.newMilestoneVisible(!1),n.newMilestoneText(""),n.newMilestoneDate(new Date)}function h(){g("done")}function m(){g("due")}function g(e){IMHome.core.postJSON(i.setTaskStatus,{id:n.id,status:e}).then((function(t){!1!==t.success&&(n.pendingStatusChange(!1),n.status(e),$.publish("task/statusChange",n))}))}n.translations=e.translations,n.id=e.id,n.status=ko.observable(),n.title=e.title,n.dueDate=e.dueDate,n.subject=e.subject,n.setBy=e.setBy,n.setByUser=e.setByUser,n.setDate=e.setDate,n.showPlagiarismControl=e.showPlagiarismControl,n.showOptionalPartsMessage=ko.observable(e.showOptionalPartsMessage),n.pendingStatusChange=ko.observable(!1),n.canUnsubmit=e.canUnsubmit,n.doneButtonDisabled=ko.observable(!1),n.showOnedriveResource=ko.observable(e.showOnedriveResource),n.doneButtonText=ko.computed((function(){return!0===n.pendingStatusChange()?n.translations.cancel:"due"===n.status()||"overdue"===n.status()?n.translations.submit:n.translations.unsubmit})),n.showDoneButton=ko.computed((function(){return!(!1===n.canUnsubmit&&"done"===n.status())})),n.uploading=ko.observable(!1),n.uploadProgress=ko.observable(0),n.uploadFilename=ko.observable(""),n.translations.attachmentSizeSumTooLarge=IMHome.core.format(n.translations.attachmentSizeSumTooLarge,o),n.description=e.description||"",n.descriptionIsTruncated=ko.observable(!1),n.truncatedDescription="",n.showingTruncatedDescription=ko.observable(!1),n.hasNote=ko.observable(null!==e.note&&""!==e.note),n.note=ko.observable(e.note),n.noteIsEditing=ko.observable(!1),n.showingNotes=ko.observable(!1),n.milestones=ko.observableArray([]),n.editingMilestones=ko.observable(!1),n.newMilestoneVisible=ko.observable(!1),n.milestoneEditButtonVisible=ko.computed((function(){return"done"!==n.status()&&!1===n.editingMilestones()&&!1===n.newMilestoneVisible()&&n.milestones().length>0})),n.milestoneNewButtonVisible=ko.computed((function(){return"done"!==n.status()})),n.milestoneNewButtonDisabled=ko.computed((function(){return!(!n.newMilestoneVisible()&&!n.editingMilestones())})),n.newMilestoneHasFocus=ko.observable(!1),n.newMilestoneText=ko.observable(),n.newMilestoneDate=ko.observable(new Date),n.showingMilestones=ko.observable(!1),n.files=ko.observableArray(e.files||[]),n.references=ko.observableArray(e.references||[]),n.links=ko.observableArray(e.links||[]),n.o365files=ko.observableArray(e.o365Files||[]),n.showingResources=ko.observable(!1),n.hasResources=ko.computed((function(){return n.files().length+n.references().length+n.links().length+n.o365files().length>0})),n.showingCurriculum=ko.observable(!1),n.curriculum=ko.observable(e.curriculum),n.curriculumVisible=e.curriculum.length>0,n.activityList=ko.observableArray([]),n.showingActivity=ko.observable(!0),n.toggleNoteEditing=function(){n.noteIsEditing(!n.noteIsEditing())},n.addNote=function(){if(IMHome.init.impersonation)return!1;n.hasNote(!0),n.noteIsEditing(!0),n.showingNotes(!0)},n.pendingDone=ko.computed((function(){return!0===n.pendingStatusChange()&&"done"!==n.status()})),n.pendingDue=ko.computed((function(){return!0===n.pendingStatusChange()&&"done"===n.status()})),n.readMoreClick=function(){n.showingTruncatedDescription(!1)},n.doneClick=function(){var e;if(IMHome.init.impersonation)return!1;e="done"===n.status()?m:h,!1===n.doneButtonDisabled()&&(n.pendingStatusChange(!n.pendingStatusChange()),$.publish("task/pendingStatusChange",n),!0===n.pendingStatusChange()?t=setTimeout((function(){$.publish("task/updateListTotalCount",[n.status(),!1]),e()}),2e3):clearTimeout(t))},n.acknowledgeOptionalParts=function(){IMHome.core.postJSON(i.optionalParts,{id:n.id}).then((function(){n.showOptionalPartsMessage(!1)}))},n.editMilestones=function(){r=n.milestones().map((function(e){return{text:e.text(),dateString:e.dateString(),date:IMHome.core.formatDateToStandardFormat(e.date()),id:e.id,isDone:e.isDone()}})),n.editingMilestones(!0)},n.cancelEditMilestones=function(){n.milestones(f(r)),n.editingMilestones(!1),r=[]},n.saveMilestones=function(){$.publish("task/milestone/change",n)},n.addNewMilestone=function(){n.newMilestoneVisible(!0),n.newMilestoneHasFocus(!0),n.showingMilestones(!0)},n.cancelAddNewMilestone=function(){n.newMilestoneText(""),n.newMilestoneDate(new Date),n.newMilestoneVisible(!1),n.newMilestoneHasFocus(!1)},n.saveNewMilestone=function(){var e={text:ko.observable(n.newMilestoneText()),dateString:"",date:ko.observable(moment(n.newMilestoneDate()).format("YYYY/MM/DD")),id:-1,isDone:ko.observable(!1)};$.publish("task/milestone/change",[n,e])},n.deleteMilestone=function(e){n.milestones.remove(e)},n.toggleMilestoneDone=function(e){e.isDone(!e.isDone())},n.addFileClick=function(){var e;if(IMHome.init.impersonation)return!1;e=[{name:"id",value:n.id}],new IMHome.core.FileUpload({url:i.upload,params:e,beforeUpload:d,progress:u,complete:c,failed:l}).init()},n.init=function(){var t;n.uploading.subscribe((function(e){!0===e?IMHome.core.showDialog(new IMHome.core.Dialog({title:n.translations.uploading,contentsTemplate:"t_uploading",contentsModel:{fileName:n.uploadFilename(),progress:ko.computed((function(){return n.uploadProgress()+"%"}))}})):IMHome.core.hideDialog()})),ko.utils.arrayForEach(n.milestones(),(function(e){e.isDone.subscribe((function(){$.publish("task/milestone/status/change",n)}))})),n.noteIsEditing.subscribe((function(e){!1===e&&$.publish("task/note/save",n)})),$.subscribe("task/milestone/update",p),n.status(e.status.toLowerCase()),n.activityList(ko.utils.arrayMap(e.activity,(function(e){return new IMHome.task.Activity(e)}))),n.milestones(f(e.milestones)),(t=n.description.split(" ")).length>40&&(n.descriptionIsTruncated(!0),n.showingTruncatedDescription(!0),n.truncatedDescription=t.slice(0,39).join(" "),n.truncatedDescription+="...")},n.init()},IMHome.timetable=IMHome.timetable||{},IMHome.timetable.App=function(e){"use strict";var t=this,n=new Date;t.translations=e.translations;var r=IMHome.core.constants.TILES.TIMETABLE;IMHome.core.setTitleTag(r),t.templatePath=IMHome.core.getTemplatePath("timetable"),t.showingDetails=ko.observable(!1),t.selectedEvent=ko.observable(null),t.calendarTitle=ko.observable(),t.datepicker=ko.observable(""),t.datepickerOptions={onOpen:function(){var e=this.el;e.offsetLeft<0&&(e.style.left="50%",e.style.marginLeft="-".concat(e.clientWidth/2,"px"))},onClose:function(){var e=this.el;e.style.left="auto",e.style.marginLeft="auto"}},t.showJumpToDateButton=ko.observable(!0),t.datepicker.subscribe((function(e){t.showJumpToDateButton(!1),t.calendarViewModel.viewDate(e)})),t.calendarViewModel={header:!1,firstDay:1,editable:!1,defaultView:"agendaWeek",viewDate:ko.observable(n),viewRender:function(e){t.calendarTitle(e.title)},timeFormat:"HH:mm",axisFormat:"HH:mm",minTime:e.startingHour,maxTime:e.endingHour,weekends:e.numberOfDays>5,allDaySlot:!1,slotDuration:"00:15:00",eventRender:function(n,r){r.attr("aria-timestamp",n.start),r.attr("tabindex",0),r.on("keyup",(function(e){13===(e.keyCode?e.keyCode:e.which)&&r.click()})),r.on("click",(function(){t.selectedEvent(n),t.showingDetails(!0),IMHome.core.confineFocus($(".event-details-inner")[0])})),null!==n.details&&r.find(".fc-event-inner").append("<div><strong>"+n.details+"</strong></div>");var i=!IMHome.core.isNullOrEmpty(n.notes.roomInfo)&&n.notes.roomInfo.length>0;e.appendRoomNameToTitle&&i&&r.find(".fc-title").append(" - "+n.notes.roomInfo),n.hasAdditionalData=i||!IMHome.core.isNullOrEmpty(n.notes.timetableNotes)&&n.notes.timetableNotes.length>0||!IMHome.core.isNullOrEmpty(n.notes.tutors)&&n.notes.tutors.length>0},eventSources:[{url:IMHome.core.baseUrl+"timetable/timetable/gettimetablelist",type:"POST",data:{UTCOffset:(new Date).getTimezoneOffset()}}],aspectRatio:.5},t.detailsCloseClick=function(){t.showingDetails(!1)},$(document).on("click",".btn-today, .btn-prev, .btn-next",(function(){$(".jump-to-date").val(e.translations.jumpToDate)})),t.todayClick=function(){$("#fcalendar").fullCalendar("today")},t.prevClick=function(){$("#fcalendar").fullCalendar("prev")},t.nextClick=function(){$("#fcalendar").fullCalendar("next")},t.printTimetableClick=function(){var e=new Date($("#fcalendar").fullCalendar("getDate")),t=JSON.stringify(e),n=IMHome.core.buildUrl(IMHome.core.baseUrl+"timetable/timetable/PrintTimetable",[{name:"selectedDate",value:t}]);IMHome.core.isNativeApp()?$.publish("notificationMobileApp/downloadFile",window.location.origin+n):window.open(n)},$.subscribe("appTransitionEnd",(function(e,t){!0===t.open()&&$("#fcalendar").fullCalendar("render")})),$.subscribe("global/click",(function(e,n){0===$(n.target).closest(".event-details-inner, .fc-event-container").length&&t.detailsCloseClick()}))},IMHome.uol=IMHome.uol||{},IMHome.uol.App=function(e){"use strict";var t=this,n=IMHome.core.constants.TILES.UOL,r=e.translations,i=e.urls,o=1,a=ko.observable(!IMHome.core.isNullOrEmpty(e.items.more)&&!1===e.items.more);function s(e){return e.sections.forEach(c),ko.utils.arrayFirst(e.sections,(function(e){if("timeline"===e.type)return e.urls.allTimelineEntries=i.allTimelineEntries,!0})),e}function l(e){return IMHome.core.isNullOrEmpty(IMHome.core.stripHTML(e))}function c(e){e.matrixTypes&&e.matrixTypes.forEach((function(e){l(e.title)&&(e.title="<i>&lt;No Title&gt;</i>"),e.matrices.forEach((function(e){l(e.title)&&(e.title="<i>&lt;No Title&gt;</i>"),e.statements.forEach((function(e){l(e.text)&&(e.text="<i>&lt;Empty Cell&gt;</i>"),e.groupedStatements.forEach((function(e){l(e.text)&&(e.text="<i>&lt;Empty Cell&gt;</i>")}))}))}))}))}function u(e){$.publish("tasks/new",e)}function d(e){$.publish("objectives/new",e)}$.extend(t,IMHome.core.defaultAppMethods),t.appName=n,t.translations=r,t.templatePath=IMHome.core.getTemplatePath(n),t.listItems=ko.observableArray(),t.viewAssessments=function(){},t.noResults=ko.observable(!1),t.showAllTasks=function(){IMHome.core.postJSON(IMHome.core.buildUrl(i.allTasks,[{name:"id",value:t.controller.activeItem().id}])).then(u)},t.showAllObjectives=function(){IMHome.core.postJSON(IMHome.core.buildUrl(i.allObjectives,[{name:"id",value:t.controller.activeItem().id}])).then(d)},t.taskClick=function(e){window.location.hash="/task/show/"+e.id},t.shouldOpenInLightBox=function(e){var t=void 0!==e.fileType?e.fileType:e.text.substr(e.text.lastIndexOf(".")+1);return-1!==IMHome.core.lightboxableFiles.indexOf(t)},t.init=function(){var l=[{event:"route",action:$.proxy(t.onRouteChange,t)},{event:"pager/nextClick",action:$.proxy(t.onNextClick,t)},{event:"pager/prevClick",action:$.proxy(t.onPrevClick,t)},{event:"pager/backClick",action:$.proxy(t.onBackClick,t)},{event:"listItem/newItems",action:$.proxy(t.showFirstItemInListIfNotCompactView,t)}];t.appSubscriptionList=new IMHome.core.SubscriptionList(l),t.controller=new IMHome.core.ContentController({ItemConstructor:IMHome.uol.Uol,itemDataFormatter:s,hasItemEmptyTemplate:!0,templatePath:t.templatePath,getItemUrl:i.getUol,appName:n}),t.list=new IMHome.core.ItemList({itemData:e.items.uols,ItemConstructor:IMHome.uol.ListItem}),0===t.list.items().length&&(t.list.showNoResultsTemplate(!0),t.controller.activeItem({noResults:!0})),t.pager=new IMHome.core.ContentPager({translations:{pageCount:r.pageCount,returnToList:r.returnToList,prevItem:r.prevItem,nextItem:r.nextItem},currentPage:ko.computed(t.getCurrentPageNumber,t),totalPages:ko.computed(t.getTotalPageCount,t),previousButtonIsDisabled:ko.computed(t.prevPageAvailable,t),nextButtonIsDisabled:ko.computed(t.nextPageAvailable,t)}),t.infiniteScrollOptions={itemCount:t.list.totalItems,loadFunction:function(){return t.getMoreItems(i.getUols,{},++o).then((function(e){!0===e.more?a(!1):a(!0),t.publishNewItems(e.uols,!0)}))},allResultsLoaded:a,noResults:t.noResults,noResultsTemplate:$($("#t_noResultsDefault").clone().html())}},t.ready()},IMHome.uol=IMHome.uol||{},IMHome.uol.ListItem=function(e){"use strict";var t=this;t.id=e.id,t.title=e.title,t.description=e.description,t.active=ko.observable(!1),t.isNew=ko.observable(e.isNew)},IMHome.uol=IMHome.uol||{},IMHome.uol.Uol=function(e){"use strict";var t=this;t.id=e.id,t.title=e.title,t.sections=[],t.hasAssessments=e.hasAssessments,$.subscribe("tasks/new",(function(e,n){t.sections.forEach((function(e){"task"===e.type&&(e.hasMore(n.hasMore),e.hasNew(n.hasNew),e.tasks(n.tasks))}))})),$.subscribe("objectives/new",(function(e,n){t.sections.forEach((function(e){"objective"===e.type&&(e.hasMore(n.hasMore),e.hasNew(n.hasNew),e.objectives(n.objectives))}))})),e.sections.forEach((function(e){var n=$.extend({},e,{expanded:ko.observable(!1),hasMore:ko.observable(e.hasMore),hasNew:ko.observable(e.hasNew)});"timeline"===e.type&&(n.timeline=new IMHome.component.timeline.Timeline(e),n.timeline.init(),!1===IMHome.core.isCompactView()&&n.expanded(!0)),"task"===e.type&&(n.tasks=ko.observableArray(e.tasks)),"objective"===e.type&&(n.objectives=ko.observableArray(e.objectives)),"statement"===e.type&&function(e){e.matrixTypes.forEach((function(e){null===e.title&&(e.title=""),e.matrices.forEach((function(e){null===e.title&&(e.title=""),e.statements.forEach((function(e){null===e.text&&(e.text=""),e.groupedStatements.forEach((function(e){null===e.text&&(e.text="")}))}))}))}))}(e),t.sections.push(n)}))},IMHome.uolv2=IMHome.uolv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.uolv2,r=arguments.length>1?arguments[1]:void 0,i=t.constants.TILES.UOL_V2;n.events={SHOW_UOL:"".concat(i,"/showUol"),CLOSE_UOL:"".concat(i,"/closeUol"),TOGGLE_SUBJECT:"".concat(i,"/toggleSubject"),TOGGLE_STATE:"".concat(i,"/toggleState"),UPDATE_ACADEMIC_YEAR:"".concat(i,"/updateAcademicYear")},n.App=function(e){IMHome.core.setTitleTag(i);var o,a=r.addIndex(r.map),s=e.translations,l=e.urls,c=e.subjects,u=e.uols,d=e.stateFilter,f=e.academicYears,p=e.currentAcademicYearId,h=e.hasChosenPreviousAcademicYear,m=e.subjectFilter;$.subscribe("route",(function(e,r){var o=r.params;o.codename===i&&"show"===o.action&&($.publish(n.events.SHOW_UOL+o.id),window.location.hash="/"+i,function(e){var n=IMHome.home.homeData.notificationTypeMap.unitOfLearning;if(t.allNotifications().length>0)i(t.allNotifications());else var r=t.allNotifications.subscribe((function(e){i(e),r.dispose()}));function i(t){var r=t.find((function(t){return!0===t.currentlySelectedPupil&&t.type===n&&t.url.includes("show/".concat(e))}));void 0!==r&&$.publish("notification/markNotificationAsRead",r.id)}}(o.id))}));var g=IMHome.core.getTemplatePath(i),v={ACTIVE:"active",NOT_STARTED:"notstarted",FINISHED:"finished"},b=function(e){var i=e.subjects,o=e.uols,c=e.stateFilter,u=e.hasChosenPreviousAcademicYear,d=e.academicYears,f=s.unitsOfLearning,h=r.pipe(r.sortBy(r.prop("order")),a((function(e,t){return r.merge(e,{colourClass:"colourSubject".concat(t%20+1)})})))(i),b=o.map((function(e){return n.createUolCard({uol:e,mappedSubjects:h})})),y=n.createFilterUnit({subjects:h,uols:o,stateFilter:c,UOL_STATES:v,hasChosenPreviousAcademicYear:u,subjectFilter:m,academicYears:d,currentAcademicYearId:p}),w=function(e){return r.filter(r.propEq("state",e))},x=function(e){return function(t){return 0===e().length?t:t.filter((function(t){return r.innerJoin(r.eqBy(r.prop("id")),e(),t.subjects).length>0}))}},_=ko.observableArray(),k=ko.observableArray(),S=ko.observableArray(),T=ko.observable(null),I=ko.observable(!1),E=ko.observable(IMHome.core.isMobile()),C=ko.observable(!1),O=y.academicYearSelector.value().hasUols,M=ko.pureComputed((function(){var e=y.showActive,t=y.showNotStarted,n=y.showFinished;return!1===O||!1===e()&&!1===t()&&!1===n()})),D=function(e,t){return function(){r.pipe(x(t),w(v.ACTIVE),_)(e),r.pipe(x(t),w(v.NOT_STARTED),k)(e),r.pipe(x(t),w(v.FINISHED),S)(e)}}(b,y.selectedSubjects);function P(e){$.publish("tasks/new",e)}function A(e){$.publish("objectives/new",e)}return{templatePath:g,translations:s,header:f,activeUoLs:_,notStartedUoLs:k,finishedUoLs:S,showCurrentUol:I,currentUol:T,filterHidden:E,buttonHidden:C,filterUnit:y,showNoData:M,toggleFilter:function(){E(!E())},openUol:function(e,i){var o=r.omit("onClick",i),a=t.curriedPostJSON(l.getUol);return r.pipeP(a,t.pipeMerge(o,n.createSingleUol),T,(function(){return I(!0)}))({id:o.id})},closeUol:function(){I(!1),setTimeout((function(){T(null)}),1e3)},updateUols:D,taskClick:function(e){window.location.hash="/task/show/"+e.id},showAllTasks:function(){IMHome.core.postJSON(IMHome.core.buildUrl(l.allTasks,[{name:"id",value:T().id}])).then(P)},showAllObjectives:function(){IMHome.core.postJSON(IMHome.core.buildUrl(l.allObjectives,[{name:"id",value:T().id}])).then(A)},shouldOpenInLightBox:function(e){var t=void 0!==e.fileType?e.fileType:e.text.substr(e.text.lastIndexOf(".")+1);return-1!==IMHome.core.lightboxableFiles.indexOf(t)}}},y=ko.observable(b({subjects:c,uols:u,stateFilter:d,hasChosenPreviousAcademicYear:h,academicYears:f})),w=function(e,n){var i={academicYearId:n,stateFilter:y().filterUnit.getCurrentStateFilterValues()},o=t.curriedPostJSON(l.getUols);r.pipeP(o,b,y,(function(){y().updateUols()}))(i)},x=function(e,t){var n=document.querySelector(".hide-show-nav"),r=document.querySelector(".app-nav"),i=t.target,o=IMHome.core.getScreenBreakpoint();i===n||n.contains(i)||r.contains(i)||!1!==y().filterHidden()||"BREAKPOINT_1"===o||"BREAKPOINT_7"===o||y().filterHidden(!0)},_=function(){var e={academicYearId:y().filterUnit.academicYearSelector.value().id,subjectIds:y().filterUnit.selectedSubjects().map(r.prop("id")),stateFilter:y().filterUnit.getCurrentStateFilterValues()};IMHome.core.postJSON(l.persistFilter,e)};return{translations:s,templatePath:g,state:y,init:function(){o=new IMHome.core.SubscriptionList([{event:n.events.SHOW_UOL,action:function(e,t){y().openUol(e,t)}},{event:n.events.CLOSE_UOL,action:function(e,t){y().closeUol(e,t)}},{event:n.events.TOGGLE_SUBJECT,action:function(){y().updateUols(),_()}},{event:n.events.TOGGLE_STATE,action:function(){y().updateUols(),_()}},{event:n.events.UPDATE_ACADEMIC_YEAR,action:w},{event:"global/click",action:x}]),y().updateUols()},destroy:function(){o.unsubscribeAll()}}}}(IMHome,R),IMHome.uolv2=IMHome.uolv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uolv2,n=e.core,r=arguments.length>1?arguments[1]:void 0;t.createFilterUnit=function(e){var i=e.subjects,o=e.uols,a=e.stateFilter,s=e.subjectFilter,l=e.UOL_STATES,c=e.hasChosenPreviousAcademicYear,u=e.academicYears,d=e.currentAcademicYearId,f={options:u,optionsText:"title",value:ko.observable(r.find(r.propEq("selected",!0),u))},p=ko.observableArray(s),h=function(e){return function(t){r.contains(t,e())?e.remove(t):e.push(t)}}(p),m=function(e){h(e.id),e.selected(!e.selected()),$.publish(t.events.TOGGLE_SUBJECT,e)},g=function(e){return r.merge(e,{selected:ko.observable(r.contains(e.id,p())),onClick:m})},v=ko.observableArray(i.map(g)),b=ko.pureComputed((function(){return v().filter((function(e){return e.selected()}))})),y=ko.observable(!c&&r.contains(l.ACTIVE,a)),w=ko.observable(!c&&r.contains(l.NOT_STARTED,a)),x=ko.observable(c||r.contains(l.FINISHED,a)),_=function(){var e=r.map((function(e){return n.getById(i,e)})),a=function(t){return function(n){return r.pipe(function(e){return r.filter(r.propEq("state",e))}(n),r.pluck("subjects"),r.flatten,e)(t)}}(o),s=y()?a(l.ACTIVE):[],c=w()?a(l.NOT_STARTED):[],u=x()?a(l.FINISHED):[],d=[].concat(s,c,u),f=r.pipe(r.uniq,r.map(g),r.sortBy(r.prop("order")))(d);r.pipe(r.map(r.prop("id")),r.difference(p()),r.forEach(h))(d),v(f),$.publish(t.events.TOGGLE_STATE)};return y.subscribe(_),w.subscribe(_),x.subscribe(_),f.value.subscribe((function(e){$.publish(t.events.UPDATE_ACADEMIC_YEAR,e.id)})),{subjects:v,selectedSubjects:b,showActive:y,showNotStarted:w,showFinished:x,academicYearSelector:f,hasChosenPreviousAcademicYear:c,getCurrentStateFilterValues:function(){var e,t=null,n=r.pipe(r.find(r.propEq("selected",!0)),r.prop("id"))(f.options);!1===c&&d===n&&(t=r.pipe(r.pickBy(r.equals(!0)),r.mapObjIndexed((function(e,t){return t})),r.values,r.join(","))((_defineProperty(e={},l.ACTIVE,y()),_defineProperty(e,l.NOT_STARTED,w()),_defineProperty(e,l.FINISHED,x()),e)));return t}}}}(IMHome,R),IMHome.uolv2=IMHome.uolv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uolv2;t.createSingleUol=function(e){var n=e.title,r=e.subjects,i=e.sections,o=e.hasAssessments,a=i.map((function(e){var t=R.merge(e,{expanded:ko.observable(!1),hasMore:ko.observable(e.hasMore),hasNew:ko.observable(e.hasNew),svgicon:s(e.type)});"timeline"===e.type&&(t.timeline=new IMHome.component.timeline.Timeline(e),t.timeline.init(),!1===IMHome.core.isCompactView()&&t.expanded(!0));"task"===e.type&&(t.tasks=ko.observableArray(e.tasks));"objective"===e.type&&(t.objectives=ko.observableArray(e.objectives));"statement"===e.type&&function(e){e.matrixTypes.forEach((function(e){null===e.title&&(e.title=""),e.matrices.forEach((function(e){null===e.title&&(e.title=""),e.statements.forEach((function(e){null===e.text&&(e.text=""),e.groupedStatements.forEach((function(e){null===e.text&&(e.text="")}))}))}))}))}(e);return t}));return $.subscribe("tasks/new",(function(e,t){a.forEach((function(e){"task"===e.type&&(e.hasMore(t.hasMore),e.hasNew(t.hasNew),e.tasks(t.tasks))}))})),$.subscribe("objectives/new",(function(e,t){a.forEach((function(e){"objective"===e.type&&(e.hasMore(t.hasMore),e.hasNew(t.hasNew),e.objectives(t.objectives))}))})),{title:n,subjects:r,sections:a,hasAssessments:o,closeUol:function(){$.publish(t.events.CLOSE_UOL)}};function s(e){switch(e){case"uol":case"timeline":return"info2";case"syllabus":return"checklist";case"task":return"clipboardA";case"objective":return"target-circles";case"statement":return"reading-book";case"resource":return"attachment"}}}}(IMHome),IMHome.uolv2=IMHome.uolv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.uolv2;n.createUolCard=function(e){var r=e.uol,i=e.mappedSubjects,o=function(){$.publish(n.events.SHOW_UOL,a)};$.subscribe(n.events.SHOW_UOL+r.id,o);var a=R.merge(r,{subjects:r.subjects.map(t.getById(i)).sort((function(e,t){return e.order>t.order})),onClick:o});return a}}(IMHome),IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2,r=arguments.length>1?arguments[1]:void 0,i=t.getTemplatePath("assessmentv2"),o="assessmentv2.dialogReports.fieldLabelling",a="assessmentv2.dialogReports.imageButtons";n.createDownloadReportsDialogModel=function(e){var n=e.academicYears,s=void 0===n?[]:n,l=e.selectedAcademicYearId,c=e.subjects,u=void 0===c?[]:c,d=e.courses,f=void 0===d?[]:d,p=e.downloader,h=e.isBusy,m=e.translations,g=e.dialogApi,v=e.fetchData,b=e.reportTypeIds,y="compact",w="detailed",x="selected",_="unselected",k="dist/images/reports-type-button-img-{0}-{1}.png?"+IMHome.init.cacheKey,S=t.isNullOrEmptyArray(u)&&!t.isNullOrEmptyArray(f),T=ko.observable(!0),I=function(){var e=D.selectedItems().key;v(e,!0).then((function(e){var t=S?e.courses:e.subjects;P(t),A(t)}))},E={text:m.assessments,visible:t.isMobile,click:g.close},C={text:m.download,type:IMHome.core.isMobile()?"":"normal",click:r.pipe((function(){var e;return _defineProperty(e={},S?"courseIds":"subjectIds",A().map((function(e){return e.id})).join(",")),_defineProperty(e,"academicYearId",D.selectedItems().key),_defineProperty(e,"reportId",j.selected().getValue()),e}),p),marginRight:!1,disabled:ko.pureComputed((function(){return!T()})),icon:"download"},O={text:m.cancel,type:"secondary",click:g.close,marginRight:!1,visible:ko.pureComputed((function(){return!IMHome.core.isMobile()}))},M=r.pick(["multiSelectSelection","multiSelectAllItems","noResults","selectAll"],m),D={label:m.academicYear,items:s,selectedItems:ko.observable(IMHome.core.getBy("key",s,l)),translations:M,keyMap:{key:"value"}},P=ko.observable([]),A=ko.observable([]),N={label:m.lblSubjects,rawItems:u,placeholder:m.selectASubject},R={label:m.courses,rawItems:f,placeholder:m.selectACourse},H=S?R:N,L=r.merge({translations:M,allowMultiple:!0,selectedItems:A,items:P},H),j={label:m.reportType,selected:ko.observable(null),onButtonClick:function(e){return j.selected(e)},translations:r.pick(["or"],m),buttonModels:[{type:y,label:m.compactOverview,selectedImage:t.format(k,[x,y]),unselectedImage:t.format(k,[_,y]),description:m.graphicalOverview,getValue:function(){return b[y]}},{type:w,label:m.detailedView,selectedImage:t.format(k,[x,w]),unselectedImage:t.format(k,[_,w]),description:m.graphicalOverviewAndCurriculumStatements,getValue:function(){return b[w]}}]};return{init:function(){j.selected(j.buttonModels[0]),P(H.rawItems),A(H.rawItems),A.subscribe((function(e){return T(e.length>0)})),D.selectedItems.subscribe(I)},translations:m,isBusy:h,previousButton:E,academicYearSelector:D,subjectsCoursesSelector:L,reportTypeSelection:j,cancelButton:O,downloadButton:C,templatesUrl:i,fieldLabellingTemplate:o,imageButtonsTemplate:a}}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},function(e){var t=e.assessmentv2,n=e.core;t.createGradeReportButton=function(e){var t=e.translations,r=void 0===t?{}:t,i=e.enableGradeReport,o=void 0!==i&&i,a=e.gradeReportView,s=e.slideOver;return{visible:o,text:r.lblGrades,onClick:o?function(){s.currentTemplate({name:"assessmentv2.gradesReport.template",data:a}),s.title(r.lblGrades),s.open({onClose:a.destroy}),a.init()}:n.noop}}}(IMHome),IMHome.assessmentv2=IMHome.assessmentv2||{},IMHome.assessmentv2.createGradeReportCommentModel=function(e){var t=e.translations,n=ko.observable(!1),r=ko.observable(""),i=ko.observable(""),o=ko.observable(!1),a=function(){n(!1),r(""),i(""),o(!1)};return{clear:a,update:function(e){var t=e.comment,s=void 0===t?"":t,l=e.specialAidComment,c=void 0===l?"":l;""===s&&""===c?a():""!==s&&""===c?(r(s),n(!0)):""===s&&""!==c?(r(c),n(!0)):(r(c),i(s),o(!0),n(!0))},ready:n,generalCommentValue:r,secondaryCommentValue:i,showSecondaryComment:o,headingText:t.lblGeneralComment,secondaryHeadingText:t.lblPrimaryComment}},IMHome.assessmentv2=IMHome.assessmentv2||{},IMHome.assessmentv2.createGradeReportKeyModel=function(e){var t=e.translations,n=e.CUSTOM_CHIP_CONFIGS,r=e.pageWrapperElementReference,i=ko.observable(!1),o=ko.observable(!1),a=["caret-up","caret-down"],s=ko.observable(a[1]),l=ko.observableArray([]),c=ko.observable(!1),u=R.merge(n.A,{text:"",isFinal:!0}),d=n.ADJUSTED,f=n.BLANK,p=n.PRIMARY_SCHOOL_LBL,h=ko.observable();return o.subscribe((function(e){return s(e?a[0]:a[1])})),{update:function(e){var t=e.hasPrimarySchoolGrade,r=e.subjectsGradeData,o=e.onHoldSubjectsGradeData;l(Object.values(t?R.omit(["BLANK","ADJUSTED","PRIMARY_SCHOOL_LBL"],n):R.omit(["F","BLANK","ADJUSTED","PRIMARY_SCHOOL_LBL"],n))),c(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((function(e){return e.showPrimarySchoolLabel}))}([].concat(_toConsumableArray(r),_toConsumableArray(o)))),i(!0)},ready:i,isKeyOpen:o,toggleOpen:function(){var e=!o();if(o(e),s(e?a[0]:a[1]),e){var t=h(),n=r(),i=t.getBoundingClientRect().bottom+10,l=n.getBoundingClientRect().top,c=n.getBoundingClientRect().height,u=n.scrollTop,d=i-(c+l);d>0&&(n.scrollTop=u+d)}},caretIcon:s,headingText:t.gradeReportShowKey,availableGrades:l,availableGradesText:t.keyTextAvailableGrades,finalGrade:u,finalGradeText:t.keyTextFinalGrade,adjustedGrade:d,adjustedGradeText:t.keyTextNotGradedAdjusted,blankGrade:f,blankGradeText:t.keyTextNotGradedAbsence,showPrimarySchoolExplanation:c,primarySchoolLabel:p,primarySchoolLabelText:t.keyTextPrimarySchoolGrade,keyWrapperElementReference:h}},IMHome.assessmentv2=IMHome.assessmentv2||{},function(e){var t=e.assessmentv2,n=e.core;t.createTableModel=function(e){var t=e.headingText,r=e.headerRow,i=e.CUSTOM_CHIP_CONFIGS,o=e.gradeReportTerms,a=ko.observable(!1),s=ko.observableArray(),l=function(e){return e.map((function(e){return _objectSpread(_objectSpread({},e),{},{currentGrade:!!e.currentGrade&&c(e.currentGrade),pastGrade:!(!e.pastGrade||!e.pastGrade.value)&&c(e.pastGrade),termName:!!e.termId&&u(e.termId),primarySchoolLabel:!!e.showPrimarySchoolLabel&&i.PRIMARY_SCHOOL_LBL})}))},c=function(e){return"-"===e.value?i.BLANK:"o"===e.value?i.ADJUSTED:_objectSpread(_objectSpread({},e),i[e.value])},u=function(e){return n.getBy("key",o,e.toString()).value};return{ready:a,update:function(e){var t=e.bodyRows,n=l(R.defaultTo([],t));s(n),a(n.length>0)},headingText:t,tableContentModel:{headerRowTemplate:"t_gradeReportTableHeaders",headerRow:r,bodyRowTemplate:"t_gradeReportTableRow",bodyRows:s}}}}(IMHome),IMHome.assessmentv2=IMHome.assessmentv2||{},function(e,t){var n=e.core,r=e.assessmentv2;r.createGradeReportView=function(e){var i,o=e.translations,a=(e.urls,e.gradeReportTerms),s=void 0===a?[]:a,l=e.slideOver,c={color:"#fff",borderColor:"#808e9b",backgroundColor:"#808e9b"},u={BLANK:{isBlank:!0},ADJUSTED:{text:"",colorOverwrites:{borderColor:"#afb3bc"}},A:{text:"A",colorOverwrites:c},B:{text:"B",colorOverwrites:c},C:{text:"C",colorOverwrites:c},D:{text:"D",colorOverwrites:c},E:{text:"E",colorOverwrites:c},F:{text:"F",colorOverwrites:c},PRIMARY_SCHOOL_LBL:{text:ko.pureComputed((function(){return n.isMobile()?o.lblPrimarySchoolMobile:o.lblPrimarySchool})),isLabel:!0,colorOverwrites:{color:"#30be80",borderColor:"#30be80",backgroundColor:"transparent"}}};s=t.defaultTo([],s);var d=ko.observable(0===s.length),f=ko.observable(!1),p=ko.observable(null),h=ko.observable(null),m=l.pageWrapperElementReference,g=function(){x.clear(),b.ready(!1),y.ready(!1);var e=p(),t=s.find((function(t){return t.key===e}));v(t.subjectGradesListModel)},v=function(e){x.update(e),b.update({bodyRows:e.subjectsGradeData}),y.update({bodyRows:e.onHoldSubjectsGradeData}),w.update(e),h(e.meritValue),f(e.isFirstGradingTerm)},b=r.createTableModel({headerRow:{lblSubject:o.lblSubject,lblGrade:o.lblGrade,lblThirdCol:o.lblPastGrade},CUSTOM_CHIP_CONFIGS:u,gradeReportTerms:s}),y=r.createTableModel({headingText:o.gradeReportSubjectsOnHold,headerRow:{lblSubject:o.lblSubject,lblGrade:o.lblGrade,lblThirdCol:o.lblTerm},CUSTOM_CHIP_CONFIGS:u,gradeReportTerms:s}),w=r.createGradeReportKeyModel({translations:o,CUSTOM_CHIP_CONFIGS:u,pageWrapperElementReference:m}),x=r.createGradeReportCommentModel({translations:o});return{translations:o,init:function(){i=p.subscribe(g)},destroy:function(){i.dispose(),p(null)},noTerms:d,gradeReportTerms:s,selectedTermKey:p,subjectsGradesTableModel:b,onHoldSubjectsGradesTableModel:y,gradeTablesKeyModel:w,commentSectionModel:x,isFirstGradingTerm:f,meritValue:h}}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.assessmentv2,r=arguments.length>1?arguments[1]:void 0;n.launchDownloadReportsDialog=function(e){var i,o,a,s=e.translations,l=e.urls,c=l.getReportsDialog,u=ko.observable(!1),d=!1,f=function(e){var n=t.buildUrl(l.downloadReport,p(e));u(!0),t.awaitServer(o,500).then((function(){u(!1)})),t.invokeDownload(n)},p=function(e){return Object.keys(e).map((function(t){return{name:t,value:e[t]}}))},h=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i=e,t.postJSON(c,{academicYearId:e,firstLoad:!n})},m=function(e){return o=e.downloadCookieKey,e},g=function(e){return r.merge({downloader:f,isBusy:u,selectedAcademicYearId:i,dialogApi:a,translations:s,urls:l,fetchData:h},e)};IMHome.core.getDialogApi().then((function(e){return a=e}));var v=function(e){var t=r.merge(e,{beforeClose:b});a.reset(),a.setTemplateName("assessmentv2.dialogReports.template"),a.setData(t),a.setIcon("reports"),a.setTitle(s.assessmentReports),a.open("assessmentv2-download-reports-dialog-root"),e.init()},b=function(){return d=!1,!0};return function(e){d||(d=!0,r.pipeP(h,m,g,n.createDownloadReportsDialogModel,v)(e))}}}(IMHome,R),IMHome.assessmentv2=IMHome.assessmentv2||{},function(e,t){var n=e.assessmentv2,r=e.core;n.createSummaryAssessmentLgr11=function(e){var i,o=e.translations,a=e.terms,s=e.urls,l=t.observable(a.find((function(e){return e.selected}))),c=t.observable(!0),u=0===a.length,d=t.observableArray([]),f=function(e){return e.noResults()},p=function(e){d(e.markGroups.map((function(e){return n.createSummaryAssessmentLgr11Table({headingText:e.title,bodyRows:e.marks})}))),m.text(e.schoolComment)},h=function(e){var t;c(!0),(t=e,r.postJSON(s.getSummaryAssessments,{termId:parseInt(t)})).then(p).then((function(){return c(!1)}))},m={headingText:o.schoolActions,text:t.observable("")},g=t.pureComputed((function(){return d().every(f)&&r.isNullOrEmpty(m.text())}));return{translations:o,markGroups:d,schoolsActions:m,noResults:g,terms:a,selectedTermKey:l,hideResults:c,hideTermSelector:u,init:function(){i=l.subscribe(h)},destroy:function(){i.dispose(),l(null)}}}}(IMHome,ko),IMHome.assessmentv2=IMHome.assessmentv2||{},IMHome.assessmentv2.createSummaryAssessmentLgr11Button=function(e){var t=e.translations,n=void 0===t?{}:t,r=e.summaryAssessmentLgr11View,i=e.slideOver;return{visible:e.enableSummaryAssessmentLgr11||!1,text:n.lblGrades,onClick:function(){i.currentTemplate({name:"assessmentv2.summaryAssessmentLgr11.template",data:r}),i.title(n.summaryAssessment),i.open({onClose:r.destroy}),r.init()}}},IMHome.assessmentv2=IMHome.assessmentv2||{},function(e,t,n){var r=e.core;e.assessmentv2.createSummaryAssessmentLgr11Table=function(e){var i=e.headingText,o=e.bodyRows;return{headingText:i,noResults:t.pureComputed((function(){return 0===o.length})),mapAndSetRows:n.pipe(n.addIndex(n.map)(a),o),tableContentModel:{headerRowTemplate:"t_summaryAssessmentHeaderRow",bodyRowTemplate:"t_summaryAssessmentBodyRow",bodyRows:t.observableArray(o.map(a))}};function a(e,n){var i=!r.isNullOrEmpty(e.comment),o=t.observable(!1===r.isMobile());return _objectSpread(_objectSpread({},e),{},{isAlt:n%2==0,hasComment:i,commentIsVisible:o,toggleCommentIsVisible:function(){return o(!o())}})}}}(IMHome,ko,R),IMHome.assessmentv2=IMHome.assessmentv2||{},function(e,t){var n=e.assessmentv2,r=e.core;n.createSummaryAssessmentLgr22=function(e){var i,o=e.translations,a=e.terms,s=e.urls,l=e.isGymnasium,c=void 0!==l&&l;o=_objectSpread(_objectSpread({},o),{},{tableHeading_Main:c?o.courses:o.tableHeading_Subject});var u,d=t.observable(a.find((function(e){return e.selected}))),f=t.observable(!0),p=0===a.length,h=t.observable(),m=n.constants.APPNAME,g=r.getTemplatePath(m),v=c?s.getSummaryAssessmentsForGym:s.getSummaryAssessmentsLgr22,b=function(e){return _objectSpread(_objectSpread({},e),{},{subject:e.subject||e.course})},y=function(e){h(n.createSummaryAssessmentLgr22Table({bodyRows:e.summaryAssessmentMarks.map(b),onRowClick:function(e){u(e)}}))},w=function(e){var t;f(!0),(t=e,r.postJSON(v,c?{}:{termId:t})).then(y).then((function(){return f(!1)}))},x=t.pureComputed((function(){return h().noResults})),_=R.curry(r.buildUrl),k=_(s.getGridDialog+"/"),S=_(s.getGeneralComments+"/");return IMHome.core.getDialogApi().then((function(e){u=function(e){var n=e.id,r=e.subject,o=e.groupedCompetenceId;e.hasMarks?t(n,r):i(o,r)};var t=function(t,i){var l=[{name:"id",value:t}];r.postJSON(k(l)).then((function(t){var r=R.merge(t,{isLearningStep:!1,headerLabel:i,useEcaMarking:true}),l={templateName:"assessmentv2.dialog.template",className:"assessmentv2-dialog-root",dialogModel:n.createTeacherAssessmentDialogModel({dialogData:r,urls:s,translations:o,dialogApi:e}),title:c?o.mainTabSummaryAssessmentLGR22:o.dialogTitleLGR22};a(l)}))},i=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){e&&r.invokeDownload(window.location.origin+e)}},i=function(e){return _objectSpread(_objectSpread({},e),{},{evidenceClick:n(e.downloadUrl),evidenceSize:r.formatFileSizeFromBytes(e.evidenceSize)})},s=S({id:e});r.postJSON(s).then((function(e){var n={init:function(){},comments:e.comments,evidence:e.evidence.map(i),getEvidenceIcon:r.getSvgIconIdFromFileType,headerLabel:t,translations:o},s=R.merge({templateName:"assessmentv2.generalCommentsDialog.template",className:"assessmentv2-general-comments-dialog-root"},{dialogModel:n,title:o.generalCommentsDialogTitle});a(s)}))},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.dialogModel,r=t.templateName,i=t.className,o=t.icon,a=void 0===o?"":o,s=t.title;e.reset(),e.setTemplateUrl(g),e.setTemplateName(r),e.setData(n),e.setIcon(a),e.setTitle(s),e.open(i),n.init()}})),{translations:o,summaryAssessmentsTableData:h,noResults:x,terms:a,selectedTermKey:d,hideResults:f,hideTermSelector:p,init:function(){c?w():i=d.subscribe(w)},destroy:function(){c||i.dispose(),d(null)}}}}(IMHome,ko),IMHome.assessmentv2=IMHome.assessmentv2||{},IMHome.assessmentv2.createSummaryAssessmentLgr22Button=function(e){var t=e.translations,n=void 0===t?{}:t,r=e.summaryAssessmentLgr22View,i=e.slideOver,o=e.enableSummaryAssessmentLgr22,a=e.isGymnasium,s=void 0!==a&&a;return{visible:o||!1,onClick:function(){i.currentTemplate({name:"assessmentv2.summaryAssessmentLgr22.template",data:r}),i.title(s?n.mainTabSummaryAssessmentLGR22:n.summaryAssessmentsLgr22_pageTitle),i.open({onClose:r.destroy}),r.init()}}},IMHome.assessmentv2=IMHome.assessmentv2||{},function(e,t,n){var r=e.core;e.assessmentv2.createSummaryAssessmentLgr22Table=function(e){var n=e.bodyRows,i=e.onRowClick,o=0===n.length;return{noResults:o,tableContentModel:{headerRowTemplate:"t_summaryAssessmentLgr22HeaderRow",bodyRowTemplate:"t_summaryAssessmentLgr22BodyRow",bodyRows:t.observableArray(n.map((function(e,n){var o=!r.isNullOrEmpty(e.comment),a=t.observable(!1===r.isMobile());return _objectSpread(_objectSpread({},e),{},{isAlt:n%2==0,hasComment:o,commentIsVisible:a,toggleCommentIsVisible:function(){return a(!a())},onClick:(s=e,function(){return i(s)})});var s}))),useDomForGridLayout:!0}}}}(IMHome,ko,R),IMHome.component=IMHome.component||{},IMHome.component.core=IMHome.component.core||{},IMHome.component.core.Attachment=function(e){var t=this;t.id=e.id,t.fileName=e.fileName,t.fileSize=e.fileSize||0,t.fileType=e.fileType.toLowerCase(),t.fileTypeDisplayText=e.fileTypeDisplayText,t.thumbnail=e.thumbnail,t.url=e.url,t.service=e.service.toLowerCase()||null,t.serviceName=e.service||null,t.embedCode=e.embedCode||null,t.resourceId=e.resourceId,t.fileSizeFormatted=function(e){return IMHome.core.formatFileSizeFromBytes(e)},t.iconTemplateName=IMHome.core.getIconTemplateFromFileType(t.fileType),t.shouldLoadThumbnail=e.shouldLoadThumbnail,t.onThumbnailLoad=e.onThumbnailLoad},IMHome.component=IMHome.component||{},IMHome.component.core=IMHome.component.core||{},IMHome.component.core.createUploadFiles=function(e){"use strict";var t=e.urls,n=e.translations,r=ko.observableArray(),i=ko.observable(null),o=ko.observable(!1),a=ko.observable(""),s=ko.observable(0),l=1e6*e.maxUploadSize,c=e.allowedExtensions,u=e.module;return{uploading:o,uploadedFiles:r,addFileClick:function(){var e=[{name:"id",value:i()},{name:"module",value:u}];new IMHome.core.FileUpload({url:t.upload,params:e,beforeUpload:h,progress:p,complete:f,failed:d,setXrequest:!0}).init()},init:function(){o.subscribe((function(e){!0===e?IMHome.core.showDialog(new IMHome.core.Dialog({title:n.uploading,contentsTemplate:"t_uploading",contentsModel:{fileName:a(),progress:ko.computed((function(){return s()+"%"}))}})):IMHome.core.hideDialog()}))},connectionId:i,deleteFileClick:function(e){IMHome.core.showDialog(new IMHome.core.Dialog({title:n.deleteConfirmTitle,contentsTemplate:"t_uploadFilesDeleteConfirm",contentsModel:{message:n.deleteConfirmMessage},buttons:[{text:n.deleteConfirmYes,click:function(){!function(e){IMHome.core.postJSON(t.delete,{id:e.id,connectionId:e.connectionId,connectionType:e.connectionType,api:e.apiType}).then((function(t){t.success&&r.remove(e)}))}(e),IMHome.core.hideDialog()},cssClasses:"btn-app"},{text:n.deleteConfirmCancel,click:function(){IMHome.core.hideDialog()},cssClasses:"btn-app"}]}))},translations:n};function d(){o(!1),s(0)}function f(e){o(!1),s(0),r.push({title:e.responceContent.title,id:e.responceContent.id,url:e.responceContent.url,fileTypeName:e.responceContent.fileTypeName,fileType:e.responceContent.title.substr(e.responceContent.title.lastIndexOf(".")+1),apiType:e.responceContent.apiType,connectionId:i()||0,connectionType:u})}function p(e){s(e)}function h(e){var t=$.Deferred(),r=c,i=IMHome.core.regEx.fileExtension,s=e.name.toLowerCase().match(i)[0];return e.size<=l?r.indexOf(s)>-1?(t.resolve(e),a(e.name),o(!0)):(t.reject(),$.publish("alerts",[[{type:"error",title:IMHome.core.format(n.attachmentWrongType,e.name)}]])):(t.reject(),$.publish("alerts",[[{type:"error",title:IMHome.core.format(n.attachmentSizeSumTooLarge,l/1048576)}]])),t.promise()}},IMHome.component=IMHome.component||{},IMHome.component.timeline=IMHome.component.timeline||{},IMHome.component.timeline.Comment=function(e){"use strict";var t=this,n=e.translations;function r(e){$.publish("comment/menuItemClick",{action:e.action,comment:t})}t.id=e.id,t.connectionType=e.connectionType,t.connectionId=e.connectionId,t.dateTime=ko.observable(e.dateTime),t.user=e.user,t.text=ko.observable(e.text),t.isEditing=ko.observable(!1),t.menuItems=e.permissions.map((function(e){return{action:e,text:n[e],click:r}}))},IMHome.component=IMHome.component||{},IMHome.component.timeline=IMHome.component.timeline||{},IMHome.component.timeline.CommentThread=function(e){"use strict";var t=this,n=e.urls,r=e.translations,i=e.commentConnectionId||e.connectionId,o=e.commentConnectionType||e.connectionType,a="";function s(e){27===e.keyCode&&u()}function l(e,r){var s;"edit"===r.action&&(s=r.comment,t.comments().indexOf(s)>-1&&(u(),a=s.text(),s.isEditing(!0))),"delete"===r.action&&function(e){t.comments().indexOf(e)>-1&&IMHome.core.confirm({title:t.translations.deleteComment,message:t.translations.confirmCommentDeleteMessage,buttons:[{text:t.translations.cancel,click:IMHome.core.hideDialog,cssClasses:"bn"},{text:t.translations.delete,click:function(){IMHome.core.postJSON(n.deleteComment,{id:e.id,connectionId:i,connectionType:o}).then((function(n){!0===n.success&&t.comments.remove(e),IMHome.core.hideDialog()}))},cssClasses:"bn-primary",testId:"comment-thread__confirm-delete--delete-button"}]})}(r.comment)}function c(e){e.text(a),e.isEditing(!1)}function u(){t.comments().forEach((function(e){!0===e.isEditing()&&c(e)}))}function d(e){return IMHome.core.postJSON(n.postComment,$.extend(e,{returnComment:!0,connectionId:i,connectionType:o}))}function f(e){return e.translations={edit:r.edit,delete:r.delete},e.connectionType=o,e.connectionId=i,new IMHome.component.timeline.Comment(e)}t.translations=r,t.canComment=e.canComment,t.comments=ko.observableArray(ko.utils.arrayMap(e.comments,f)),t.newCommentText=ko.observable(""),t.showAllComments=ko.observable(!1),t.showAllCommentsButton=ko.computed((function(){return!1===t.showAllComments()&&t.comments().length>2})),t.showHideCommentsButton=ko.computed((function(){return!0===t.showAllComments()&&t.comments().length>2})),t.visibleComments=ko.computed((function(){return!0===t.showAllComments()?t.comments():t.comments().length>2?t.comments.slice(t.comments().length-2):t.comments()})),t.saveNewCommentEnabled=ko.computed((function(){return!IMHome.core.isNullOrEmpty(t.newCommentText())})),t.hasComments=ko.computed((function(){return t.comments().length>0})),t.showAllCommentsButtonText=ko.computed((function(){return IMHome.core.format(r.showAllButtonText,t.comments().length)})),t.hideCommentsButtonText=ko.computed((function(){return r.hideButtonText})),t.hideCommentsClick=function(){t.showAllComments(!1)},t.showAllCommentsClick=function(){t.showAllComments(!0)},t.newCommentKeypress=function(e,n){return!IMHome.core.isEnterKey(n)||""===t.newCommentText().trim()||(d({comment:t.newCommentText()}).then((function(e){var n,r;!0===e.success&&(n=e.commentItem,r=f(n),t.comments.push(r),t.newCommentText(""))})),n.preventDefault(),!1)},t.editCommentKeypress=function(e,n){return!IMHome.core.isEnterKey(n)||(t.editCommentSave(e,n),n.preventDefault(),!1)},t.editCommentSave=function(e){d({id:e.id,comment:e.text()}).then((function(t){!0===t.success&&(e.isEditing(!1),e.dateTime(t.commentItem.dateTime))}))},t.editCommentCancel=function(e){c(e)},t.destroy=function(){$(document).off("keyup",s),$.subscribe("comment/menuItemClick",l)},$(document).on("keyup",s),$.subscribe("comment/menuItemClick",l)},IMHome.component=IMHome.component||{},IMHome.component.timeline=IMHome.component.timeline||{},IMHome.component.timeline.Entry=function(e){var t=e.thumbnailLoadHelpers,n=this,r=$.extend(!0,{},{urls:{},translations:{},id:null,isNew:!1,permissions:[],dateTime:null,user:null,title:"",text:"",attachments:[],comments:[],connectionId:null,connectionType:null,isEditing:!1,isSaving:!1},e),i=r.urls,o=r.translations,a=r.connectionId,s=r.connectionType,l=r.isNew,c=null,u=null,d=[],f=IMHome.component.timeline.VideoEmbedder;function p(){c=n.text(),u=[].concat(n.attachments()),n.isEditing(!0)}function h(e){"edit"===e.action&&p(),"delete"===e.action&&$.publish("timelineEntry/delete",n)}function m(e){var t=[];return e.length>0&&(t=e.map((function(e){return"embed"===e.fileType?function(e){var t=e.service,n=e.embedId,r=g({fileType:"embed",id:n,service:t,embedCode:ko.observable(null),thumbnail:ko.observable(null)});return f.getEmbedCode(t,n).then(r.embedCode),f.getThumbnailUrl(t,n).then(r.thumbnail),r}(e):g(e)}))),t}function g(e){if("image"===e.fileType.toLowerCase()){e.thumbnail=IMHome.core.buildUrl(e.thumbnail,[{name:"width",value:"320"}]);var n=t.getThumbLoadId();e.shouldLoadThumbnail=ko.pureComputed((function(){return n<t.currentThumbLoadId()})),e.onThumbnailLoad=t.onThumbnailLoad}return new IMHome.component.core.Attachment(e)}function v(e,t,n){var r=null;0===t().length&&(r=f.getEmbeds(e,n)).length>0&&function(e,t){f.getThumbnailUrl(e).then((function(n){t.push(new IMHome.component.timeline.Attachment({id:e.id,fileType:"embed",thumbnail:n,service:e.service}))}))}(r[0],t)}n.id=r.id,n.dateTime=ko.observable(r.dateTime),n.user=r.user,n.title=r.title,n.tag=r.tag,n.text=ko.observable(r.text),n.attachments=ko.observableArray(r.attachments),n.isEditing=ko.observable(!1),n.isSaving=ko.observable(!1),n.menuItems=r.permissions?r.permissions.map((function(e){return{action:e,text:o[e],click:h}})):[],n.commentThread=new IMHome.component.timeline.CommentThread(r.commentData),n.saveEnabled=ko.computed((function(){return(""!==n.text()||n.attachments().length>0)&&!1===n.isSaving()})),n.attachmentToDialog=function(e){var t,n,r;if("image"===e.fileType)t=e.fileName,n="t_imDialogImageOnly",r={imageSrc:e.url};else{if("embed"!==e.fileType)return;t=e.serviceName,n="t_imDialogEmbedOnly",r={embedCode:e.embedCode}}IMHome.core.getDialogApi().then((function(e){e.setTitle(t),e.setTemplateName(n),e.setData(r),e.open("timeline-attachment-dialog")}))},n.removeAttachment=function(e){"embed"===e.fileType&&d.push(e.id),n.attachments.remove(e),v(n.text(),n.attachments,d)},n.beginEdit=p,n.cancelEdit=function(){n.attachments(u),n.text(c),n.isEditing(!1)},n.saveClick=function(){var e=null,t=null,r=n.attachments();r.length>0&&("embed"===r[0].fileType?t={service:r[0].service,id:r[0].id}:e=r[0].id),n.isSaving(!0),IMHome.core.postJSON(i.postEntry,{id:n.id,connectionId:a,connectionType:s,text:n.text(),resourceId:e,embed:t}).then((function(e){!1!==e.success&&(!0===l?($.publish("timelineEntry/new",e),n.isSaving(!1),n.text(""),n.attachments([]),n.id=null,d=[]):function(e){n.id=e.id,n.permissions=e.permissions,n.dateTime(e.dateTime),n.user=e.user,n.title=e.title,n.text(e.text),n.attachments(m(e.attachments))}(e)),n.isSaving(!1),n.isEditing(!1)}))},n.destroy=function(){n.commentThread.destroy()},n.text.subscribe(IMHome.core.throttle((function(e){(l||!0===n.isEditing())&&v(e,n.attachments,d)}),500)),!IMHome.core.isNullOrEmpty(r.attachments)&&r.attachments.length>0&&n.attachments(m(r.attachments))},IMHome.component=IMHome.component||{},IMHome.component.timeline=$.extend(IMHome.component.timeline||{},function(){"use strict";var e={youTube:IMHome.core.regEx.YOUTUBE,vimeo:IMHome.core.regEx.VIMEO};function t(e,t,n){var r=IMHome.core.format("https://www.vimeo.com/{0}",e),i="https://www.vimeo.com/api/oembed.json?url="+encodeURIComponent(r);$.ajax({url:i,jsonp:"callback",dataType:"jsonp",data:t,success:n})}function n(e){var t=$.Deferred();return t.resolve(IMHome.core.format("https://img.youtube.com/vi/{0}/default.jpg",e)),t.promise()}function r(e){var t=$.Deferred();return t.resolve(IMHome.core.format('<iframe type="text/html" width="320" height="240" src="https://www.youtube.com/embed/{0}" frameborder="0"/>',e)),t.promise()}function i(e){var n=$.Deferred();return t(e,{minHeight:100},(function(e){e.thumbnail_url?n.resolve(e.thumbnail_url):n.reject()})),n.promise()}function o(e){var n=$.Deferred();return t(e,{width:320},(function(e){e.html?n.resolve(e.html):n.reject()})),n.promise()}function a(e,t){for(var n,r=[];null!==(n=t.exec(e));)r.push({id:n[1],index:n.index});return r}function s(e,t){return ko.utils.arrayFilter(e,(function(e){return-1===t.indexOf(e.id)}))}function l(e){var t={};switch(e.service){case"youtube":t.getThumbnailUrl=n.bind(null,e.id),t.getEmbedCode=r.bind(null,e.id);break;case"vimeo":t.getThumbnailUrl=i.bind(null,e.id),t.getEmbedCode=o.bind(null,e.id)}return t}return{CONSTANTS:{CONNECTION_TYPES:{GROUP_COMMENT:"TimelineConnection",DEFAULT_COMMENT:"Timeline"}},videoEmbedder:{getThumbnailUrl:function(e){return l(e).getThumbnailUrl()},getEmbedCode:function(e){return l(e).getEmbedCode()},getMatches:a,removeBlacklisted:s,getEmbeds:function(t,n){var r,i,o,l=[{service:"youtube",embeds:s(a(t,e.youTube),n)},{service:"vimeo",embeds:s(a(t,e.vimeo),n)}];return l=(r=l,o=[],i=ko.utils.arrayMap(r,(function(e){return ko.utils.arrayMap(e.embeds,(function(t){return{id:t.id,service:e.service,index:t.index}}))})),o.concat.apply(o,i)).sort((function(e,t){return e.index-t.index}))}}}}()),IMHome.component=IMHome.component||{},IMHome.component.timeline=IMHome.component.timeline||{},IMHome.component.timeline.Timeline=function(e){var t=this,n=!1!==e.canShowFooter,r=!1!==e.showTags,i=e.canComment,o=e.urls,a=e.connection,s=e.pageSize||20;t.translations=e.translations,t.title=e.title,t.isGroupTimeline=!0===e.isGroupTimeline,t.entries=ko.observableArray([]),t.canPost=e.canPost,t.showFooter=ko.observable(),t.showTags=ko.observable(),t.showMoreButton=ko.observable(e.hasMore),t.postText=ko.observable(""),t.posting=ko.observable(!1),t.newEntry=ko.observable(null),t.creationDate=a.creationDate,t.creationText=IMHome.core.format(t.translations.creationText,a.title),t.postEnabled=ko.computed((function(){return""!==t.postText()&&!1===t.posting()})),t.showMoreClick=function(){(function(){var n={id:a.id,skip:t.entries().length,pageSize:s,returnTimelineConfig:!1},r=null;r=e.getEntriesParams?e.getEntriesParams(n):n;return IMHome.core.postJSON(o.getEntries,r)})().then(p)},t.destroy=function(){$.unsubscribe("timelineEntry/new",d),$.unsubscribe("timelineEntry/delete",f)},t.init=function(){t.entries(ko.utils.arrayMap(e.entries,h)),t.newEntry(h({isNew:!0,connectionId:a.id,connectionType:a.type})),t.showFooter(n&&!e.hasMore),t.showTags(r),$.subscribe("timelineEntry/new",d),$.subscribe("timelineEntry/delete",f)};var l=ko.observable(1),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return e++}}(),u={currentThumbLoadId:l,onThumbnailLoad:function(){l(l()+1)},getThumbLoadId:c};function d(e,n){var r;r=h(n),t.entries.unshift(r)}function f(e,n){IMHome.core.confirm({title:t.translations.deletePost,message:t.translations.confirmPostDeleteMessage,buttons:[{text:t.translations.cancel,click:IMHome.core.hideDialog,cssClasses:"bn"},{text:t.translations.delete,click:function(){IMHome.core.postJSON(o.deleteEntry,{entryId:n.id}).then((function(e){!0===e&&(n.destroy(),t.entries.remove(n)),IMHome.core.hideDialog()}))},cssClasses:"bn-primary"}]})}function p(e){var r=Array.isArray(e)?e:e.entries;r=ko.utils.arrayMap(r,h),t.entries(t.entries().concat(r)),t.showMoreButton(e.hasMore),t.showFooter(n&&!e.hasMore)}function h(e){var n=IMHome.component.timeline.CONSTANTS;return e.translations={edit:t.translations.edit,delete:t.translations.delete},e.urls={postEntry:o.postEntry},e.commentData={urls:{postComment:o.postComment,deleteComment:o.deleteComment},translations:{showAllButtonText:t.translations.viewMoreCommets,hideButtonText:t.translations.viewLessComments,writeAComment:t.translations.writeAComment,edit:t.translations.edit,delete:t.translations.delete,update:t.translations.update,cancel:t.translations.cancel,confirmCommentDeleteMessage:t.translations.confirmCommentDeleteMessage,deleteComment:t.translations.deleteComment},commentConnectionId:t.isGroupTimeline?e.timelineConnectionId:e.id,commentConnectionType:t.isGroupTimeline?n.CONNECTION_TYPES.GROUP_COMMENT:n.CONNECTION_TYPES.DEFAULT_COMMENT,comments:e.comments,canComment:i},e.connectionId=a.id,e.connectionType=a.type,e.thumbnailLoadHelpers=u,new IMHome.component.timeline.Entry(e)}},IMHome.component=IMHome.component||{},IMHome.component.timeline=IMHome.component.timeline||{},IMHome.component.timeline.VideoEmbedder=function(){"use strict";var e={youTube:IMHome.core.regEx.YOUTUBE,vimeo:IMHome.core.regEx.VIMEO};function t(e,t,n){var r=IMHome.core.format("https://vimeo.com/{0}",e),i="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(r);$.ajax({url:i,data:t,success:n})}function n(e){var t=$.Deferred();return t.resolve(IMHome.core.format("https://img.youtube.com/vi/{0}/default.jpg",e)),t.promise()}function r(e,t){for(var n,r=[];null!==(n=t.exec(e));)r.push({id:n[1],index:n.index});return r}function i(e,t){return ko.utils.arrayFilter(e,(function(e){return-1===t.indexOf(e.id)}))}return{getThumbnailUrl:function(e,r){switch(e.toLowerCase()){case"youtube":return n(r);case"vimeo":return function(e){var n=$.Deferred();return t(e,{minHeight:100},(function(e){e.thumbnail_url?n.resolve(e.thumbnail_url):n.reject()})),n.promise()}(r);default:return n("")}},getEmbedCode:function(e,n){switch(e.toLowerCase()){case"youtube":return function(e){var t=$.Deferred();return t.resolve(IMHome.core.format('<iframe type="text/html" width="320" height="240" allowfullscreen="allowfullscreen" src="https://youtube.com/embed/{0}" frameborder="0"/>',e)),t.promise()}(n);case"vimeo":return function(e){var n=$.Deferred();return t(e,{width:320},(function(e){e.html?n.resolve(e.html):n.reject()})),n.promise()}(n);default:return null}},getMatches:r,removeBlacklisted:i,getEmbeds:function(t,n){var o,a,s,l=[{service:"youtube",embeds:i(r(t,e.youTube),n)},{service:"vimeo",embeds:i(r(t,e.vimeo),n)}];return l=(o=l,s=[],a=ko.utils.arrayMap(o,(function(e){return ko.utils.arrayMap(e.embeds,(function(e){return{id:e.videoId,service:e.service,index:e.index}}))})),s.concat.apply(s,a)).sort((function(e,t){return e.index-t.index}))}}}(),IMHome.core=IMHome.core||{},function(e,t){var n=e.core;e.core.createNotificationsSidebarMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.wrapperClass,i=void 0===r?"notifications-sidebar-menu-wrapper":r,o=e.contentTemplateName,a=void 0===o?"t_notificationsSidebarMenu":o,s=n.createSidebarMenu(e),l=t.merge(s.css,_defineProperty({},i,!0));s.isOpen.subscribe((function(e){window.$.publish("notification/sideBarIsOpen",e)})),$.subscribe("notification/toggleSideBar",(function(e,n){var r=t.defaultTo(!s.isOpen(),n);s.isOpen(r)}));var c={css:l,contentTemplateName:a};return t.merge(s,c)}}(IMHome,R),IMHome.core=IMHome.core||{},function(e){var t=e.core;t.createSidebarMenu=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.triggerClickSelector,i=void 0===r?"":r,o=n.contentTemplateName,a=void 0===o?"t_defaultSidebarMenuContentTemplate":o,s=n.wrapperClass,l=void 0===s?"sidebar-menu":s,c=t.defaultObservable(!1,n.isOpen),u={active:ko.pureComputed(c)},d=e.localisation.userMenu;return t.isNullOrEmpty(l)||(u[l]=!0),{isOpen:c,css:u,triggerClickSelector:i,contentTemplateName:a,ariaLabel:d,init:f,onItemClick:p,toggleOpen:h};function f(){t.isNullOrEmpty(i)||$.subscribe("global/click",m)}function p(){return c(!1),!0}function h(){var e=!c();return c(e),e}function m(e,t){var n=$(t.target);0===n.closest(".".concat(l)).length&&c()&&(0===n.closest(i).length&&c(!1))}}}(IMHome,R),IMHome.core=IMHome.core||{},function(e,t){var n=e.core,r=n.GoogleAnalytics;e.core.createUserSidebarMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.wrapperClass,o=void 0===i?"user-sidebar-menu-wrapper":i;e.contentTemplateName="t_userSidebarMenu";var a=n.createSidebarMenu(e),s=t.merge(a.css,_defineProperty({},o,!0)),l=function(e){return r.uiEvent("".concat(r.eventActions.OPEN_USER_SIDEBAR_MENU_ITEM,": ").concat(e)),a.onItemClick()},c=function(e){return function(){return r.uiEvent(r.eventActions.ON_PUPIL_SWITCH),window.location=e,a.onItemClick()}},u=function(){var e=ko.observable(a.isOpen()),t=a.isOpen.subscribe((function(n){n&&(e(!0),t.dispose())}));return e}(),d=27,f=function(e,t){return t.keyCode===d&&$.publish("userMenu/escPressed")},p={css:s,onPupilSwitch:c,onItemClick:l,hasBeenOpened:u,escKeyHandler:f};return t.merge(a,p)}}(IMHome,R),IMHome.home=IMHome.home||{},function(e,t){var n=e.core,r=e.aria,i=e.localisation,o=n.constants,a=n.GoogleAnalytics,s=function(e){return t.equals(n.currentTile(),e)};e.home.createHeader=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=l.impersonation,u=l.firstName,d=l.lastName,f=l.selectedPupilName,p=l.userRole,h=l.notificationCount,m=l.translations,g=l.messageCount,v=l.hasUnseenExternalMessages,b=l.office365MessageCount,y=l.userSidebarMenu,w=l.notificationsSidebarMenu,x={home:"#/",notifications:"#/",messages:"#/".concat(o.TILES.MESSAGE),brandLogo:"dist/images/infomentor_logo.svg"},_={PUPIL:"student",PARENT:"parent"},k=function(){return s(o.TILES.HOME)&&a.uiEvent(a.eventActions.ON_HOME_SCREEN),e.core.getDialogApi().then((function(e){e.close()})),!0},S=function(){a.uiEvent(a.eventActions.ON_SKIP_LINK);var e=document.querySelector("[".concat(o.SKIP_LINK_TARGET.HOME,"]")),t=document.querySelector("[".concat(o.SKIP_LINK_TARGET.MAIN,"]"));return s(o.TILES.HOME)&&e?(e.setAttribute("tabindex","0"),e.focus()):t?(t.setAttribute("tabindex","0"),t.focus()):console.warn("No skip link target"),!0},T={click:k,imageSrc:x.brandLogo,focus:ko.observable(!1),attributes:{href:x.home,"aria-label":e.localisation.goHome}},I={text:e.localisation.skipToContent,click:S},E=C({impersonation:c,userSidebarMenu:y,notificationsSidebarMenu:w,urls:x,notificationCount:h,messageCount:g,hasUnseenExternalMessages:v,office365MessageCount:b,user:{firstName:u,lastName:d,selectedPupilName:f,userRole:p}});return{brandButton:T,skipLinkButton:I,navbarMenu:E};function C(l){var c,u,d,f,p,h,g,v,b=l.impersonation,y=l.userSidebarMenu,w=l.notificationsSidebarMenu,x=l.notificationCount,k=l.messageCount,S=l.hasUnseenExternalMessages,T=l.office365MessageCount,I=l.urls,E=l.user,C=(u=(c={sidebarMenu:w,bubbleCount:{count:x}}).sidebarMenu,d=c.bubbleCount,f=ko.observable(!1),p=e.home.createNavbarMenuItem({isActive:ko.pureComputed(u.isOpen),show:ko.pureComputed((function(){return null!==d.count()}))}),h=ko.pureComputed((function(){return d.count()>0?"".concat(m.notifications,", ").concat(d.count()," ").concat(m.new):m.notifications})),g=t.pipe(r.createMenuButton,t.omit(["ariaControlsId","aria-controls"]),t.evolve({"aria-expanded":function(){return u.isOpen}}),t.assoc("aria-label",h),t.assoc("aria-live","polite"))("notifications"),v={click:D(u,a.eventActions.OPEN_NOTIFICATIONS_SIDEBAR_MENU),css:{"notifications-navbar-menu-item":!0},icon:"bell",bubbleCount:d,url:I.notifications,contentTemplateName:"t_notificationNavBarMenuItem",hasFocus:f,attributes:_objectSpread({"data-testid":"/header/notification-button"},g)},$.subscribe("notification/escPressed",(function(){f(!0)})),t.merge(p,v)),O=function(n){var l=arguments,c=n.bubbleCount,u=n.url,d=n.impersonation,f=n.office365MessageCount,p=function(){return[M,C].every((function(e){return!e.isActive()}))},h=ko.pureComputed((function(){return s(o.TILES.MESSAGE)&&p()})),g=ko.pureComputed(d),v=e.home.createNavbarMenuItem({isActive:h,show:ko.pureComputed((function(){return null!==c.count()}))}),b=ko.pureComputed((function(){return c.count()>0?"".concat(i.messages,", ").concat(c.count()," ").concat(m.new):i.messages})),y=t.pipe(r.createMenuButton,t.omit(["ariaControlsId","aria-controls","aria-haspopup"]),t.assoc("aria-label",b),t.assoc("aria-live","polite"),t.assoc("href",u))("messages"),w={title:ko.pureComputed((function(){return g()?e.localisation.impersonationDisabledTooltip:null})),click:function(){return!g()&&P(a.eventActions.OPEN_MESSAGES).apply(null,l)},css:{disabled:g,"unopened-office365-messages":ko.pureComputed((function(){return f()>0}))},isDisabled:g,icon:e.config.tiles.message.svgiconIds.main,bubbleCount:c,contentTemplateName:"t_messagesNavBarMenuItem",attributes:y};return t.merge(v,w)}({bubbleCount:{count:k,secondaryIndicator:"*",secondaryIndicatorVisible:S},url:I.messages,impersonation:b,office365MessageCount:T}),M=function(i){var o=i.sidebarMenu,s=i.user,l=ko.observable(!1),c=e.home.createNavbarMenuItem({contentTemplateName:"t_userNavbarMenuItem",isActive:o.isOpen}),u=s.selectedPupilName,d=s.userRole,f=t.defaultTo("",s.firstName),p=t.defaultTo("",s.lastName),h="".concat(f," ").concat(p).trim(),m=function(){return d===_.PARENT?"".concat(h," ( ").concat(u," )"):h},g=ko.pureComputed((function(){return n.isMobile()?"":m()})),v=t.pipe(r.createMenuButton,t.omit(["ariaControlsId","aria-controls"]),t.assoc("aria-label","".concat(e.localisation.userMenu," - ").concat(m())),t.evolve({"aria-expanded":function(){return ko.pureComputed((function(){return o.isOpen()?"true":"false"}))}}))("user"),b={displayedUserName:g,attributes:v,hasFocus:l,click:D(o,a.eventActions.OPEN_USER_SIDEBAR_MENU)};return $.subscribe("userMenu/escPressed",(function(){o.toggleOpen(),l(!0)})),t.merge(c,b)}({sidebarMenu:y,user:E});return{items:[C,O,M],notifications:C,messages:O,user:M};function D(e,t){return function(){return e.toggleOpen()&&a.uiEvent(t),!0}}function P(t){return function(){return a.uiEvent(t),e.core.getDialogApi().then((function(e){return e.close()})),!0}}}}}(IMHome,R),IMHome.home=IMHome.home||{},function(e){var t=e.core;e.home.createNavbarMenuItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.contentTemplateName,r=void 0===n?"t_defaultNavbarMenuItemTemplate":n,i=t.defaultObservable(!0,e.show),o=t.defaultObservable(!0,e.useDivider),a=t.defaultObservable(!1,e.isActive);return{contentTemplateName:r,show:i,useDivider:o,isActive:a}}}(IMHome,R),ko.bindingHandlers.animationEnd={init:function(e,t){"use strict";ko.utils.registerEventHandler(e,IMHome.core.event.animationEnd,(function(n){t()(ko.dataFor(e),n)}))}},ko.bindingHandlers.autoComplete={init:function(e,t,n){"use strict";var r=n().source,i=n().appendTo,o=t();$(e).autocomplete({minLength:2,appendTo:i,autoFocus:!0,source:function(e,t){$.ajax({url:r,data:{term:e.term},dataType:"json",type:"POST",success:function(e){t(e)}})},select:function(e,t){o(t.item.value)}})}},ko.bindingHandlers.collapse={init:function(e,t,n){"use strict";var r,i=$(t()),o=i.length>0,a={},s=$(e);for(r in void 0!==n().collapseOptions&&(a=$.extend({isOpen:ko.observable(!1),onShow:$.noop,onShown:$.noop,onHide:$.noop,onHidden:$.noop,isDisabled:$.noop},n().collapseOptions,!0)),!0===a.isDisabled&&(o=!1,a.isOpen=ko.observable(!1)),!0===o&&(i.on("click tap",(function(){s.collapse("toggle")})),s.on("hidden.bs.collapse shown.bs.collapse",(function(e){"shown"===e.type?a.isOpen(!0):a.isOpen(!1),i.toggleClass("collapsed")}))),!0===ko.unwrap(a.isOpen)?s.addClass("in"):i.addClass("collapsed"),s.addClass("collapse").collapse({toggle:!1}),a)a.hasOwnProperty(r)&&"on"===r.substr(0,2)&&s.on(r.replace("on","").toLowerCase(),a[r]);a.isOpen.subscribe((function(e){var t=!0===e?"show":"hide";s.collapse(t)})),ko.utils.domNodeDisposal.addDisposeCallback(e,(function(){var t;for(t in a)a.hasOwnProperty(t)&&"on"===t.substr(0,2)&&($(e).off(t.replace("on","").toLowerCase()),i.off("click tap"))}))}},ko.bindingHandlers.confineFocus={update:function(e,t){"use strict";!0===ko.utils.unwrapObservable(t())?IMHome.core.confineFocus(e):IMHome.core.releaseFocus()}},ko.bindingHandlers.confineFocusV2=function(){var e,t,n=[],r=[],i=function(e){9===e.keyCode&&e.shiftKey&&(e.preventDefault(),r[r.length-1].focus())},o=function(e){9!==e.keyCode||e.shiftKey||(e.preventDefault(),n[n.length-1].focus())},a=IMHome.core.debounce((function(a){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l='button:not([tabindex="-1"]), [href]:not([tabindex="-1"]), input:not([tabindex="-1"]), select:not([tabindex="-1"]), textarea:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])';setTimeout((function(){e=$(a);var c=(t=_toConsumableArray(e[0].querySelectorAll(l)))[0],u=_toConsumableArray(t).pop();!1===s&&(c.setAttribute("tabindex",0),c.focus()),c.addEventListener("keydown",i),u.addEventListener("keydown",o),n.push(c),r.push(c)}))}),100),s=function(){var t,a,s=n.pop(),l=r.pop();null===(t=s)||void 0===t||t.removeEventListener("keydown",i),null===(a=l)||void 0===a||a.removeEventListener("keydown",o),e=null,s=null,l=null};return{init:function(e,t,n){var r=n().confineFocusDependencies,i=(void 0===r?[]:r).map((function(n){return n.subscribe((function(){!0===ko.unwrap(t())&&(s(),a(e,!0))}))}));ko.utils.domNodeDisposal.addDisposeCallback(e,(function(){i.forEach((function(e){return e.dispose()}))}))},update:function(e,t){!0===ko.unwrap(t())?a(e):s()}}}(),ko.bindingHandlers.contextMenu={init:function(e,t,n){"use strict";var r=t(),i=n().contextMenuOptions||{},o=R.defaultTo("t_contextMenu",i.templateName),a=null,s=ko.observable(!1);function l(){!0===s()&&(s(!1),ko.removeNode(a),$.unsubscribe("global/click",l),$(window).off("resize.contexMenu",l))}function c(e,t){if(!(t.keyCode===IMHome.core.constants.KEY_CODES.ESCAPE))return!0;l(),t.stopPropagation()}ko.applyBindingsToNode(e,{click:function(){var t,n,i;!1===s()?(t=document.createElement("div"),n={contextMenuItems:r,menuOpen:s,onKeyUp:c},i=null,s(!0),ko.applyBindingsToNode(t,{template:{name:o,data:n}}),a=t.children[0],e.parentElement.appendChild(a),(i=$(a)).css(function(t){var n=$(e),r=null,i=null,o=null,a=null,s=null;return r=function(e){var t=$(e).parents().filter((function(){var e=$(this).css("overflow");return"auto"===e||"scroll"===e||"hidden"===e}));return t.length>0?t.eq(0):$(document)}(n),i=n.offset().left+t.outerWidth()<r.offset().left+r.outerWidth(),o=n.offset().top+n.outerHeight()+t.outerHeight()+2<r.offset().top+r.outerHeight(),a=i?n.position().left:n.position().left+n.outerWidth()-t.outerWidth(),s=o?n.outerHeight()+n.position().top+2:n.position().top-(t.outerHeight()+2),{left:a,top:s}}(i)),window.requestAnimationFrame((function(){$.subscribe("global/click",l),$(window).on("resize.contexMenu",l)}))):l()}})}},ko.bindingHandlers.cssComponent={init:function(e,t){var n,r,i=ko.bindingHandlers.cssComponent,o=$(e).children('style[type="text/template"]').html(),a="string"==typeof t();if(!1===a)throw'cssComponent missing label. Add string identifier to binding\'s value, eg: "my-component"';if(n=a?"__"+t()+"__":"__component__",void 0===o)throw'No style tag with type "text/template" found: '+n;r=i.componentFactory(o,n,e),e.className=e.className+" "+r.hash,r.addComponentStyleToHead(),$(e).children("style").remove(),ko.utils.domNodeDisposal.addDisposeCallback(e,(function(){r.removeComponentStyleFromHead()}))},componentStore:{},componentFactory:function(e,t,n){var r,i=ko.bindingHandlers.cssComponent.componentStore;return function(e,t,n){var a,s,l,c=[];if(r=t+function(e){var t,n,r,i=0;if(0===e.length)return i;for(t=0,r=e.length;t<r;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i|=0;return i}(e.substring(0,1e3)),void 0!==i[r])return;a=e.replace(/(\r\n|\n|\r)|(\/\*(\n|.)+?\*\/|\/\/.*(?=[\n\r]))/gm,""),s=function(e,t){return e.split(/(@media[^{]*{(?:(?!}\s*}).)*}.*?})/).map((function(e){var n,r;return e.match(/@media/)?(n=e.split(/(?={)/).shift(),r=o(e.split(/@media[^{]+\{([\s\S]+?\})\s*\}/)[1]),t.push(n+"{"+r+"}"),"PLACEHOLDER }"):e})).join("")}(a,c),l=o(s,c),u=l,i[r]={styleBlock:null,count:0,css:u};var u}(e,t),{hash:r,addComponentStyleToHead:function(){var e,t,n=i[r],o=n.css;0===n.count?(e=document.head||document.getElementsByTagName("head")[0],(t=document.createElement("style")).type="text/css",t.styleSheet?t.styleSheet.cssText=o:t.appendChild(document.createTextNode(o)),e.appendChild(t),n.count=1,n.styleBlock=t):n.count++},removeComponentStyleFromHead:function(){var e=i[r];e.count--,0===e.count&&e.styleBlock.parentNode.removeChild(e.styleBlock)}};function o(e,t){return e.split("}").map((function(e){var n,i,o=e.trim();return o.match("PLACEHOLDER")?t.shift():""!==o?(i=o.split("{")[0].trim(),n=o.split("{")[1].trim(),i.trim().split(",").map((function(e){return e.trim().match("._root")?e.replace("_root",r):"."+r+" "+e.trim()})).join(",")+"{"+n+"}"):void 0})).join("")}}},ko.bindingHandlers.datepicker={init:function(e,t,n){var r,i,o,a,s=n().datepickerOptions||{},l=IMHome.core.makeObservable(t()),c=l();R.is(Date,c)&&(l(new Date(c.getFullYear(),c.getMonth(),c.getDate())),c=l()),i={field:e,formatStrict:!0,defaultDate:new Date,onSelect:function(e){l(e)},onClose:R.isNil(s.trigger)?void 0:function(){r.blur()},onOpen:R.isNil(s.trigger)?void 0:function(){if(void 0===this._o.container){var e=this.el.getBoundingClientRect();this.el.style.left=Math.max(e.left,0)+"px",this.el.style.top=Math.max(e.top,0)+"px"}setTimeout((function(){r=document.activeElement}))}},o=R.pipe(R.pickAll(["dateFormat","firstDay","isRTL","yearSuffix","ariaLabel"]),IMHome.core.renameKeys({dateFormat:"format"}),R.assoc("i18n",IMHome.pikaday_i18n))(IMHome.pikaday_i18n);var u=R.mergeAll([i,o,s]);if(a=new Pikaday(u),"function"==typeof u.beforeDraw){var d=a.draw;a.draw=function(){u.beforeDraw.call(this),d.call(this)}}a.setDate(c),s.minDate&&a.setMinDate(s.minDate),s.maxDate&&a.setMaxDate(s.maxDate),l.subscribe((function(e){R.equals(e,c)||(c=e,a.setDate(e))})),ko.utils.registerEventHandler(e,"change",(function(e){""===e.target.value&&l(null)})),ko.utils.registerEventHandler(e,"input",(function(e){var t=e.target.value,n=new RegExp(IMHome.pikaday_i18n.dateRegex,"g"),r=t.replace(n,""),i=moment(r,IMHome.pikaday_i18n.dateFormat,!0);i&&i.isValid()&&a.setDate(i.toDate())})),ko.utils.domNodeDisposal.addDisposeCallback(e,(function(){a.destroy()}))}},ko.bindingHandlers.elementIsInView={init:function(e,t){var n=t(),r=n.scrollElement,i=n.triggerObservable;function o(){var e=$(r),t=r.scrollHeight,n=e.height(),o=e.scrollTop();i((o+n)/t*100>=90)}r.addEventListener("scroll",o),window.addEventListener("resize",o),i.subscribe((function(e){null===e&&setTimeout(o)})),ko.utils.domNodeDisposal.addDisposeCallback(e,(function(){r.removeEventListener("scroll",o),window.removeEventListener("resize",o)})),i(null)}},ko.bindingHandlers.fullCalendar={init:function(e,t){"use strict";var n,r=t();n=function(){e.clientHeight>0?$(e).fullCalendar($.extend(r,{height:$(e).height()})):window.requestAnimationFrame((function(){n()}))},r.callFunction=function(t,n){$().fullCalendar.apply($(e),[t].concat(n))},e.innerHTML="",window.requestAnimationFrame((function(){n()}))},update:function(e,t){"use strict";var n=t();$(e).fullCalendar("gotoDate",ko.utils.unwrapObservable(n.viewDate))}},ko.bindingHandlers.hidden={update:function(e,t){"use strict";!0===t()?$(e).css({visibility:"hidden"}):$(e).css({visibility:"visible"})}},ko.bindingHandlers.infiniteScroll={init:function(e,t){var n,r=$(e),i=t(),o=i.loadFunction,a=i.noResultsTemplate,s=i.reassessTrigger||null,l=i.allResultsLoaded,c=i.noResults,u=i.itemCount,d=ko.observable(!1);function f(){var e=r[0].scrollHeight,t=r.height(),n=(r.scrollTop()+t)/e*100;return!0!==d()&&!0!==l()&&n>=90}function p(){f()&&(d(!0),o().then((function(){d(!1),f()&&p()})))}function h(e){!0===e?(n=a.clone(),r.hide(),r.parent().append(n)):(r.show(),n&&n.remove())}h(c()),c.subscribe((function(e){h(e)})),null!==s&&s.subscribe((function(){p()})),ko.utils.domNodeDisposal.addDisposeCallback(r,(function(){r.off("scroll.infiniteScroll"),$(window).off("resize.infiniteScroll")})),r.on("scroll.infiniteScroll",(function(){p()})),$(window).on("resize.infiniteScroll",(function(){p()})),u.subscribe((function(e){0===e&&setTimeout(p,0)})),p()}},ko.bindingHandlers.infoText={init:function(e,t){var n=t(),r=n.text||null,i=n.enabled||null,o=200,a=200,s=10,l=6;null===r&&(i=!1);var c={TOP:"above",BOTTOM:"below"},u=null,d=null,f=document.createElement("div"),p=document.createElement("div"),h=document.createElement("div");f.classList.add("tip-caret"),p.classList.add("tip-body"),h.classList.add("tip-wrapper"),p.appendChild(f),h.appendChild(p);var m=document.querySelector("body"),g=function(){var e,t,n;clearTimeout(d),v(),b(),(t=h,n=$.Deferred(),function e(t){t.style.opacity=t.style.opacity-.15,parseFloat(t.style.opacity)>0?requestAnimationFrame((function(){e(t)})):n.resolve()}(t),n.promise()).then((function(){for(e in m.contains(h)&&(h.style.left=0,h.style.top=0,m.removeChild(h)),c)c.hasOwnProperty(e)&&h.classList.remove(c[e])}))},v=function(){document.removeEventListener("wheel",g)},b=function(){$.unsubscribe("global/click",g)},y=function(){document.addEventListener("wheel",g),$.subscribe("global/click",g),m.appendChild(h);var t,n=e.getBoundingClientRect(),r={top:(t=n).top,left:t.left,bottom:window.innerHeight-t.bottom,right:window.innerWidth-t.right},i=function(e){return{height:e.height,width:e.width}}(n),o=function(e,t){return e.top-t.offsetHeight}(n,h),a=function(e){return e.bottom}(n),u=r.top>=h.offsetHeight+s,v=h.offsetWidth/2-i.width/2+s,b=r.left>=v,y=r.right>=v,w=function(e,t,n){return t&&n?e.left+e.width/2-h.offsetWidth/2:!t&&n?s:window.innerWidth-(h.offsetWidth+s)}(n,b,y),x=u||r.top>r.bottom?c.TOP:c.BOTTOM,_=function(e,t,n,r,i){return r&&i?h.offsetWidth/2:!r&&i?t.left+e.width/2-s:h.offsetWidth/2+(n-t.right)}(i,r,v,b,y);f.style.left=_-l+"px",h.style.top=x===c.TOP?o+"px":a+"px",h.style.left=w+"px",h.style.opacity=1,h.classList.add(x),p.appendChild(f),clearTimeout(d)},w=function(){IMHome.core.isNullOrEmpty(ko.unwrap(r))||!0!==ko.unwrap(i)||(u=setTimeout(y,o))},x=function(){clearTimeout(u),d=setTimeout(g,a)},_=function(){ko.applyBindingsToNode(p,{html:r}),e.addEventListener("click",w),ko.utils.domNodeDisposal.addDisposeCallback(e,x)};_()}},ko.bindingHandlers.lazyLoadImages={init:function(e){"use strict";var t=$(e);function n(){var e=t.scrollTop(),n=e+t.height();0===e&&0===n||t.find("img").each((function(t,r){var i,o,a,s=$(this);s.hasClass("image-loaded")||(o=(i=s.offset().top)+s.height(),a=s.data("src"),o>=e&&i<=n&&a&&(this.setAttribute("src",a),s.addClass("image-loaded")))}))}t.addClass("lazy-load"),t.on("scroll resize lookup",n),t.find("img").each((function(){this.setAttribute("src","dist/images/blank.gif")})),setTimeout((function(){n()}),1e3)}},ko.bindingHandlers.lightbox={init:function(e,t,n){var r={templateName:"t_lightbox",appendTo:"#appContainerInner",title:"",text:"",url:"",isTextBased:!1,isVisible:ko.observable(!1),translations:{close:"",download:""}},i=t(),o=$.extend(!0,{},r,n().lightboxOptions||{}),a=null,s=null;function l(){var e=document.createElement("div");s={translations:o.translations,title:o.title,text:o.text,url:o.url,isTextBased:o.isTextBased,isVisible:o.isVisible,close:c,onImageLoaded:d,onImageError:f,imageLoaded:ko.observable(!1),imageFailed:ko.observable(!1)},ko.applyBindingsToNode(e,{template:{name:o.templateName,data:s}}),a=e.children[0],document.querySelector(o.appendTo).appendChild(a),window.requestAnimationFrame((function(){s.isVisible(!0),$.subscribe("global/click",p),$(document).on("keyup.lightbox",(function(e){27===e.which&&c()}))}))}function c(){$(a).on(IMHome.core.event.transitionEnd,u),o.isVisible(!1),$.unsubscribe("global/click",p),$.unsubscribe("beforeroute",c),$(document).off("keyup.lightbox")}function u(){$(a).off(IMHome.core.event.transitionEnd,u),ko.cleanNode(a),$(a).remove()}function d(){s.imageLoaded(!0)}function f(){s.imageFailed(!0)}function p(e,t){0===$(t.target).closest(".lightbox").length&&c()}ko.applyBindingsToNode(e,{click:function(){!0===ko.unwrap(i)&&l()},tap:function(){!0===ko.unwrap(i)&&l()}}),$.subscribe("beforeroute",c)}},ko.bindingHandlers.onDestroy={init:function(e,t){var n=t();if(!1===IMHome.core.isFunction(n))throw"Knockout Binding; onDestroy: You must provide a function";ko.utils.domNodeDisposal.addDisposeCallback(e,n)}},ko.bindingHandlers.overflowDetection={init:function(e,t){var n=t(),r=n.subscribeTo||!1,i={overflowX:function(){return e.scrollWidth-e.clientWidth>0},overflowY:function(){return e.scrollHeight-e.clientHeight>0},overflow:function(){return i.overflowX()||i.overflowY()}},o=[],a=function(e,t){o.push((function(){e(t())}))},s=function(){for(var e=0,t=o.length;e<t;e++)o[e]()};if(ko.isObservable(r)){var l=r.subscribe(s);ko.utils.domNodeDisposal.addDisposeCallback(e,(function(){l.dispose()}))}else e.addEventListener("keyup",s);ko.isObservable(n.x)&&a(n.x,i.overflowX),ko.isObservable(n.y)&&a(n.y,i.overflowY),0===o.length&&ko.isObservable(n)?a(n,i.overflow):ko.isObservable(n.both)&&a(n.both,i.overflow),setTimeout(s)}},ko.bindingHandlers.react={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,n){var r=ko.unwrap(t()),i=ko.toJS(n.get("props"));ReactDOM.render(React.createElement(r,i),e)}},ko.bindingHandlers.referenceElement={init:function(e,t){var n=t();ko.isObservable(n)&&n(e)}},ko.bindingHandlers.reinstateFocus=function(){var e=null,t=function(t){e=t};return{init:function(e){var n=function(e){return function(n){13===n.keyCode&&t(e)}}(e),r=function(e){return function(){t(e)}}(e);e.addEventListener("click",r),e.addEventListener("keyup",n),ko.utils.domNodeDisposal.addDisposeCallback(e,(function(){e.removeEventListener("click",r),e.removeEventListener("keyup",n)}))},update:function(t,n){!0===ko.unwrap(n())&&t===e&&setTimeout((function(){e&&e.focus()}),0)}}}(),ko.bindingHandlers.rejectFocus={update:function(e,t){"use strict";!0===ko.utils.unwrapObservable(t())?IMHome.core.rejectFocus($(e)):IMHome.core.restoreFocus($(e))}},ko.bindingHandlers.removeListItem={init:function(e,t){"use strict";var n,r=ko.unwrap(t());n=r.remove.subscribe((function(t){var n=$(e).nextAll(),i=$(e).outerHeight(),o=r.callback||$.noop;!0===t&&$(e).animate({opacity:0},150,(function(){n.length>0?n.each((function(t,r){$(r).on(IMHome.core.event.transitionEnd,(function(i){$(r).off(IMHome.core.event.transitionEnd),t===n.length-1&&(n.css({transition:"","transition-delay":"",transform:""}),"transform"===i.originalEvent.propertyName&&o(ko.dataFor(e),i))})).css({transition:"all 0.25s ease-in-out","transition-delay":"0."+t+"s",transform:"translateY(-"+i+"px)"})})):o(ko.dataFor(e))}))})),ko.utils.domNodeDisposal.addDisposeCallback(e,(function(){n.dispose()}))}},ko.bindingHandlers.sanitisedText={update:function(e,t,n){var r=R.merge({breaks:!0,links:!1},n().sanitisedTextOptions),i=ko.unwrap(t()),o=!0!==IMHome.core.isNullOrEmpty(i),a="",s=["strong","b","em","i","br","p","ul","ol","li"];if(o){var l=document.createElement("div"),c=document.createTextNode(i);a=function(e,t){return R.pipe(f,t.links?p:R.identity,t.breaks?u:R.identity,d)(e)}(l.appendChild(c).parentNode.innerHTML,r)}function u(e){return e.replace(/\\r\\n/g,"<br />")}function d(e){return e.replace(/(\&shy;|­|&#173;)/gi,"-")}function f(e){return R.reduce((function(e,t){return e.replace(new RegExp("&lt;".concat(t,"&gt;"),"g"),"<".concat(t,">")).replace(new RegExp("&lt;/".concat(t,"&gt;"),"g"),"</".concat(t,">")).replace(new RegExp("&lt;".concat(t,"[\\s]{0,1}/&gt;"),"g"),"<".concat(t,"/>"))}),e,s)}function p(e){return e.replace(new RegExp(IMHome.core.regEx.URL.source,"g"),(function(e){return'<a href="'+(null===e.match(/http|https/)?"http://":"")+e+'" target="_blank">'+e+"</a>"}))}e.innerHTML=a}},ko.bindingHandlers.scrollElementIntoParentView={init:function(e,t,n){var r=t(),i=n.get("scrollWithParentAsWindow")||!1,o=n.get("scrollToBottom")||!1,a=R.defaultTo(!0,n.get("scrollVertical")),s=R.defaultTo(!1,n.get("scrollHorizontal")),l=r.subscribe((function(t){!0===t&&function(e){if(i&&!function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}(e))!function(e){e.scrollIntoView(!o)}(e);else{var t=e.offsetParent;if(a){var n=t.offsetHeight,r=t.scrollTop,l=r+n,u=e.offsetHeight,d=e.offsetTop,f=d+u,p=c(d,f,r,l);p.isOffStart?t.scrollTop=d:p.isOffEnd&&(t.scrollTop=f-n)}if(s){var h=t.offsetWidth,m=t.scrollLeft,g=m+h,v=e.offsetWidth,b=e.offsetLeft,y=b+v,w=c(b,y,m,g);w.isOffStart?t.scrollLeft=b:w.isOffEnd&&(t.scrollLeft=y-h)}}}(e)}));function c(e,t,n,r){return{isOffStart:e<n,isOffEnd:t>r}}ko.utils.domNodeDisposal.addDisposeCallback(e,(function(){l.dispose()}))}},ko.bindingHandlers.selected={update:function(e,t){ko.utils.unwrapObservable(t())&&e.select()}},ko.bindingHandlers.selector={init:function(e,t,n){"use strict";var r=t(),i=ko.observableArray([]),o=n().selectorOptions,a=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div"),c=document.createElement("input"),u=ko.observableArray([]),d=ko.observable(""),f=ko.computed(d).extend({rateLimit:500}),p=0,h=ko.observable(!1),m=ko.observable(!1),g=ko.observable(),v=ko.observable(),b=ko.observable(!1),y=!1,w=null,x=IMHome.core.acceptLatest();return r.subscribe(E),o.selectorPlaceholderText&&i.subscribe((function(e){var t=document.createElement("span");0===e.length?(t.classList.add("placeholder-text"),t.innerHTML=o.selectorPlaceholderText,a.appendChild(t)):$(a).find(".placeholder-text").remove()})),v.subscribe((function(){setTimeout((function(){var t;null!==(t=e.querySelector(".selector-option-highlighted"))&&t.scrollIntoView(!1)}),1)})),u.subscribe((function(e){var t,n=!1;r().forEach((function(t){e[0].value.id===t.id&&(n=!0)})),!0===n&&u.remove(e[0].value);t=u().filter((function(t,n){return!(t.id===e[0].value.id&&e[0].index!==n)})),u(t),1===p&&t.length<1?m(!0):m(!1)}),null,"arrayChange"),document.addEventListener("click",(function(){y||I(),y=!1})),e.classList.add("selector"),a.classList.add("selector-selection-container"),s.classList.add("selector-option-container"),l.classList.add("selector-dropdown"),c.type="text",c.classList.add("selector-searchbox"),o.searchBoxPlaceholderText&&c.setAttribute("placeholder",o.searchBoxPlaceholderText),ko.applyBindingsToNode(l,{css:{active:b}}),ko.applyBindingsToNode(a,{template:{name:o.selectionTemplateName,foreach:i,afterRender:function(e){e.forEach((function(e){if(1===e.nodeType){var t=document.createElement("button");t.innerHTML="x",e.appendChild(t),ko.applyBindingsToNode(t,{click:function(e){r.remove(e),I()}},ko.dataFor(e)),e.classList.add("selector-selection"),t.classList.add("selector-selection-remove")}}))}},click:function(e,t){y=!0,!1!==b()||t.target.classList.contains("selector-selection-remove")||(b(!0),w=f.subscribe(_),c.focus(),g((new Date).getTime()))}}),ko.applyBindingsToNode(s,{template:{name:o.optionTemplateName,foreach:u,afterRender:function(e){e.forEach((function(e){if(1===e.nodeType){e.classList.add("selector-option");var t=ko.dataFor(e);ko.applyBindingsToNode(e,{css:{"selector-option-highlighted":ko.computed((function(){return v()===t}))}})}}))}},click:function(e,t){var n=ko.dataFor(t.target);y=!0,n!==window&&T(n)},infiniteScroll:{loadFunction:C,itemCount:ko.computed((function(){return u().length})),reassessTrigger:g,allResultsLoaded:h,noResults:m,noResultsTemplate:o.noResultsTemplate||$("<div>no results</div>")}}),ko.applyBindingsToNode(c,{value:d,valueUpdate:"keyup",click:function(){y=!0},event:{keydown:function(e,t){switch(t.which){case 13:IMHome.core.isNullOrEmpty(v())||null!==v()&&T(v());break;case 38:S("up"),t.preventDefault();break;case 40:S("down"),t.preventDefault()}return!0}}}),E(),b(!1),l.appendChild(c),l.appendChild(s),e.appendChild(a),e.appendChild(l),{controlsDescendantBindings:!0};function _(){p=0,C()}function k(){u().length>0&&v(u()[0])}function S(e){var t,n,r;if(null===v())return!1;t=u().indexOf(v()),n="up"===e?t>0?t-1:0:t<u().length-1?t+1:u().length-1,r=u()[n],v(r)}function T(e){u.remove(e),r.push(e),k()}function I(){null!==w&&w.dispose(),d(""),b(!1),u.removeAll(),h(!1),m(!1),p=0}function E(){i(ko.utils.arrayMap(r(),(function(e){return o.selectionDataFormatter&&o.selectionDataFormatter(e),e})))}function C(){return x(o.getData({query:d(),page:++p,pageSize:o.pageSize})).then((function(e){var t=p>1;if(1===p&&0===e.items.length)return m(!0);m(!1),function(e,t){!0!==t&&u.removeAll(),e.forEach((function(e){u.push(e)}))}(e.items,t),1===p&&k(),!0===e.more?h(!1):h(!0)}))}}},ko.bindingHandlers.setCssVariables={update:function(e,t){var n=ko.utils.unwrapObservable(t()||{});ko.utils.objectForEach(n,(function(t,n){n=ko.utils.unwrapObservable(n),/^--/.test(t)&&e.style.setProperty(t,n)}))}},ko.bindingHandlers.shaveText={init:function(e,t){var n=t(),r=n.expandOnClick,i=void 0===r||r,o=n.lines,a=void 0===o?2:o,s=IMHome.core.makeObservable(a),l=parseInt(getComputedStyle(e)["line-height"])||20,c=u();function u(){return l*s()}function d(){var t=e.style["overflow-y"]||"";e.style["overflow-y"]="scroll",shave(e,c),e.style["overflow-y"]=t}i&&e.addEventListener("click",(function(){c=c===1/0?u():1/0,d()})),d(),s.subscribe((function(){c=u(),d()}))}},ko.bindingHandlers.showScreen={update:function(e,t,n,r){"use strict";var i,o=t();null!==o()&&(i=105*(o()-1),$(e).on(IMHome.core.event.transitionEnd,(function(t){t.target===e&&($(e).off(IMHome.core.event.transitionEnd),r.animating(!1))})),$(e).css("transform","translateX(-"+i+"%)"),$(e).css("-webkit-transform","translateX(-"+i+"%)"))}},ko.bindingHandlers.skipLinkTarget={init:function(e,t){var n="home"===t();e.setAttribute(n?IMHome.core.constants.SKIP_LINK_TARGET.HOME:IMHome.core.constants.SKIP_LINK_TARGET.MAIN,"")}},ko.bindingHandlers.slider={update:function(e,t,n){"use strict";var r=n().sliderOptions,i=t(),o=e.querySelector(r.activeItemSelector),a=e.querySelector(r.nextItemSelector),s=r.duration||350;!0===i()&&(o&&(o.style.opacity=1,o.style.webkitTransition="opacity "+s/1e3+"s ease-in",o.style.opacity=0),a.style.opacity=0,a.style.webkitTransform="translateX(20%)",a.style.webkitTransition="all "+s/1e3+"s ease-in-out",a.addEventListener(IMHome.core.event.transitionEnd,(function(){o.style.webkitTransition="opacity 0s",o.style.opacity=1,$.isFunction(r.callback)&&r.callback(e)})),a.style.opacity=1,a.style.webkitTransform="translateX(0%)")}},ko.bindingHandlers.sliderNext={update:function(e,t,n){"use strict";var r=n().sliderOptions,i=t(),o=e.querySelector(r.activeItemSelector),a=e.querySelector(r.nextItemSelector);$(a).css({transform:"translateX(20%)"}),!0===i()&&(o&&o.animate([{opacity:1},{opacity:0}],{fill:"forward",duration:r.duration||350,easing:r.easing||"ease-in-out"}).addEventListener("finish",(function(){})),a.animate([{opacity:0,transform:"translateX(20%)"},{opacity:1,transform:"translateX(0%)"}],{duration:r.duration||350,easing:r.easing||"ease-in-out"}).addEventListener("finish",(function(){$.isFunction(r.callback)&&r.callback(e)})))}},ko.bindingHandlers.sortable={init:function(e,t,n){"use strict";var r=n().sortableOptions;$(e).sortable(r)},update:function(e,t){"use strict";!0===t()()?$(e).sortable("enable"):$(e).sortable("disable")}},ko.bindingHandlers.svgicon={xmlDoc:null,request:null,appendIcon:function(e,t){var n=ko.bindingHandlers.svgicon,r=function e(t,n){n||(n=document);for(var r=n.createElementNS(t.namespaceURI,t.nodeName),i=0,o=t.attributes.length;i<o;++i){var a=t.attributes[i];try{r.setAttributeNS(a.namespaceURI,a.nodeName,a.nodeValue)}catch(e){}}for(i=0,o=t.childNodes.length;i<o;++i){var s=t.childNodes[i];r.insertBefore(1==s.nodeType?e(s,n):n.createTextNode(s.nodeValue),null)}return r}(n.xmlDoc.getElementById?n.xmlDoc.getElementById(t):$(n.xmlDoc).find("#"+t)[0]);r.removeAttribute("id"),e.innerHTML="",e.appendChild(r)},update:function(e,t){var n=ko.bindingHandlers.svgicon,r=ko.unwrap(t());n.xmlDoc?n.appendIcon(e,r):(n.request||(n.request=$.ajax({type:"GET",url:"/dist/images/svgiconsprite.xml?"+IMHome.init.cacheKey,dataType:"xml",cache:!0,headers:{"Cache-Control":'max-age="31557600"'}})),n.request.then((function(t){n.xmlDoc=t,n.request=null,n.appendIcon(e,r)})))}},ko.bindingHandlers.tabbable={update:function(e,t){var n=ko.unwrap(t());e.tabIndex=!0===n?0:-1}},ko.bindingHandlers.tap={init:function(e,t){"use strict";var n=new window.Hammer(e),r=t();n.ontap=function(){r()}}},ko.bindingHandlers.testId=function(){var e=function(e,t){null!==t?e.setAttribute("data-testid",t):e.removeAttribute("data-testid")};return{init:function(t,n){var r=ko.observable(IMHome.core.prefixIdWithHash(n())),i=IMHome.core.currentHash.subscribe((function(){r(IMHome.core.prefixIdWithHash(n())),e(t,r())}));ko.utils.domNodeDisposal.addDisposeCallback(t,(function(){i.dispose()}))},update:function(t,n){var r=IMHome.core.prefixIdWithHash(n());e(t,r)}}}(),ko.bindingHandlers.textToClipboardOnClick={init:function(e,t){var n=t();e.addEventListener("click",(function(){var e,t;e=ko.unwrap(n.value),(t=document.createElement("textarea")).value=e,t.type="hidden",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t),n.callback()}))}},ko.bindingHandlers.transitionEnd={init:function(e,t,n){var r=n().transitionEndSelector||null,i=n().transitionEndProperty?n().transitionEndProperty.split(","):null;ko.utils.registerEventHandler(e,IMHome.core.event.transitionEnd,(function(n){var o=t(),a=!0,s=!0;null===r||$(n.target).is(r)||"self"===r&&n.target===e||(a=!1),null!==i&&-1===i.indexOf(n.originalEvent.propertyName)&&(s=!1),!0===a&&!0===s&&o(ko.dataFor(e),n)}))}},ko.bindingHandlers.truncatedText={update:function(e,t,n){var r=ko.utils.unwrapObservable(t())||"",i=ko.utils.unwrapObservable(n().maxTextLength)||20,o=r.length>i?r.substring(0,i):r;ko.bindingHandlers.text.update(e,(function(){return o}))}},IMHome.components={models:{},functions:{}},IMHome.components.templates=[{name:"im-accordion",contents:'<div class="im-accordion">\r\n    \x3c!-- ko template: { nodes: [getHeader($componentTemplateNodes)], data: headerModel } --\x3e\x3c!-- /ko --\x3e\r\n    \x3c!-- ko template: { nodes: [getBody($componentTemplateNodes)], data: body } --\x3e\x3c!-- /ko --\x3e\r\n</div>'},{name:"im-accordion-body",contents:'<div class="im-accordion-body" data-bind="css: { open: $parent.open, closed: !$parent.open(), hideOverflow: !$parent.overflowContent() }, cssComponent: \'im-accordion-body\'">\r\n    <style type="text/template">\r\n        .wrapper {\r\n            -webkit-transition: all 500ms cubic-bezier(0.645, 0.045, 0.355, 1);\r\n            transition:         all 500ms cubic-bezier(0.645, 0.045, 0.355, 1);\r\n            opacity: 1;\r\n            height: auto;\r\n        }\r\n\r\n        ._root.hideOverflow .wrapper {\r\n            overflow-y: hidden;\r\n        }\r\n\r\n        ._root.closed .wrapper {\r\n            height: 0 !important;\r\n            opacity: 0;\r\n            overflow: hidden;\r\n        }\r\n    </style>\r\n\r\n    <div class="wrapper" data-bind="style: { height: $parent.bodyHeight }">\r\n\r\n        \x3c!-- template used to prevent the need for container div in every im-accordion-body --\x3e\r\n\r\n        \x3c!-- ko template: { \r\n            name: \'t_contentContainer\', \r\n            data: {\r\n                nodes: $componentTemplateNodes,\r\n                data: $parent.context\r\n            },\r\n            afterRender: $parent.afterBodyRender\r\n         } --\x3e\x3c!-- /ko --\x3e\r\n        \r\n    </div>\r\n</div>\r\n\r\n<script id="t_contentContainer" type="text/template">\r\n    <div class="content">\r\n        <div data-bind="template: { \r\n            nodes: nodes,\r\n            data: data\r\n        }"></div>\r\n    </div>\r\n<\/script>'},{name:"im-accordion-header",contents:'<div class="im-accordion-header" tabindex="0" data-bind="click: $parent.click, cssComponent: \'im-accordion-header\', css: { open: $parent.open }">\r\n    <style type="text/template">\r\n        ._root {cursor: pointer;}\r\n    </style>\r\n    \x3c!-- ko template: { nodes: $componentTemplateNodes, data: $parent.context } --\x3e\x3c!-- /ko --\x3e\r\n</div>'},{name:"im-alert-panel",contents:'\x3c!-- ko if: showPanel --\x3e\r\n    <div class="im-alert-panel" data-bind="cssComponent: \'im-alert-panel\'">\r\n        <style type="text/template">\r\n            ._root {\r\n                position: relative;\r\n                background: rgba( 51, 51, 51, .97);\r\n                padding: 15px;\r\n                min-height: 75px;\r\n                color: white;\r\n            }\r\n\r\n            .wrapper {\r\n                display: flex;\r\n                align-items: center;\r\n            }\r\n\r\n            .icon {\r\n                margin-right: 20px;\r\n                width: 40px;\r\n                height: 40px;\r\n            }\r\n\r\n            .icon .svgicon {\r\n                fill: white;\r\n                height: 40px;\r\n                stroke-width: 40px;\r\n            }\r\n\r\n            .close-panel {\r\n                position: absolute;\r\n                padding: 10px;\r\n                right: 0;\r\n                top: 0;\r\n            }\r\n\r\n            .close-panel .svgicon {\r\n                fill: white;\r\n                width: 10px;\r\n                height: 10px;\r\n            }\r\n        </style>\r\n\r\n        <div class="wrapper">\r\n            <span class="icon" data-bind="svgicon: icon"></span>\r\n            <span class="text" data-bind="text: text"></span>\r\n            \x3c!-- ko if: canHide --\x3e\r\n                <button class="close-panel" data-bind="\r\n                    svgicon: \'cross\',\r\n                    click: hidePanel\r\n                "></button>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n\x3c!-- /ko --\x3e'},{name:"im-accordion-list",contents:'<div  class="im-accordion-list" data-bind="cssComponent: \'im-accordion-list\'">\r\n    <style type="text/template">\r\n\r\n        .accordion-available-items {\r\n            position: relative;\r\n            cursor: pointer;\r\n        }\r\n\r\n        .accordion-selected-item,\r\n        .accordion-sub-item-parent,\r\n        .accordion-selected-parent {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            width: 100%;\r\n            padding: 15px 20px 12px 23px;\r\n            background: rgba(255, 255, 255, 0.7);\r\n            border-left: 3px solid #fff;\r\n            font-size: 14px;\r\n        }\r\n\r\n        .accordion-selected-parent.accordion-open-state {\r\n            background: #fff;\r\n        }\r\n\r\n        .accordion-selected-parent {\r\n            border-left: 3px solid #04AAEF;\r\n            padding: 15px 20px 2px 20px;\r\n            cursor: pointer;\r\n        }\r\n\r\n        .accordion-item-template,\r\n        .accordion-item-wrapper {\r\n            display: flex;\r\n        }\r\n\r\n        .accordion-available-items {\r\n            border-top: 1px solid #ccc;\r\n            border-bottom: 1px solid #ccc;\r\n            background: #fff;\r\n        }\r\n\r\n        .accordion-listed-item {\r\n            display: block;\r\n        }\r\n\r\n        .accordion-text {\r\n            flex: 1;\r\n            text-align: left;\r\n            margin-left: 20px;\r\n            margin-top: 2px;\r\n            text-transform: uppercase;\r\n            white-space: nowrap; /*very important for fix windows phone bug*/\r\n        }\r\n\r\n        .accordion-selected-parent .accordion-text {\r\n            margin-top: -6px;\r\n        }\r\n\r\n        .accordion-sub-item-list {\r\n            margin: 0px 0px 10px 0px;\r\n        }\r\n\r\n        .accordion-sub-item {\r\n            padding: 10px 10px 15px 100px;\r\n            font-size: 14px;\r\n        }\r\n\r\n        .accordion-sub-item:hover,\r\n        .accordion-sub-item-parent:hover {\r\n            background: #E4F1F7;\r\n        }\r\n\r\n        .accordion-selected {\r\n            font-weight: bold;\r\n            background: #E4F1F7;\r\n        }\r\n\r\n    </style>\r\n    \x3c!--SELECTED ITEM TO BE DISPLAYED--\x3e\r\n    <div class="accordion-selected-parent" data-bind="click: parentClick, css: {\'accordion-open-state\': listOpen()}">\r\n        <div class="accordion-item-template" data-bind="template: {name: itemTemplate, data: selectedItem}"></div>\r\n        <span class="icon secondary-icon" data-bind="svgicon: listOpen() ? \'caret-up\' : \'caret-down\' , visible: (!singleMenuItemNoChild() && items.length > 0)"></span>  \r\n    </div>\r\n\r\n    \x3c!--LIST OF AVAILABLE ITEMS TO BE SHOWN ON CLICK--\x3e\r\n    <ul class="accordion-available-items" data-bind="visible: listOpen, foreach: items">\r\n        <li class="accordion-listed-item" data-bind="visible: $data.hasOwnProperty(\'visible\') ? ko.unwrap(visible) : true">\r\n            <div class="accordion-sub-item-parent" data-bind="click: $parent.itemClick">        \r\n                <div class="accordion-item-template" data-bind="template: {name: $parent.itemTemplate, data: $data}"></div>\r\n                <span class="icon secondary-icon" data-bind="svgicon: isOpen() ? \'caret-up\' : \'caret-down\' , visible: items.length > 0"></span>  \r\n            </div>\r\n            <div  class="accordion-sub-item-child">\r\n                <ul class="accordion-sub-item-list" data-bind="visible: items.length > 0 && isOpen(), foreach: items">\r\n                   <li class="accordion-subitem-template" data-bind="template: {name: $parents[1].subItemTemplate, data: $data}"></li>\r\n                </ul>\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</div>\r\n<script type="text/template" id="t_accordionListItemDefault">\r\n    <span class="icon primary-icon" data-bind="svgicon: icon"></span>\r\n    <span class="accordion-text" data-bind="text: text"></span>\r\n<\/script>\r\n<script type="text/template" id="t_accordionSubItemDefault">\r\n    <div class="accordion-sub-item" data-bind="text: title, click: $parents[2].subItemClick"></div>\r\n<\/script>\r\n\r\n'},{name:"im-app-control-header",contents:'<div class="im-app-control-header">\r\n    \x3c!-- ko if: IMHome.core.isNativeApp() === false --\x3e\r\n        <span class="app-controls-header" data-bind="text: text"></span>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},{name:"im-app-header",contents:'<div class="im-app-header" data-bind="\r\n    cssComponent: \'im-app-header\',\r\n    css: { \'has-template\': hasTemplate }\r\n">\r\n    <style type="text/template">\r\n        ._root {\r\n            overflow: hidden;\r\n            min-height: 200px;\r\n            top: 0px;\r\n            border: none;\r\n            position: relative;\r\n            bottom: 100%;\r\n            z-index: 20;\r\n        }\r\n\r\n        .header-image {\r\n            background-size: cover;\r\n            background-position-y: -110px;\r\n            position: absolute;\r\n            height: 100%;\r\n            top: 0px;\r\n            transform: scaleX(-1);\r\n            filter: FlipH;\r\n            -ms-filter: "FlipH";\r\n            opacity: 0.3;\r\n        }\r\n\r\n        .content-container {\r\n            padding: 48px 60px;\r\n            position: relative;\r\n        }\r\n\r\n        .header {\r\n            line-height: 1.2em;\r\n            font-size: 26px;\r\n            font-weight: bold;\r\n        }\r\n\r\n        .shadow {\r\n            position: absolute;\r\n            bottom: 0;\r\n            width: 100%;\r\n            height: 1px;\r\n            box-shadow: 0 0px 11px 1px #c8c8c8;\r\n        }\r\n\r\n        /* mobile view */\r\n        @media (max-width: 768px) {\r\n            ._root { min-height: auto; }\r\n            \r\n            ._root:not(.has-template) .content-container,\r\n            ._root:not(.has-template) .header-image { \r\n                display: none;\r\n            }\r\n        }\r\n\r\n        /* background positioning for different screen sizes---*/\r\n        @media (min-width: 1280px) {\r\n            .header-image {\r\n                width: 110%;\r\n            }\r\n        }\r\n\r\n        @media (min-width: 1750px) {\r\n            .header-image {\r\n                background-position-y: -160px;\r\n                width: 110%;\r\n            }\r\n        }\r\n\r\n        @media (max-width: 1280px) {\r\n            .header-image {\r\n                background-position-y: -70px;\r\n                width: 110%;\r\n            }\r\n        }\r\n\r\n        @media (max-width: 1024px) {\r\n            .header-image {\r\n                background-position-y: -30px;\r\n                width: 110%;\r\n            }\r\n        }\r\n\r\n    </style>\r\n\r\n    <div class="header-image" data-bind="\r\n        style: { backgroundImage: \'url(dist/images/\' + image + \')\' }"></div>\r\n    <div class="content-container">\r\n        \x3c!-- ko ifnot: hasTemplate --\x3e\r\n            <div class="header" data-bind="text: header"></div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: hasTemplate --\x3e\r\n            \x3c!-- ko template: { name: templateName, data: templateData } --\x3e\x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- ko if: hasTabs --\x3e\r\n        <im-tabs params="\r\n            tabs: tabs,\r\n            selectedTabId: selectedTabId,\r\n            APP_NAME: APP_NAME,\r\n            ariaLabel: tabAriaLabel,\r\n            ariaTabPanels: ariaTabPanels,\r\n            shouldAutoSelectOnFocus: false,\r\n        "></im-tabs>\r\n    \x3c!-- /ko --\x3e\r\n    <div class="shadow"></div>\r\n</div>'},{name:"im-attachment-list",contents:'<div class="im-attachment-list" data-bind="cssComponent: \'im-attachment-list\'">\r\n    <style type="text/template">\r\n        .download-link { \r\n            display: flex; \r\n            align-items: center;\r\n            padding: 10px;\r\n            border-radius: 5px;\r\n        }\r\n        .download-link:hover { background-color: #DCF8FF }\r\n        \r\n        .file-icon {\r\n            margin-right: 10px;\r\n            display: flex;\r\n        }\r\n        .file-icon .svgicon {\r\n            fill: #00a1ec;\r\n            width: 20px;\r\n            height: 20px;\r\n        }\r\n        .file-details { margin-right: auto; }\r\n        .download-title { word-break: break-all;}\r\n        .download-date {\r\n            color: #333;\r\n            font-size: .8em;\r\n        }\r\n        .download-attachment-text { \r\n            margin-right: 10px;\r\n            margin-left: 20px;\r\n            white-space: nowrap;\r\n        }\r\n        .download-icon .svgicon {\r\n            width: 20px;\r\n            height: 20px;\r\n        }    \r\n    </style>\r\n    \r\n    \x3c!-- ko if: attachments().length > 0 --\x3e\r\n\r\n        <div class="attachments">\r\n            <ul class="attachments-list" data-bind="foreach: attachments">\r\n                <li>\r\n                    <a class="download-link" data-bind="attr:{ href:url }, testId: \'im-attachment-list__download-link--\' + $index()">\r\n                        <span class="file-icon" data-bind="svgicon: fileIcon"></span>\r\n                        <span class="screen-reader-text" data-bind="text: $parent.translations.file"></span>\r\n                        <span class="file-details">\r\n                            <div class="download-title" data-bind="text: title"></div>\r\n                            \x3c!-- ko if: $data.date --\x3e\r\n                                <div class="download-date" data-bind="text: date"></div>\r\n                            \x3c!-- /ko --\x3e\r\n                        </span>\r\n                        <span class="download-attachment-text" data-bind="text: $parent.translations.downloadAttachment"></span>\r\n                        <span class="download-icon" data-bind="svgicon:\'download\'"></span>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},{name:"im-banner",contents:'<div class="im-banner" data-bind="cssComponent: \'im-banner\', css: { visible: isVisible }">\r\n\r\n    <style type="text/template">\r\n        ._root {\r\n            display: none;\r\n            margin: 0 0 15px 0;\r\n            font-size: 0.875rem;\r\n            line-height: 2.5rem;\r\n            padding: 5px 10px;\r\n            padding-right: 40px;\r\n            background: #e5eef5;\r\n            position: relative;\r\n            text-align: left;\r\n            width: 100%;\r\n        }\r\n\r\n        ._root.visible {\r\n            display: block;\r\n        }\r\n\r\n        .banner-body {\r\n            margin: 5px 0;\r\n        }\r\n\r\n        .banner-close {\r\n            position: absolute;\r\n            top: 0;\r\n            right: 0;\r\n            padding: 12px;\r\n            cursor: pointer;\r\n        }\r\n        .banner-close .svgicon {\r\n            width: 15px;\r\n            height: 15px;\r\n        }\r\n    </style>\r\n\r\n    \x3c!-- ko if: canClose --\x3e\r\n        <div class="banner-close" data-bind="click: closeAction, svgicon: closeIcon"></div>\r\n    \x3c!-- /ko --\x3e\r\n\r\n    <h4 class="banner-body" data-bind="text: text"></h4>\r\n\r\n</div>'},{name:"im-bubble-count",contents:'<span class="im-bubble-count" data-bind="cssComponent: \'im-bubble-count\', template: { afterRender: init }">\r\n    <style type="text/template">\r\n        ._root {\r\n            position: relative;\r\n            display: inherit;\r\n        }\r\n\r\n        .count {\r\n            position: absolute;\r\n            white-space: nowrap;\r\n            font-size: 10px;\r\n            padding: 2px 4px;\r\n            border-radius: 9px;\r\n            color: white;\r\n            background-color: black;\r\n            line-height: 11px;\r\n        }\r\n\r\n        .secondary-indicator {\r\n            position: absolute;\r\n            white-space: nowrap;\r\n            padding: 10px 2px 2px;\r\n            border-radius: 9px;\r\n            background-color: black;\r\n            line-height: 0px;\r\n        }\r\n\r\n        .secondary-indicator .character{\r\n            font-size: 17px;\r\n            color: white;\r\n            margin-top: -2px;\r\n        }\r\n\r\n        /* mobile view */\r\n        @media (max-width: 768px) { \r\n            .count {\r\n                font-size: 8px;\r\n                padding: 1px 3px;\r\n            }\r\n\r\n            .secondary-indicator {\r\n                padding: 7px 2px 2px 1px;\r\n            }\r\n\r\n            .secondary-indicator .character {\r\n                font-size: 16px;\r\n            }\r\n        }\r\n    </style>\r\n\r\n    \x3c!-- ko template: { nodes: $componentTemplateNodes, data: $parent } --\x3e\x3c!-- /ko --\x3e\r\n    <span class="count" data-bind="visible: countVisible">\r\n        \x3c!-- ko text: displayedCount --\x3e\x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: abbreviationVisible --\x3e\r\n            \x3c!-- ko text: abbreviation --\x3e\x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n    </span>\r\n    <span class="secondary-indicator" data-bind="visible: secondaryIndicatorVisible, style: secondaryIndicatorStyle">\r\n        <div class="character" data-bind="text: secondaryIndicator"></div>\r\n    </span>\r\n</span>'},{name:"im-busy",contents:'<div class="im-busy" data-bind="css: { active: busy }, cssComponent: \'im-busy\'">\r\n\r\n    <style type="text/template">\r\n        ._root {\r\n            position: fixed;\r\n            width: 100%;\r\n            height: 100%;\r\n            top: 0;\r\n            left: 0;\r\n            background: rgba(0,0,0,.65);\r\n            opacity: 0;\r\n            visibility: hidden;\r\n            -webkit-transition: opacity .35s, visibility .35s;\r\n            -moz-transition: opacity .35s, visibility .35s;\r\n            -ms-transition: opacity .35s, visibility .35s;\r\n            transition: opacity .35s, visibility .35s;\r\n        }\r\n\r\n            ._root.active {\r\n                opacity: 1;\r\n                visibility: visible;\r\n                z-index: 1000;\r\n            }\r\n\r\n            ._root .im-loader {\r\n                width: 100%;\r\n                height: 100%;\r\n                display: flex;\r\n                display: -ms-flexbox;\r\n            }\r\n\r\n                ._root .im-loader .loader {\r\n                    margin: auto;\r\n                    -webkit-align-self: center;\r\n                    -ms-flex-item-align: center;\r\n                    align-self: center;\r\n                }\r\n\r\n            ._root .loader .circle {\r\n                background: white;\r\n            }\r\n    </style>\r\n    <im-loader class="im-loader"></im-loader>\r\n</div>'},{name:"im-button",contents:'\x3c!-- ko if: type() !== TYPES.ICON_ONLY && type() !== TYPES.ICON_WITH_BORDER --\x3e\r\n<button\r\n  class="im-button"\r\n  data-bind="\r\n        cssComponent: \'im-button\',\r\n        event: buttonEvents,\r\n        hasFocus: focus,\r\n        tooltip: tooltip,\r\n        visible: visible,\r\n        css: {\r\n            \'disabled-button\': disabled,\r\n            \'margin-right\': marginRight,\r\n            \'margin-left\': marginLeft,\r\n            \'has-icon\': icon !== null,\r\n            \'has-secondary-icon\': secondaryIcon !== null,\r\n            \'success\': type() === TYPES.SUCCESS,\r\n            \'normal\': type() === TYPES.NORMAL,\r\n            \'secondary\': type() === TYPES.SECONDARY,\r\n            \'delete\': type() === TYPES.DELETE,\r\n            \'has-type\': type() !== null\r\n        },\r\n        reinstateFocus: reinstateFocus,\r\n        attr: buttonAttributes,\r\n    "\r\n>\r\n  <style type="text/template">\r\n    ._root {\r\n      font-size: 14px;\r\n    }\r\n\r\n    ._root.has-type {\r\n      margin: 0;\r\n      cursor: pointer;\r\n      font-family: "Open Sans", "sans-serif";\r\n      font-weight: 600;\r\n      box-sizing: border-box;\r\n      letter-spacing: 0.025em;\r\n      background-color: #fff;\r\n      color: #0076b9;\r\n      border: 1px solid #0076b9;\r\n      border-radius: 2px;\r\n      height: 36px;\r\n      min-width: 75px;\r\n      padding: 0 15px;\r\n      text-transform: uppercase;\r\n      white-space: nowrap;\r\n      vertical-align: top;\r\n      display: inline-block;\r\n    }\r\n\r\n    ._root.has-type.margin-right {\r\n      margin-right: 5px;\r\n    }\r\n    ._root.has-type.margin-left {\r\n      margin-left: 5px;\r\n    }\r\n\r\n    ._root.has-type.has-icon {\r\n      padding-left: 12px;\r\n      align-self: center;\r\n    }\r\n\r\n    ._root.has-type.has-secondary-icon {\r\n      padding-right: 6px;\r\n    }\r\n\r\n    ._root.has-type .flex-container {\r\n      display: inline-flex;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n\r\n    ._root.has-type .icon {\r\n      display: inline-flex;\r\n      align-self: center;\r\n      height: 20px;\r\n      min-width: 20px;\r\n    }\r\n\r\n    ._root.has-type .icon .svgicon {\r\n      width: 20px;\r\n      height: 20px;\r\n      max-width: 20px;\r\n      max-height: 20px;\r\n    }\r\n\r\n    ._root.has-type .primary-icon {\r\n      margin-right: 11px;\r\n    }\r\n\r\n    ._root.has-type .secondary-icon {\r\n      margin-left: 9px;\r\n      color: #666;\r\n    }\r\n\r\n    ._root.has-type:active .secondary-icon {\r\n      color: #fff;\r\n    }\r\n\r\n    ._root.has-type .text {\r\n      align-self: center;\r\n      flex-grow: 1;\r\n      display: inline-block;\r\n    }\r\n\r\n    ._root.has-type:focus {\r\n      outline: 3px solid orange;\r\n      box-shadow: 0 0 0 6px black;\r\n      z-index: 9999;\r\n      border-radius: 5px;\r\n    }\r\n\r\n    /* Normal \r\n        ---------------------------------------------------------------------- */\r\n    ._root.normal:hover {\r\n      background-color: #0076b9;\r\n      color: white;\r\n    }\r\n\r\n    ._root.normal:active {\r\n      background-color: #0080bd;\r\n    }\r\n\r\n    /* Success \r\n        ---------------------------------------------------------------------- */\r\n    ._root.success {\r\n      background-color: #04d36f;\r\n      border-color: #04d36f;\r\n      color: #fff;\r\n    }\r\n\r\n    ._root.success:hover {\r\n      background-color: #04b35d;\r\n      border-color: #04b35d;\r\n    }\r\n\r\n    ._root.success:focus {\r\n      border-color: #7fbff0;\r\n    }\r\n\r\n    ._root.success:active {\r\n      background-color: #03864e;\r\n      border-color: #03864e;\r\n    }\r\n\r\n    ._root.success .icon .svgicon {\r\n      fill: white;\r\n    }\r\n\r\n    /* Secondary \r\n        ---------------------------------------------------------------------- */\r\n\r\n    ._root.secondary {\r\n      border-color: #7c7c7c;\r\n      color: #444955;\r\n    }\r\n\r\n    ._root.secondary:hover {\r\n      color: #444955;\r\n      background-color: #e0e0e0;\r\n      border-color: #e0e0e0;\r\n    }\r\n\r\n    ._root.secondary:active {\r\n      color: #fff;\r\n      background-color: #444955;\r\n      border-color: #444955;\r\n    }\r\n\r\n    /* Delete \r\n        ---------------------------------------------------------------------- */\r\n    ._root.delete {\r\n      background-color: #e01c00;\r\n      border-color: #e01c00;\r\n      color: #fff;\r\n    }\r\n\r\n    ._root.delete:hover {\r\n      background-color: #c51c01;\r\n      border-color: #c51c01;\r\n    }\r\n\r\n    ._root.delete:active {\r\n      background-color: #a81c00;\r\n      border-color: #a81c00;\r\n    }\r\n\r\n    /* Borderless\r\n        ---------------------------------------------------------------------- */\r\n\r\n    ._root.borderless {\r\n      border-width: 0;\r\n      color: #444955;\r\n    }\r\n\r\n    ._root.borderless:hover {\r\n      color: #444955;\r\n      background-color: #e0e0e0;\r\n      border-color: #e0e0e0;\r\n    }\r\n\r\n    ._root.borderless:active {\r\n      color: #fff;\r\n      background-color: #444955;\r\n      border-color: #444955;\r\n    }\r\n\r\n    ._root.borderless:focus {\r\n      box-shadow: none;\r\n    }\r\n\r\n    /* Disabled \r\n        ---------------------------------------------------------------------- */\r\n    ._root.has-type.disabled-button,\r\n    ._root.has-type.disabled-button:hover,\r\n    ._root.has-type.disabled-button:focus,\r\n    ._root.has-type.disabled-button:active,\r\n    ._root.has-type.disabled-button .icon,\r\n    ._root.has-type.disabled-button:hover .icon,\r\n    ._root.has-type.disabled-button:focus .icon,\r\n    ._root.has-type.disabled-button:active .icon {\r\n      background-color: #ebebeb;\r\n      border-color: #ebebeb;\r\n      color: #cccccc;\r\n      box-shadow: none;\r\n      cursor: auto;\r\n    }\r\n    ._root.disabled-button {\r\n      cursor: auto;\r\n    }\r\n  </style>\r\n\r\n  <span class="flex-container">\r\n    \x3c!-- ko if: icon --\x3e\r\n    <span class="icon primary-icon" data-bind="svgicon: icon"></span>\r\n    \x3c!-- /ko --\x3e\r\n    <span class="text" data-bind="text: text"></span>\r\n    \x3c!-- ko if: secondaryIcon !== null --\x3e\r\n    <span class="icon secondary-icon" data-bind="svgicon: secondaryIcon"></span>\r\n    \x3c!-- /ko --\x3e\r\n  </span>\r\n</button>\r\n\x3c!-- /ko --\x3e\r\n\x3c!-- ko if: type() === TYPES.ICON_ONLY || type() === TYPES.ICON_WITH_BORDER --\x3e\r\n<button\r\n  class="im-button"\r\n  data-bind="\r\n    cssComponent: \'im-button\',\r\n    event: buttonEvents,\r\n    tooltip: tooltip,\r\n    hasFocus: focus,\r\n    css: {\r\n        \'disabled-button\': disabled,\r\n        \'svg-icon-with-border\': type() === TYPES.ICON_WITH_BORDER,\r\n    },\r\n    attr: buttonAttributes,\r\n"\r\n>\r\n  <style type="text/template">\r\n    ._root {\r\n      display: inline-block;\r\n    }\r\n\r\n    ._root.svg-icon-with-border {\r\n      border: 1px solid currentColor;\r\n      border-radius: 3px;\r\n      line-height: inherit;\r\n    }\r\n\r\n    .svg-icon-container {\r\n      margin: 5px;\r\n      display: inline-block;\r\n      color: #7d8898;\r\n    }\r\n\r\n    .svgicon {\r\n      width: 20px;\r\n      height: 20px;\r\n    }\r\n\r\n    /* Disabled state */\r\n    ._root.disabled-button .svg-icon-container {\r\n      color: #cccccc;\r\n      cursor: default;\r\n    }\r\n  </style>\r\n\r\n  <span class="svg-icon-container" data-bind="svgicon: icon"></span>\r\n</button>\r\n\x3c!-- /ko --\x3e\r\n'},{name:"im-button-dropdown",contents:'<div class="im-button-dropdown" data-bind="\r\n    cssComponent: \'im-button-dropdown\',\r\n    event: { \r\n        keyup: onRootKeyup,\r\n    },\r\n    confineFocusV2: isOpen,\r\n">\r\n\r\n    <style type="text/template">\r\n        .dropdown {\r\n            position: relative;\r\n        }\r\n\r\n        .dropdown-content-wrapper {\r\n            z-index: 998;\r\n            position: absolute;\r\n            top: 44px;\r\n            min-width: 100%;\r\n        }\r\n\r\n        .dropdown-content {\r\n            display: block;\r\n            background-color: #fff;\r\n            margin-top: 2px;\r\n            border: 1px solid #6C7587;\r\n            -moz-box-shadow: 0px 2px 13px 0px rgba(0, 0, 0, 0.14);\r\n            border-radius: 2px;\r\n            box-shadow: 0px 2px 13px 0px rgba(0, 0, 0, 0.14);\r\n        }\r\n\r\n        .dropdown-item {\r\n            padding: 8px 0px;\r\n            color: #444955;\r\n            width: 100%;\r\n        }\r\n\r\n        .dropdown-item:hover {\r\n            background-color: #E0E0E0;\r\n        }\r\n\r\n        .dropdown-item-text {\r\n            padding: 5px 10px;\r\n        }\r\n        \r\n        .button-dropdown-triangle {\r\n            top: 23px;\r\n            left: 50%;\r\n            margin-left: -12px;\r\n            position: absolute;\r\n            z-index: 999;\r\n        }\r\n\r\n        .button-dropdown-triangle .triangle {\r\n            fill: #fff;\r\n        }\r\n\r\n        .button-dropdown-triangle .stroke {\r\n            fill: #6C7587;\r\n        }\r\n    </style>\r\n    <div class="dropdown" data-bind="css: {\'open\': isOpen}">\r\n        <im-button params="\r\n            text: text,\r\n            click: click,\r\n            tooltip: tooltip,\r\n            icon: icon,\r\n            disabled: disabled,\r\n            type: type,\r\n            context: context,\r\n            secondaryIcon: secondaryIcon,\r\n            marginRight: marginRight,\r\n            marginLeft: marginLeft,\r\n            reinstateFocus: isOpen() === false,\r\n        "></im-button>\r\n        \x3c!-- ko if: isOpen() && items().length > 0 --\x3e\r\n        <div class="dropdown-content-wrapper">\r\n            <ul class="dropdown-content" data-bind="template: { name: itemTemplateName, foreach: items, as: \'item\' }">\r\n            </ul>\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>\r\n\r\n\r\n<script type="text/html" id="textOnly">\r\n    <li data-bind="css: classNames">\r\n        <button class="link-emulate dropdown-item" data-bind="click: item.click"> \x3c!-- would be benefitial to remove link-emulate class from component --\x3e\r\n            <span class="dropdown-item-text" data-bind="text: item.title"></span>\r\n        </button>\r\n    </li>\r\n<\/script>\r\n\r\n<script type="text/html" id="textAndIcon">\r\n    <li data-bind="css: classNames">\r\n        <button class="dropdown-item" data-bind="click: item.click">\r\n            <span class="dropdown-item-icon" data-bind="svgicon: item.icon"></span>\r\n            <span class="dropdown-item-text" data-bind="text: item.title"></span>\r\n        </button>\r\n    </li>\r\n<\/script>'},{name:"im-button-dropdown-extra",contents:'<div data-bind="cssComponent: \'im-button-dropdown-extra\'">\r\n    <style type="text/template">\r\n        ._root {\r\n            width: auto;\r\n            margin-right: 30px;\r\n        }\r\n\r\n        .flex-container {\r\n            display: flex;\r\n            flex-direction: row-reverse;\r\n        }\r\n\r\n        .primary-icon { \r\n            margin-left: 5px;\r\n        }\r\n\r\n        .secondary-icon { display: none; }\r\n\r\n        .im-button-dropdown .dropdown {\r\n            display: flex;\r\n            justify-content: flex-end;\r\n        }\r\n\r\n        .im-button-dropdown .dropdown-content-wrapper { \r\n            top: 35px; \r\n            min-width: 220px;\r\n        }\r\n\r\n        .im-button-dropdown .dropdown-content-wrapper:before {\r\n            content: \'\';\r\n            position: absolute;\r\n            width: 0;\r\n            height: 0;\r\n            border-left: 10px solid transparent;\r\n            border-right: 10px solid transparent;\r\n            border-bottom: 10px solid #ffffff;\r\n            right: 20px;\r\n            top: -8px;\r\n        }\r\n\r\n        .im-button-dropdown .dropdown-content { \r\n            border-radius: 10px;     \r\n            overflow: hidden;\r\n            border: none;\r\n            box-shadow: 0 0 25px 0 rgba(0, 0, 0, 0.25);;\r\n        }\r\n        .im-button-dropdown .dropdown-item {\r\n            color: #444955;\r\n            padding: 13px 0 !important;\r\n            border-bottom: 1px solid #979797;\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n        li:last-child .dropdown-item { border-bottom: none; }\r\n        .dropdown-item-text { margin: 0 auto 0 20px; }\r\n        .tick { margin-right: 20px; }\r\n        .tick .svgicon {\r\n            width: 25px;\r\n            height: 25px;\r\n        }\r\n    </style>\r\n    <im-button-dropdown params="\r\n        itemTemplateName: \'t_checkedItemDropdown\',\r\n        text: text,\r\n        icon: icon,\r\n        tooltip: tooltip,\r\n        items: items,\r\n        disabled: disabled\r\n    "></im-button-dropdown>\r\n</div>\r\n\r\n<script id="t_checkedItemDropdown" type="text/template">\r\n    <li class="dropdown-list-item">\r\n        <button class="dropdown-item" data-bind="click: item.click"> \r\n            <span class="dropdown-item-text" data-bind="text: item.title"></span>\r\n        </button>\r\n    </li>\r\n<\/script>'},{name:"im-card",contents:'<div class="im-card" data-bind="cssComponent: \'im-card\', css: {\'is-mobile-view\': IMHome.core.isMobile}">\r\n    <style type="text/template">\r\n        ._root {\r\n            border: 1px solid #e2e2e2;\r\n            border-radius: 10px;\r\n            min-width: 100px;\r\n            min-height: 100px;\r\n            margin: 10px;\r\n        }\r\n        ._root.is-mobile-view {\r\n            border: 0;\r\n            border-radius: 0;\r\n            border-bottom: 1px solid #e2e2e2;\r\n            padding: 0 10px;\r\n        }\r\n    </style>\r\n    \x3c!-- ko template: { \r\n        nodes: $componentTemplateNodes,\r\n        data: $parent\r\n    } --\x3e\x3c!-- /ko --\x3e\r\n</div>'},{name:"im-card-meta",contents:'<div class="im-card-meta" data-bind="cssComponent: \'im-card-meta\'">\r\n    <style type="text/template">\r\n        ._root {\r\n            color: #717478;\r\n            margin: 0 15px 15px;\r\n        }\r\n        .author { \r\n            color: #444955;\r\n            font-weight: 600;\r\n        }\r\n        .date, \r\n        .time { color: #737373; }\r\n    </style>\r\n    <span class="by" data-bind="text: by"></span>\r\n    <span class="author" data-bind="text: author"></span>\r\n    <span class="on" data-bind="text: on"></span>\r\n    <span class="date" data-bind="text: date"></span>\r\n    \x3c!-- ko if: $data.time --\x3e\r\n        <span class="time" data-bind="text: time"></span>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},{name:"im-checkbox",contents:'<div data-bind="cssComponent: \'im-checkbox\'" class="im-checkbox-root">\r\n    <style type="text/template">\r\n        ._root {            \r\n            height: 20px;\r\n        }\r\n\r\n        .wrapper {\r\n            font-weight: inherit;\r\n            color: inherit;\r\n            width: auto;\r\n        }\r\n\r\n            .wrapper:focus {\r\n                outline: none;\r\n            }\r\n\r\n        .inner-wrapper{\r\n            display: flex;\r\n        }\r\n\r\n        .checkbox {\r\n            background: #fff;\r\n            border: 1px solid #CCC;\r\n            border-radius: 4px;\r\n            height: 20px;\r\n            width: 20px;\r\n            align-self: center;\r\n            cursor: pointer;\r\n            padding: 0;   \r\n            box-sizing: border-box;   \r\n        }\r\n\r\n        .checkbox.focus {\r\n           border-color: rgba(82, 168, 236, 0.8);\r\n        }\r\n\r\n        .checkbox.form-indent {\r\n            margin-left: 220px;\r\n        }\r\n\r\n        .disabled {\r\n            background: #E0E0E0;\r\n            cursor: auto;\r\n        }\r\n        \r\n        .tick-icon {\r\n            color: #1F1F1F;\r\n        }\r\n\r\n        .tick-icon .svgicon {\r\n            height: 20px;\r\n            width: 20px;\r\n            vertical-align: auto; /* Fallback for IE11 */\r\n            vertical-align: initial;\r\n        }\r\n\r\n        .text {\r\n            align-self: center;\r\n            margin-left: 10px;\r\n            cursor: pointer;\r\n            font-size: 14px;\r\n            color: #444955;\r\n        }\r\n\r\n        .no-text {\r\n            display: none;\r\n        }\r\n    </style>\r\n\r\n    <div class="im-checkbox wrapper" data-bind="\r\n        click: click,\r\n        event: {\r\n            keyup: keyup,\r\n            keydown: keydown\r\n        },\r\n        attr: {\r\n                tabindex: disabled() ? null : \'0\'\r\n            }">\r\n        <div class="inner-wrapper">\r\n            <div class="checkbox" data-bind="\r\n                css: {\r\n                    \'disabled\' : disabled,\r\n                    \'focus\' : focus,\r\n                    \'checked\': checked,\r\n                    \'form-indent\': formIndent\r\n                },\r\n\r\n            ">\r\n                <div class="tick-icon" data-bind="visible: checked, svgicon: \'tick\'"></div>\r\n            </div>\r\n            <div class="text" data-bind="css: { \'no-text\': !hasText }">\r\n                \x3c!-- ko text: text --\x3e\x3c!-- /ko --\x3e\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},{name:"im-chip",contents:'<div class="im-chip" data-bind="cssComponent: \'im-chip\', css: typeClass">\r\n    <style type="text/template">\r\n        ._root { border-radius: 10px; }\r\n\r\n        .wrapper {\r\n            border-radius: 10px;\r\n            padding: 8px 8px;\r\n            display: flex;\r\n            align-items: center;\r\n            overflow: hidden;\r\n        }\r\n        ._root.default .wrapper {\r\n            background-color: #fff;\r\n            border: 1px solid #c7c7c7;\r\n            color: #000;\r\n        }\r\n        ._root.primary .wrapper {\r\n            background-color: #1b78cb;\r\n            border: 1px solid #1b78cb;\r\n            color: #FFF;\r\n        }\r\n        ._root.secondary .wrapper {\r\n            background-color: #999;\r\n            border: 1px solid #999;\r\n            color: #FFF;\r\n        }\r\n        ._root.no-background .wrapper {\r\n            background-color: transparent;\r\n        }\r\n        ._root.no-padding .wrapper {\r\n            padding: 0;\r\n            text-align: center;\r\n        }\r\n        ._root.wide-border .wrapper {\r\n            border-width: 3px;\r\n        }\r\n        ._root.rounded-radius .wrapper {\r\n            border-radius: 24px;\r\n            min-height: 24px;\r\n            min-width: 24px;\r\n        }\r\n        .wrapper .text {\r\n            white-space: nowrap;\r\n        }\r\n        .wrapper .svgicon {\r\n            width: 12px;\r\n            height: 12px;\r\n            fill: #FFF;\r\n        }\r\n        .clickable {\r\n            cursor: pointer;\r\n        }\r\n        .svgicon-container {\r\n            height: 12px;\r\n        }\r\n        .svgicon-wrapper {\r\n            padding-left: 10px;\r\n            height: 12px;\r\n        }\r\n    </style>\r\n    \x3c!-- ko if: hasOnClick --\x3e\r\n        <button class="wrapper" data-bind="click: onClick, style: layoutColorOverwrites">\r\n            <div class="text" data-bind="text: text, style: fontOverwrites"></div>\r\n            <div class="svgicon-container" data-bind="if: hasIcon">\r\n                <div class="svgicon-wrapper" data-bind="svgicon: icon">\r\n                </div>\r\n            </div>\r\n        </button>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko ifnot: hasOnClick --\x3e\r\n        <div class="wrapper" data-bind="style: layoutColorOverwrites">\r\n            <div class="text" data-bind="text: text, style: fontOverwrites"></div>\r\n            <div class="svgicon-container" data-bind="if: hasIcon">\r\n                <div class="svgicon-wrapper" data-bind="svgicon: icon">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n\r\n '},{name:"im-comment",contents:'<div class="im-comment" data-bind="cssComponent: \'im-comment\'">\r\n\r\n    <style type="text/template">\r\n        ._root {\r\n            margin-bottom: 20px;\r\n            font-size: 14px;\r\n        }\r\n\r\n        .comment-text {\r\n            background: #e9eff8;\r\n            position: relative;\r\n            padding: 14px;\r\n            line-height: 1.5;\r\n            border: #e9eff8;\r\n            border-radius: 3px;\r\n            overflow-wrap: break-word;\r\n        }\r\n\r\n        .comment-text::before {\r\n            content: \'\';\r\n            display: block;\r\n            width: 0;\r\n            height: 0;\r\n            border: 20px solid transparent;\r\n            border-left-color: #e9eff8;\r\n            position: absolute;\r\n            bottom: -20px;\r\n            right: 0;\r\n        }\r\n\r\n        .comment-meta {\r\n            margin-right: 50px;\r\n            margin-left: 15px;\r\n            margin-top: 5px;\r\n            display: -webkit-flex;\r\n            display: -ms-flexbox;\r\n            display: flex;\r\n            line-height: 16px;\r\n            -webkit-justify-content: space-between;\r\n            -ms-flex-pack: justify;\r\n            justify-content: space-between;\r\n        }\r\n\r\n        .comment-by {\r\n            margin-left: 20px;\r\n            max-width: 50%;\r\n            text-align: right;\r\n        }\r\n\r\n        /* flip styles */\r\n        .flip .comment-text {\r\n            background: #e0efe6;\r\n            border-color: #e0efe6; \r\n        }\r\n\r\n        .flip .comment-text::before {\r\n            border: 20px solid transparent;\r\n            border-right-color: #e0efe6;\r\n            right: inherit;\r\n            left: 3px;\r\n        }\r\n\r\n        .flip .comment-meta {\r\n            flex-direction: row-reverse;\r\n            margin-left: 50px;\r\n            margin-right: 15px;\r\n        }\r\n\r\n        .flip .comment-by { margin-left: 3px; }\r\n    </style>\r\n\r\n    <div data-bind="css: { \'flip\': flip }">\r\n        <div class="comment-text" data-bind="text: text"></div>\r\n        <div class="comment-meta">\r\n            <span class="comment-date" data-bind="text: date"></span>\r\n            <span class="comment-by" data-bind="text: username"></span>\r\n        </div>\r\n    </div>\r\n</div>'},{name:"im-dialog",contents:'<div\r\n  class="im-dialog"\r\n  data-bind="\r\n        cssComponent: \'im-dialog\', \r\n        css: state.getRootStyling, \r\n        attr: state.dialogAriaAttributes,\r\n        confineFocusV2: state.active,\r\n        hidden: state.active() === false,\r\n"\r\n>\r\n  <style type="text/template">\r\n    .svgicon {\r\n      fill: currentColor;\r\n    }\r\n\r\n    ._root {\r\n      position: absolute;\r\n      z-index: -1;\r\n      height: 0;\r\n      width: 0;\r\n      top: 00px;\r\n      left: 0;\r\n      overflow: hidden;\r\n    }\r\n\r\n    ._root.open {\r\n      /* position: relative; */\r\n      z-index: 100; /* one lower than sidebar */\r\n      height: 100%;\r\n      width: 100%;\r\n      overflow: visible;\r\n    }\r\n\r\n    ._root.hide {\r\n      display: none;\r\n    }\r\n\r\n    .im-dialog-wrapper {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      display: -ms-flexbox;\r\n      display: flex;\r\n      justify-content: center;\r\n      -ms-flex-pack: center;\r\n      height: 100%;\r\n      max-height: 100%;\r\n      width: 100%;\r\n      margin: 0;\r\n      padding: 0;\r\n      background-color: rgba(0, 0, 0, 0.5);\r\n      opacity: 0;\r\n      transition: opacity 0.15s ease-in;\r\n      overflow-y: auto;\r\n      padding-top: 30px;\r\n      padding-bottom: 30px;\r\n      box-sizing: border-box;\r\n      z-index: 2;\r\n    }\r\n\r\n    .im-dialog-wrapper.active {\r\n      opacity: 1;\r\n    }\r\n\r\n    .im-dialog {\r\n      margin: auto 0;\r\n      justify-content: center;\r\n      -ms-flex-item-align: center;\r\n      font-family: "Open Sans", sans-serif;\r\n      background: #fff;\r\n      width: 90%;\r\n      max-width: 1080px;\r\n      min-width: 300px;\r\n      box-sizing: border-box;\r\n      z-index: 3;\r\n      overflow: hidden;\r\n      align-self: flex-start;\r\n    }\r\n\r\n    .im-dialog.dialog-small {\r\n      max-width: 500px;\r\n    }\r\n\r\n    .im-dialog-header {\r\n      min-height: 77px;\r\n      border-bottom: solid 1px #ccc;\r\n      padding-left: 40px;\r\n      display: -ms-flexbox;\r\n      display: flex;\r\n      -ms-flex-align: center;\r\n      align-items: center;\r\n      line-height: 1.2;\r\n    }\r\n\r\n    .close-icon {\r\n      display: inline-block;\r\n      color: #8f99a6;\r\n      height: 14px;\r\n      width: 14px;\r\n      padding: 15px;\r\n      box-sizing: content-box;\r\n      -ms-flex-item-align: start;\r\n      align-self: flex-start;\r\n    }\r\n\r\n    .close-icon .svgicon {\r\n      display: block;\r\n      height: 14px;\r\n      width: 14px;\r\n    }\r\n\r\n    .im-dialog-header .im-dialog-title {\r\n      -webkit-flex-grow: 1;\r\n      -ms-flex-positive: 1;\r\n      flex-grow: 1;\r\n      font-size: 26px;\r\n      font-style: normal;\r\n      color: #444955;\r\n      max-width: 100%;\r\n      display: inline-block;\r\n      margin-top: 18px;\r\n      margin-bottom: 18px;\r\n      overflow: hidden;\r\n    }\r\n\r\n    .im-dialog-icon {\r\n      margin-right: 15px;\r\n      color: #6c7587;\r\n    }\r\n\r\n    .im-dialog-icon .svgicon {\r\n      width: 24px;\r\n      height: 24px;\r\n    }\r\n\r\n    .im-dialog-body {\r\n      font-style: normal;\r\n      color: #444955;\r\n    }\r\n\r\n    /* Defaulted mobile styling */\r\n    @media (max-width: 768px) {\r\n      ._root {\r\n        top: -50px;\r\n      }\r\n\r\n      ._root.open {\r\n        margin-top: 50px;\r\n        /* account for the margin */\r\n        height: calc(100% - 50px);\r\n      }\r\n\r\n      .is-native-app ._root.open {\r\n        height: 100%;\r\n      }\r\n\r\n      .im-dialog-wrapper {\r\n        padding: 0;\r\n      }\r\n\r\n      .im-dialog-wrapper.active {\r\n        padding: 0;\r\n        display: block;\r\n      }\r\n\r\n      .im-dialog-wrapper .im-dialog {\r\n        width: 100%;\r\n        min-height: 100%;\r\n        max-width: 100%;\r\n      }\r\n\r\n      .im-dialog-header {\r\n        padding-left: 20px;\r\n        display: none;\r\n      }\r\n\r\n      .close-icon {\r\n        padding: 25px;\r\n      }\r\n    }\r\n  </style>\r\n  <div\r\n    id="im-dialog-wrapper"\r\n    class="im-dialog-wrapper"\r\n    data-bind="\r\n            css: {\'active\': state.active}, \r\n            transitionEnd: action.hideContainer"\r\n  >\r\n    <div\r\n      class="im-dialog"\r\n      data-bind="\r\n                css: {\r\n                    \'dialog-small\': state.dialogSize() === \'SMALL\',\r\n                    \'dialog-normal\': state.dialogSize() === \'NORMAL\'\r\n                }\r\n        "\r\n    >\r\n      <div class="im-dialog-header">\r\n        \x3c!-- ko ifnot: state.hasHeaderTemplate --\x3e\r\n        \x3c!-- ko if: data.icon --\x3e\r\n        <span class="im-dialog-icon" data-bind="svgicon: data.icon"></span>\r\n        \x3c!-- /ko --\x3e\r\n        <span class="im-dialog-title">\r\n          <span data-bind="text: data.title"></span>\r\n        </span>\r\n        <button\r\n          class="close-icon"\r\n          data-bind="\r\n                            svgicon: \'cross\', \r\n                            click: action.close, \r\n                            attr: state.closeButtonAria, \r\n                            tabbable: state.active\r\n                    "\r\n        ></button>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: state.hasHeaderTemplate() && data.templateReady() --\x3e\r\n        \x3c!-- ko template: { name: data.internalHeaderTemplateName, data: data.internalData } --\x3e\x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n      </div>\r\n\r\n      \x3c!-- ko if: data.templateReady --\x3e\r\n      \x3c!-- ko template: \r\n                    { \r\n                        name: data.internalTemplateName,\r\n                        templateUrl: data.internalTemplateUrl(),\r\n                        data: data.internalData,\r\n                        ajax: {cache: false}\r\n                    } \r\n                --\x3e\x3c!-- /ko --\x3e\r\n\r\n      \x3c!-- /ko --\x3e\r\n    </div>\r\n  </div>\r\n</div>\r\n'},{name:"im-dropdown-sort",contents:'<div class="im-dropdown-sort" data-bind="cssComponent: \'im-dropdown-sort\'">\r\n    <style type="text/template">\r\n        ._root {\r\n            width: auto;\r\n        }\r\n\r\n        .flex-container {\r\n            display: flex;\r\n            flex-direction: row-reverse;\r\n            align-items: center;\r\n        }\r\n\r\n        .primary-icon { \r\n            margin-left: 10px;\r\n        }\r\n\r\n        .secondary-icon { display: none; }\r\n\r\n        .im-button-dropdown .dropdown {\r\n            display: flex;\r\n            justify-content: flex-end;\r\n        }\r\n\r\n        .im-button-dropdown .dropdown .im-button .svgicon {\r\n            width: 15px;\r\n            height: 15px;\r\n            fill: currentColor;\r\n        }\r\n\r\n        .im-button-dropdown .dropdown-content-wrapper { \r\n            top: 35px; \r\n            min-width: 220px;\r\n            right: 0;\r\n        }\r\n\r\n        .im-button-dropdown .dropdown-content-wrapper:before {\r\n            content: \'\';\r\n            position: absolute;\r\n            width: 0;\r\n            height: 0;\r\n            border-left: 10px solid transparent;\r\n            border-right: 10px solid transparent;\r\n            border-bottom: 10px solid #ffffff;\r\n            right: 20px;\r\n            top: -8px;\r\n        }\r\n\r\n        .im-button-dropdown .dropdown-content { \r\n            border-radius: 10px;     \r\n            overflow: hidden;\r\n            border: none;\r\n            box-shadow: 0 0 25px 0 rgba(0, 0, 0, 0.25);\r\n        }\r\n        .im-button-dropdown .dropdown-list-item .dropdown-item {\r\n            color: #444955;\r\n            padding: 13px 0;\r\n            border-bottom: 1px solid #979797;\r\n            display: flex;\r\n            align-items: center;\r\n            outline-offset: -2px;\r\n        }\r\n        .dropdown-list-item:last-child .dropdown-item { border-bottom: none; }\r\n        .dropdown-item-text { margin: 0 auto 0 20px; }\r\n        .dropdown-list-item .dropdown-item:hover { background-color: #ebf8fe; }\r\n        \r\n        .state-icon { margin-right: 20px; }\r\n        .state-icon .svgicon {\r\n            width: 20px;\r\n            height: 20px;\r\n            pointer-events: none;\r\n            fill: currentColor;\r\n        }\r\n\r\n    </style>\r\n    <im-button-dropdown params="\r\n        itemTemplateName: \'t_sortItemDropdown\',\r\n        text: text,\r\n        icon: icon,\r\n        tooltip: tooltip,\r\n        items: items,\r\n        disabled: disabled,\r\n        keepOpenWhenItemClicked: false,\r\n    "></im-button-dropdown>\r\n</div>\r\n\r\n<script id="t_sortItemDropdown" type="text/template">\r\n    <li class="dropdown-list-item">\r\n        <button class="dropdown-item" data-bind="click: item.click">\r\n            <span class="dropdown-item-text" data-bind="text: item.title"></span>\r\n            \x3c!-- ko if: state() !== $parents[1].SORT_STATES.NONE --\x3e\r\n                <span class="state-icon" data-bind="\r\n                    svgicon: state() === $parents[1].SORT_STATES.ASC\r\n                        ? \'sort-ascending\'\r\n                        : \'sort-descending\'\r\n                "></span>\r\n            \x3c!-- /ko --\x3e\r\n        </button>\r\n    </li>\r\n<\/script>'},{name:"im-eca-marking-visual",contents:"<div class=\"im-eca-marking-visual\" data-bind=\"cssComponent: 'im-eca-marking-visual', css: { 'highlighted': highlighted, 'big': big }\">\r\n    <style type=\"text/template\">\r\n        ._root {\r\n            display: flex;\r\n            padding: 5px 0;\r\n        }\r\n        .im-mark-visual-box {\r\n            border: 1px solid #707070;\r\n            background-color: #FFF;\r\n            width: 15px;\r\n            height: 15px;\r\n            border-radius: 5px;\r\n        }\r\n        .im-mark-visual-box.marked { background-color: #6f95b3; }\r\n        ._root.highlighted .im-mark-visual-box.marked { background-color: #6BBFFF; }\r\n        ._root.big .im-mark-visual-box { \r\n            width: 25px;\r\n            height: 25px;\r\n        }\r\n\r\n    </style>\r\n    <div class=\"im-mark-visual-box\" data-bind=\"css: { 'marked': state === '1' }\"></div>\r\n    <div class=\"im-mark-visual-box\" data-bind=\"css: { 'marked': state === '2' }\"></div>\r\n    <div class=\"im-mark-visual-box\" data-bind=\"css: { 'marked': state === '3' }\"></div>\r\n</div>"},{name:"im-input",contents:'<span class="im-input" data-bind="cssComponent: \'im-input\', css: {\'full-width\': fullWidth }">\r\n\r\n\t<style type="text/template">\r\n\r\n\t\t._root {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tmin-width: 300px;\r\n\t\t}\r\n        \r\n         ._root.full-width {\r\n            width: 100%;\r\n        }\r\n\r\n\t\t.input {\r\n\t\t\tborder: 1px solid #DBDDDE;\r\n            color: #444955;\r\n\t\t\tcursor: text;\r\n\t\t\tpadding: 0 15px;\r\n\t\t\tmargin-bottom: 0;\r\n\t\t\theight: 36px;\r\n\t\t\tbox-shadow: none;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tmin-width: 100%;\r\n\t\t\tborder-radius: 2px;\r\n\t\t}\r\n\r\n\t\t.input-disabled {\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfont-style: initial;\r\n\t\t\tbackground: #F2F2F2;\r\n\t\t\tborder-color: #F2F2F2;\r\n\t\t}\r\n\r\n        .input:focus {\r\n            border-color: #66CDF4;\r\n            outline: none;\r\n\t\t\tbox-shadow: none;\r\n        }\r\n\r\n        .input.input-invalid:focus,\r\n\t\t.input-invalid {\r\n\t\t\tbackground: #F2F2F2;\r\n            /* color: #c03; */\r\n\t\t\tborder-color: #c03;\r\n\t\t}\r\n\r\n\t</style>\r\n\t\t\r\n\t<input type="text" class="input" data-bind="\r\n        attr: attributes,\r\n        css: { \'input-disabled\': disabled, \'input-invalid\': !isValid() },\r\n        disable: disabled,\r\n        event: { blur: blurHandler, focus: focusHandler },\r\n\t\thasFocus: hasFocus,\r\n        textInput: value,\r\n\t"/>\r\n\r\n</span>'},{name:"im-loader",contents:'<div class="loader" data-bind="cssComponent: \'im-loader\'">\r\n\r\n    <style type="text/template">\r\n        ._root .circle {\r\n            width: 12px;\r\n            height: 12px;\r\n            background: #680598;\r\n            display: inline-block;\r\n            border-radius: 10px;\r\n            margin: 0 4px;\r\n            animation-name: fadeInOut;\r\n            animation-timing-function: ease;\r\n            animation-duration: 1.2s;\r\n            animation-fill-mode: both;\r\n            animation-iteration-count: infinite;\r\n        }\r\n\r\n            ._root .circle:nth-child(2) {\r\n                animation-delay: .1s;\r\n            }\r\n\r\n            ._root .circle:nth-child(3) {\r\n                animation-delay: .3s;\r\n            }\r\n\r\n    </style>\r\n\r\n    <span class="circle"></span>\r\n    <span class="circle"></span>\r\n    <span class="circle"></span>\r\n</div>'},{name:"im-mark",contents:'<div class="im-mark" data-bind="cssComponent: \'im-mark\'">\r\n\r\n    <style type="text/template">\r\n        ._root{\r\n            position: relative;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n        }\r\n        ._root,\r\n        .mark-blank,\r\n        .mark-icon,\r\n        .mark-icon-image,\r\n        .mark-comment,\r\n        .mark-comment .svgicon {\r\n            height: 100%;\r\n            width: 100%;\r\n        }\r\n\r\n        .mark-comment {\r\n            display: flex;\r\n        }\r\n\r\n        .mark-comment .svgicon {\r\n            fill: currentColor;\r\n        }\r\n\r\n        .mark-numeric,\r\n        .mark-textual {\r\n            font-weight: bold;\r\n            font-size: 18px;\r\n            color: #01718C;\r\n            top: 1px;\r\n            position: relative;\r\n            text-align: center;\r\n        }\r\n    </style>\r\n\r\n    \x3c!-- ko if: isBlankMark --\x3e\r\n\r\n        <div class="mark-blank" data-bind="svgicon: \'blank-mark\'"></div>\r\n\r\n    \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- ko if: hasValue() === true && isBlankMark() === false --\x3e\r\n\r\n        \x3c!-- ko if: markSchemeType() === IMHome.core.constants.MARK_SCHEME_TYPES.TEXTUAL --\x3e\r\n        <div class="mark-textual" data-bind="text: markValue"></div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko if: markSchemeType() === IMHome.core.constants.MARK_SCHEME_TYPES.NUMERIC --\x3e\r\n        <div class="mark-numeric" data-bind="text: markValue"></div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko if: markSchemeType() === IMHome.core.constants.MARK_SCHEME_TYPES.COMMENTS --\x3e\r\n        <div class="mark-comment" data-bind="svgicon: \'chat-bubble\'"></div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n        \x3c!-- ko if: markSchemeType() === IMHome.core.constants.MARK_SCHEME_TYPES.ICON --\x3e\r\n        <div class="mark-icon">\r\n            <img class="mark-icon-image" data-bind="attr: { src: iconUrl }" />\r\n        </div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n    \x3c!-- /ko --\x3e\r\n</div>'},{name:"im-overlay",contents:'\x3c!-- ko if: isOpen --\x3e\r\n<div class="im-overlay" data-bind="cssComponent: \'im-overlay\'">\r\n    <style type="text/template">    \r\n        ._root {\r\n            color: white;\r\n            font-family: \'Open Sans\', sans-serif;\r\n            font-size: 14px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            position: fixed;\r\n            height: 100%;\r\n            width: 100%;\r\n            top: 0;\r\n            /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#4084a5+0,53296b+65&0.85+0,0.85+100 */\r\n            background: -moz-linear-gradient(-45deg, rgba(64,132,165,0.98) 0%, rgba(83,41,107,0.98) 65%, rgba(83,41,107,0.98) 100%); /* FF3.6-15 */\r\n            background: -webkit-linear-gradient(-45deg, rgba(64,132,165,0.98) 0%,rgba(83,41,107,0.98) 65%,rgba(83,41,107,0.98) 100%); /* Chrome10-25,Safari5.1-6 */\r\n            background: linear-gradient(135deg, rgba(64,132,165,0.98) 0%,rgba(83,41,107,0.98) 65%,rgba(83,41,107,0.98) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\r\n            line-height: 2em;\r\n            z-index: 1;\r\n        }\r\n\r\n        .close-button {\r\n            position: absolute;\r\n            top: 0;\r\n            right: 0;\r\n            padding: 20px 25px;\r\n            opacity: .3;\r\n        }\r\n\r\n        .close-button .svgicon {\r\n            fill: white;\r\n            width: 20px;\r\n            height: 20px;\r\n        }\r\n\r\n        .content-container {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            max-width: 230px;\r\n            text-align: center;\r\n            padding-bottom: 60px;\r\n        }\r\n\r\n        .overlay-icon {\r\n            background: #f88330;\r\n            border-radius: 100%;\r\n            width: 135px;\r\n            height: 135px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            margin-bottom: 40px;\r\n            opacity: .5;  \r\n        }\r\n        \r\n        .overlay-icon .svgicon {\r\n            width: 70px;\r\n            height: 70px;\r\n            fill: white;\r\n        }\r\n\r\n        .title {\r\n            color: white;\r\n            text-transform: uppercase;\r\n            font-size: 1.25em;\r\n            line-height: 1em;\r\n            margin-bottom: 30px;\r\n            letter-spacing: .03em;\r\n        }\r\n\r\n        .description {\r\n            margin-bottom: 50px;\r\n            opacity: .5\r\n        }\r\n\r\n        .im-button.normal {\r\n            background: none;\r\n            color: white;\r\n            border-color: rgba(255, 255, 255, .5);\r\n            font-weight: 100;\r\n            height: auto;\r\n            padding: 10px 0;\r\n            width: 220px;\r\n        }\r\n        \r\n        .button-wrapper {\r\n            padding-bottom: 20px;\r\n        }\r\n\r\n        .dismiss-links {\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 0;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            width: 100%;\r\n        }\r\n\r\n        .dismiss-link .im-button {\r\n            padding: 20px 25px;\r\n        }\r\n\r\n        .dismiss-link .im-button .text {\r\n            line-height: 1em;\r\n            text-transform: uppercase;\r\n            color: white;\r\n            opacity: .4;    \r\n            font-size: .8em;\r\n        }\r\n\r\n    </style>\r\n\r\n    <im-button class="close-button" params="icon: \'cross\', click: onClose"></im-button>\r\n\r\n    <div class="content-container">\r\n        <div class="overlay-icon" data-bind="svgicon: icon"></div>\r\n        <div class="title" data-bind="text: title"></div>\r\n        \r\n        <p class="description" data-bind="text: description"></p>\r\n\r\n        \x3c!-- ko foreach: buttons --\x3e\r\n            <div class="button-wrapper">\r\n                <im-button params="text: text, type: \'normal\', click: $parent.onButtonClick(url)"></im-button>\r\n            </div>\r\n        \x3c!-- /ko --\x3e\r\n\r\n    </div>\r\n\r\n    <div class="dismiss-links">\r\n        <span class="dismiss-link">\r\n            <im-button params="text: translations.dontShowAgain, click: onDontShowAgain"></im-button>\r\n        </span>\r\n        <span class="dismiss-link">\r\n            <im-button params="text: translations.notNow, click: onClose"></im-button>\r\n        </span>\r\n    </div>\r\n</div>\r\n\x3c!-- /ko --\x3e'},{name:"im-page-break",contents:'<div class="im-page-break" data-bind="cssComponent: \'im-page-break\', css: { \'no-margins\': noMargins }">\r\n\r\n    <style type="text/template">\r\n\r\n        ._root {\r\n            display: flex;\r\n            margin: 30px 0;\r\n        }\r\n        ._root.no-margins {\r\n            margin: 0;\r\n        }\r\n\r\n        .line {\r\n            align-self: center;\r\n            display: inline-block;\r\n            height: 1px;\r\n            background-color: #bacaea;\r\n            margin-top: 1px;\r\n        }\r\n\r\n        .left { width: 20px; }\r\n        .right { flex-grow: 1; }\r\n\r\n        .text {\r\n            font-size: 17px;\r\n            color: #bacaea;\r\n            text-transform: uppercase;\r\n            margin: 0 30px;\r\n        }\r\n    </style>\r\n\r\n    <span class="left line"></span>\r\n        \x3c!-- ko if: R.isNil(text) === false --\x3e\r\n            <span class="text" data-bind="text: text"></span>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: R.isNil(text) === true --\x3e\r\n            \x3c!-- ko template: { nodes: $componentTemplateNodes, data: $parent } --\x3e\x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n    <span class="right line"></span>\r\n</div>'},{name:"im-previous-button",contents:'<div class="im-previous-button" data-bind="cssComponent: \'im-previous-button\'">\r\n\r\n    <style type="text/template">\r\n        .previous-button {\r\n            display: flex;\r\n            height: 40px;\r\n            font-size: 18px;\r\n            color: #666;\r\n            line-height: 40px;\r\n            border-bottom: 1px solid #ccc;\r\n            width: 100%;\r\n            text-align: left;\r\n            white-space: nowrap;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            background-color: #fff;\r\n        }\r\n\r\n        .previous-button-icon .svgicon {\r\n            fill: #333;\r\n            margin: 9px 10px 9px 20px;\r\n            height: 22px;\r\n            width: 22px;\r\n        }\r\n\r\n        .previous-button-text {\r\n            overflow:hidden;\r\n            text-overflow:ellipsis;\r\n        }\r\n    </style>\r\n\r\n    <button class="previous-button" data-bind="event: { click: click, touchend: click }">\r\n        <span class="previous-button-icon"data-bind="svgicon: icon"></span>\r\n        <span class="previous-button-text" data-bind="text: text"></span>\r\n    </button>\r\n</div>'},{name:"im-search",contents:'<div class="im-search" data-bind="cssComponent: \'im-search\'">\r\n    <style type="text/template">\r\n        .search-box {\r\n            display: flex;            \r\n            align-items: center;\r\n            background: #fff;\r\n            border: 1px solid #e2e2e2;\r\n            margin: 0 10px;\r\n            border-radius: 10px;\r\n            padding: 10px 25px;\r\n        }\r\n\r\n        .icon {\r\n            margin-top: 5px;\r\n            margin-right: 10px;\r\n        }\r\n\r\n        .search-input {\r\n            border: none;\r\n            margin: 0;\r\n            box-shadow: none;\r\n        }\r\n\r\n        .search-input:focus {\r\n            box-shadow: none;\r\n        }\r\n    </style>\r\n\r\n    <div class="search-box">\r\n        <span class="icon" data-bind="svgicon: \'search\'"></span>\r\n        <input class="search-input" type="text" data-bind="\r\n            attr: { placeholder: placeholder },\r\n            textInput: textValue,\r\n            hasFocus: isFocused\r\n        ">\r\n    </div>\r\n</div>'},{name:"im-select-react-select-adaptor",contents:"<div class=\"im-select-react-select-adaptor\">\r\n    \x3c!-- ko component: { name: 'react-select', params: $data } --\x3e\x3c!-- /ko --\x3e\r\n</div>"},{name:"im-selector",contents:'<div class="im-selector" data-bind="cssComponent: \'im-selector\', \r\n    css: { \r\n        \'is-open\': data.isOpen,\r\n        \'is-disabled\': data.isDisabled,\r\n        \'is-searchable\': data.search.enabled,\r\n        \'allow-multiple\': data.allowMultiple\r\n    },\r\n    tooltip: data.tooltip,\r\n    event: { keydown: events.selectorKeydown }\r\n">\r\n\r\n    <style type="text/template">\r\n\r\n        ._root {\r\n            color: #444955;\r\n            display:inline-block;\r\n            position: relative;\r\n            min-width: 300px;\r\n        }\r\n\r\n        ._root .im-selector-input-autocompletion,\r\n        ._root .im-selector-input,\r\n        ._root .im-selector-dropdown {\r\n            /* perform a reset of font styles */\r\n            font-family: \'Open Sans\', sans-serif;\r\n            font-weight: 400;\r\n            font-size: 14px;\r\n        }\r\n        \r\n        .im-selector-selection {\r\n            position: relative;\r\n            min-height: 100%;\r\n            cursor: pointer;\r\n            padding-left: 12px;\r\n        }\r\n        \r\n        ._root.is-searchable .im-selector-selection {\r\n            width: 100%;\r\n            padding:0 12px;\r\n        }\r\n        .im-selector-input {\r\n            top: 1px;\r\n            display: block;\r\n            cursor: text;\r\n            background-color: transparent;\r\n            z-index: 3;\r\n        }\r\n        .im-selector-input::-ms-clear {\r\n            display: none;\r\n        }\r\n\r\n        .im-selector-selection,\r\n        .im-selector-input {\r\n            color: #444955;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            text-align: left;\r\n            outline: 0;\r\n            border: 0;\r\n        }\r\n        .im-selector-selection{\r\n            text-overflow: ellipsis;\r\n        }\r\n        .im-selector-selection:focus,\r\n        .im-selector-input:focus {\r\n            border: none;\r\n            outline: none;\r\n        }\r\n        \r\n        .im-selector-selection,\r\n        .im-selector-input,\r\n        .im-selector-input-autocompletion {\r\n            /* font family defined here even though it is defined at root as on test input was inheriting a font that was not open sans */\r\n            font-family: \'Open Sans\', Arial, sans-serif;\r\n        }\r\n        .im-selector-selection {\r\n            width: 100%;\r\n        }\r\n        .im-selector-input,\r\n        .im-selector-input-autocompletion {\r\n            /* -42 to clear overflow indicator */\r\n            width: calc(100% - 42px);\r\n        }\r\n\r\n        .im-selector-input-autocompletion {\r\n            top: 2px;\r\n            background-color: #fff;\r\n            color: #999;\r\n            z-index: 1;\r\n        }\r\n        .im-selector-input-autocompletion.hideText {\r\n            color: #fff;\r\n        }\r\n        .im-selector-text-overflow-indicator {\r\n            position: absolute;\r\n            width:0;\r\n            height:0;\r\n        }\r\n        .im-selector-text-overflow-indicator.show-indicator:after {\r\n            content: \'...\';\r\n            display: block;\r\n        }\r\n        .im-selector-text-overflow-indicator.show-indicator {\r\n            color: #999;\r\n            background-color: #fff;\r\n\r\n            right: 1px;\r\n            width: 22px;\r\n            padding-left: 6px;\r\n            height: 32px;\r\n            line-height: 36px;\r\n            top: 1px;\r\n            z-index: 2;\r\n        }\r\n\r\n        .im-selector-input,\r\n        .im-selector-input-autocompletion {\r\n            position: absolute;\r\n            left: 12px;\r\n            right: 2px;\r\n            padding-left: 0;\r\n            padding-right: 28px;\r\n            margin: auto;\r\n            box-sizing: content-box;\r\n\r\n            white-space: nowrap;\r\n            overflow: hidden;\r\n\r\n            height: 32px;\r\n            line-height: 32px;\r\n        }\r\n\r\n        .im-selector-item-search-decor {\r\n            font-weight: bold;\r\n            letter-spacing: -.05em;\r\n        }\r\n\r\n        ._root.is-disabled .im-selector-selection,\r\n        .item.disabled {\r\n            opacity: 0.4;\r\n            cursor: default;\r\n        }\r\n\r\n        .im-selector-selection-controls {\r\n            width: 100%;\r\n            white-space: nowrap;\r\n            border: 1px solid #DBDCDD;\r\n            border-radius: 2px;\r\n            display: inline-block;\r\n            vertical-align: bottom;\r\n            height: 36px;\r\n            line-height: 30px;\r\n            box-sizing: border-box;\r\n            padding-right: 42px;\r\n        }\r\n        ._root.is-open .im-selector-selection-controls {\r\n            border: 1px solid #66CDF4;\r\n            border-bottom: none;\r\n\r\n            /* Add padding to account for border-bottom removal */\r\n            padding-bottom: 1px;\r\n        }\r\n        ._root.is-searchable .im-selector-selection-controls {\r\n            padding-right: 0;\r\n        }\r\n\r\n        .im-selector-selection-controls:focus {\r\n            border: 1px solid #66CDF4;\r\n        }\r\n\r\n        .im-selector-dropdown {\r\n            border: 1px solid #66CDF4;\r\n            border-top: 1px solid #ccc;\r\n            border-radius: 0 0 2px 2px;\r\n            padding: 0;\r\n            box-shadow: 0px 5px 10px 0px rgba(0, 0, 0, 0.15); /*updated offset for removing shadow from the top */\r\n            max-height: 503px;\r\n            position: absolute;\r\n            min-width: 100%;\r\n            max-width: 300px;\r\n            box-sizing: border-box;\r\n            margin-top: -1px;\r\n            background: #fff;\r\n            z-index: 1;\r\n            overflow: hidden;\r\n        }\r\n        .im-selector-dropdown-inner{\r\n            position: relative;\r\n            overflow: auto;\r\n            padding: 8px 0;\r\n            max-height: 487px;\r\n        }\r\n        .im-selector-dropdown:focus {\r\n            border: 1px solid #66CDF4;\r\n            box-shadow: 0px 1px 10px 0px rgba(0, 0, 0, 0.15);\r\n        }\r\n\r\n        .im-selector-dropdown-title {\r\n            text-transform: uppercase;\r\n            font-weight: bold;\r\n            padding: 3px 0;\r\n        }\r\n\r\n        .im-selector-group-name {\r\n            padding: 0px 15px 8px 15px;\r\n            font-style: italic;\r\n        }\r\n\r\n        .im-selector-group-separator {\r\n            border-bottom: 1px solid #DBDCDD;\r\n            margin: 10px 15px;\r\n        }\r\n\r\n        .im-selector-group-separator:not(.select-all-separator):last-of-type {\r\n            display: none;\r\n        }\r\n\r\n        .im-selector-caret {\r\n            width: 42px;\r\n            box-sizing: border-box;\r\n            position: absolute;\r\n            right: 2px;\r\n            top: 5px;\r\n            overflow: hidden;\r\n            color: #777;\r\n            background-color:#fff;\r\n        }\r\n\r\n        .im-selector-caret:focus {\r\n            outline: initial;\r\n            outline-offset: initial;\r\n        }\r\n\r\n        .im-selector-placeholder {\r\n            color: #727272;\r\n        }\r\n\r\n        .im-selector-caret .svgicon {\r\n            height: 24px;\r\n            width: 24px;\r\n            vertical-align: middle;\r\n        }\r\n\r\n        .im-selector-dropdown-title  {\r\n            margin-left: 14px;\r\n        }\r\n\r\n        .item {\r\n            display: block;\r\n            text-align: left;\r\n            padding-top: 1px;\r\n            width: 100%;\r\n            padding: 0 15px;\r\n        }\r\n\r\n        .item.selected {\r\n            background: #f7fcff;\r\n            outline: none;\r\n        }\r\n\r\n        .item.disabled:hover,\r\n        .item.disabled:focus,\r\n        .item.disabled:active {\r\n            background: none;\r\n        }\r\n\r\n        .item-inner {\r\n            display: flex;\r\n            display: -ms-flexbox;\r\n            min-height: 36px;\r\n            padding: 4px 0;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        .default-item-template,\r\n        .decorated-item-template {\r\n            line-height: 1.5;\r\n            display: inline-block;\r\n        }\r\n\r\n        .selected .default-item-template,\r\n        .selected .decorated-item-template {\r\n            font-weight: bold;\r\n        }\r\n\r\n        .item.highlighted,\r\n        .item:hover,\r\n        .item:focus,\r\n        .item:active {\r\n            background-color: #ebf8fe;\r\n        }\r\n\r\n        .tick {\r\n            visibility: hidden;\r\n            margin-right: 15px;\r\n            height: 24px;\r\n            width: 24px;\r\n            align-self: center;\r\n            margin-right: 15px;\r\n        }\r\n\r\n        .template-wrapper {\r\n            align-self: center;\r\n        }\r\n\r\n        .show {\r\n            visibility: visible;\r\n        }\r\n\r\n        .ghost-control-element {\r\n            position: absolute;\r\n            width: 0px;\r\n            height: 0px;\r\n            border: 0;\r\n            outline: none;\r\n            padding: 0;\r\n            margin: 0;\r\n        }\r\n\r\n        .drop-down-list-inner {\r\n            display:none;\r\n        }\r\n        ._root.is-open .drop-down-list-inner {\r\n            display: block;\r\n        }\r\n    </style>\r\n    <div tabindex="0" class="im-selector-selection-controls" data-bind="hasfocus: data.hasFocus">\r\n        \x3c!-- ko if: data.showPlaceholder() || IMHome.core.isNullOrEmpty(data.selectionData()) --\x3e\r\n            <button tabindex="-1" class="im-selector-selection im-selector-placeholder" data-bind="text: data.placeholderText, click: events.selectionClick"></button>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: !data.showPlaceholder() && !IMHome.core.isNullOrEmpty(data.selectionData()) --\x3e\r\n            <button tabindex="-1" class="im-selector-selection" \r\n                data-bind="\r\n                    template: { \r\n                        name: data.selectionTemplate, \r\n                        data: data.selectionData \r\n                    }, \r\n                    click: events.selectionClick,\r\n                    overflowDetection: { \r\n                        x: data.hasOverflown,\r\n                        subscribeTo: data.selectionData\r\n                    },\r\n                    testId: \'im-selector__currentSelection\'\r\n            "></button>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: !data.search.enabled() --\x3e\r\n            <button tabindex="-1" class="im-selector-caret" data-bind="svgicon: data.caretIcon, click: events.caretClick"></button>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n\r\n    \x3c!-- hidden ghost element used to handle keybindings neccessary when the \r\n    selector dropdown is not open. Spec states upon user closing the dropdown\r\n    we should listen for keypresses directly after the close. If we detect one\r\n    open the selector, and perform action dependant upon key. --\x3e\r\n    <span \r\n        class="ghost-control-element"\r\n        data-bind="\r\n            event:{\r\n                keyup: events.controlElement.fieldKeyUp\r\n            },\r\n            hasFocus: data.controlElement.hasFocus"\r\n        tabindex=\'0\'>\r\n    </span>\r\n    <div\r\n        class="im-selector-text-overflow-indicator"\r\n        data-bind="\r\n            css: {\r\n                \'show-indicator\': data.search.autocomplete.hasOverflown()\r\n                || ( (data.search.hasOverflown() || data.hasOverflown()) && data.search.hasFocus()===false)\r\n            }\r\n        ">\r\n    </div>\r\n\r\n    <div class=\'drop-down-list-inner\'>\r\n    \r\n        \x3c!-- ko if: data.search.enabled--\x3e\r\n            <div \r\n                class="im-selector-input-autocompletion"\r\n                data-bind="\r\n                    text: data.search.autocomplete.text,\r\n                    css: {\r\n                        \'hideText\': data.search.autocomplete.hidden\r\n                    },\r\n                    overflowDetection: { \r\n                        x: data.search.autocomplete.hasOverflown,\r\n                        subscribeTo: data.search.autocomplete.text\r\n                    }\r\n                ">\r\n            </div>\r\n            <input \r\n                class="im-selector-input" \r\n                spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off"\r\n                data-bind="\r\n                    textInput: data.search.currentShownValue,\r\n                    event: {\r\n                        click: events.search.fieldClick,\r\n                        keyup: events.search.fieldKeyup\r\n                    },\r\n                    hasFocus: data.search.hasFocus,\r\n                    textSelection: data.search.inputSelection,\r\n                    overflowDetection: {\r\n                        x: data.search.hasOverflown,\r\n                        subscribeTo: data.search.currentShownValue\r\n                    }"\r\n            />\r\n        \x3c!-- /ko --\x3e\r\n        <div class="im-selector-dropdown" data-bind="click: events.dropdownClick">\r\n            <div class="im-selector-dropdown-inner">\r\n\r\n                \x3c!-- ko if: data.showDropdownTitle --\x3e\r\n                <div class="im-selector-dropdown-title" data-bind="text: data.dropdownTitle"></div>\r\n                \x3c!-- /ko --\x3e\r\n\r\n                \x3c!-- ko if: data.allowSelectAll && data.allowMultiple && !data.search.noResults() --\x3e\r\n\r\n                    \x3c!-- ko template: {\r\n                        name: \'t_selectorItemWrapper\',\r\n                        data: {\r\n                            itemTemplateName: \'t_defaultSelectorItem\',\r\n                            itemTemplateData: { text: data.translations.selectAll },\r\n                            isDisabled: data.disabled ? data.disabled : false,\r\n                            isSelected: data.allSelected,\r\n                            isHighlighted: data.highlighting.selectAllItemEmulation.isHighlighted,\r\n                            individualHasFocus: data.highlighting.selectAllItemEmulation.individualHasFocus,\r\n                            selectorItemWrapperStyle: {},\r\n                            onClick: events.selectAllClick,\r\n                            allowMultiple: true,\r\n                            showTicks: data.showTicks,\r\n                        }\r\n                    } --\x3e\r\n                    \r\n                \x3c!-- /ko --\x3e\r\n\r\n                <div class="im-selector-group-separator select-all-separator"></div>\r\n                \r\n                \x3c!-- /ko --\x3e\r\n\r\n                \x3c!-- ko if: data.search.noResults --\x3e\r\n                        \x3c!-- ko template: {\r\n                            name: \'t_selectorItemWrapper\',\r\n                            data: {\r\n                                itemTemplateName: \'t_defaultSelectorItem\',\r\n                                itemTemplateData: {\r\n                                    text:  data.translations.noResults\r\n                                },\r\n                                individualHasFocus: false,\r\n                                isDisabled: false,\r\n                                isSelected: false,\r\n                                isHighlighted: false,\r\n                                allowMultiple: false,\r\n                                showTicks: data.showTicks,\r\n                                onClick: null,\r\n                                selectorItemWrapperStyle: data.search.noResultsStyles\r\n                            }\r\n                        } --\x3e\r\n                        \x3c!-- /ko --\x3e\r\n                \x3c!-- /ko --\x3e\r\n\r\n                \x3c!-- ko foreach: data.items --\x3e\r\n\r\n                    \x3c!-- ko if: $data.isGrouped && $data.isFirstChild && $data.hasVisibleItems --\x3e\r\n                        <div class="im-selector-group-name" data-bind="text: groupName"></div>\r\n                    \x3c!-- /ko --\x3e\r\n                    \x3c!-- ko if: $data.isVisible --\x3e\r\n                        \x3c!-- ko template: {\r\n                            name: \'t_selectorItemWrapper\',\r\n                            data: {\r\n                                itemTemplateName: $parent.data.itemTemplate,\r\n                                itemTemplateData: itemData,\r\n                                decoratedSearchText: $data.decoratedSearchText,\r\n                                isSelected: isSelected,\r\n                                isHighlighted: isHighlighted,\r\n                                individualHasFocus: individualHasFocus,\r\n                                isDisabled: itemData.disabled,\r\n                                onClick: $parent.events.itemClick.bind(null, $data),\r\n                                selectorItemWrapperStyle: itemData.itemStyle,\r\n                                allowMultiple: $parent.data.allowMultiple,\r\n                                showTicks: $parent.data.showTicks,\r\n                            }\r\n                        } --\x3e\r\n                        \x3c!-- /ko --\x3e\r\n                    \x3c!-- /ko --\x3e\r\n\r\n                    \x3c!-- ko if: $data.isGrouped && $data.isLastChild && $data.hasVisibleItems --\x3e\r\n                        <div class="im-selector-group-separator"></div>\r\n                    \x3c!-- /ko --\x3e\r\n\r\n                \x3c!-- /ko --\x3e\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <script id="t_selectorItemWrapper" type="text/template">\r\n            <button class="item" tabindex="-1" data-bind="\r\n                hasFocus: individualHasFocus,\r\n                css: { \'selected\': isSelected,  \'highlighted\': isHighlighted, \'disabled\': isDisabled },\r\n                style: selectorItemWrapperStyle,\r\n                click: onClick,\r\n                testId: $parentContext.$index !== undefined\r\n                    ? \'im-selector__item--\' + $index()\r\n                    : \'im-selector__item\',\r\n            ">\r\n                <div class="item-inner">\r\n\r\n                    \x3c!-- ko if: allowMultiple || showTicks --\x3e\r\n                        <div class="tick" data-bind="svgicon: \'tick\', css: { \'show\': isSelected }"></div>\r\n                    \x3c!-- /ko --\x3e\r\n\r\n                    <div class="template-wrapper" data-bind="template: { name: itemTemplateName, data: itemTemplateData }"></div>\r\n                </div>\r\n            </button>\r\n        <\/script>\r\n\r\n        <script id="t_defaultSelectorItem" type="text/template">\r\n            \x3c!-- ko if: $parent.decoratedSearchText !== undefined && $parent.decoratedSearchText() !== null --\x3e\r\n                <span class="decorated-item-template" data-bind="html: $parent.decoratedSearchText"></span>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko if: ($parent.decoratedSearchText === undefined || $parent.decoratedSearchText() === null) && $data.text --\x3e\r\n                <span class="default-item-template" data-bind="text: $data.text ? ko.unwrap(text) : \'\'"></span>\r\n            \x3c!-- /ko --\x3e\r\n        <\/script>\r\n\r\n        <script id="t_defaultSelectorSelectionMulti" type="text/template">\r\n\r\n            \x3c!-- ko if: selectedCount() === 1 --\x3e\r\n                \x3c!-- ko template: { name: itemTemplate, data: selectedItems()[0] } --\x3e\x3c!-- /ko --\x3e\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko if: allItemsSelected === true && selectedCount() > 1 --\x3e\r\n                <span data-bind="text: $parent.data.translations.multiSelectAllItems"></span>\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko if: allItemsSelected === false && selectedCount() > 1 --\x3e\r\n                <span data-bind="text: selectedCount() + \' \' + $parent.data.translations.multiSelectSelection"></span>\r\n            \x3c!-- /ko --\x3e\r\n        <\/script>\r\n    </div>'},{name:"im-table",contents:'<div data-bind="cssComponent: \'im-table\'" class="im-table-root">\r\n    <style type="text/template">\r\n        .im-table-wrapper {\r\n            display: block;\r\n            min-width: 100%;\r\n        }\r\n    </style>\r\n    <div class="im-table-wrapper">\r\n        \x3c!-- ko ifnot: useDomForGridLayout --\x3e\r\n            <div class="im-table-header-wrapper" data-bind="\r\n                    template: {\r\n                        name: headerRowTemplate, \r\n                        data: headerRow\r\n                    }\r\n                ">\r\n            </div>\r\n            <div class="im-table-rows-wrapper" data-bind="\r\n                    template: {\r\n                        name: bodyRowTemplate, \r\n                        foreach: bodyRows, \r\n                        as: \'bodyRow\'\r\n                    }\r\n                ">\r\n            </div>\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- ko if: useDomForGridLayout --\x3e\r\n            \x3c!-- ko template: {\r\n                    name: headerRowTemplate, \r\n                    data: headerRow\r\n                }\r\n            --\x3e\x3c!-- /ko --\x3e\r\n            \x3c!-- ko template: {\r\n                    name: bodyRowTemplate, \r\n                    foreach: bodyRows, \r\n                    as: \'bodyRow\'\r\n                }\r\n            --\x3e\x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n</div>'},{name:"im-slider",contents:'<div class="im-slider" data-bind="cssComponent: \'im-slider\', css: {\'mobile\' : IMHome.core.isMobile}">\r\n\r\n    <style type="text/template">\r\n        ._root {\r\n            display: block;\r\n            position: relative;\r\n            width: 100%;\r\n        }\r\n\r\n        .slider {\r\n            background-color: #efefef;\r\n            height: 105px;\r\n            padding: 0 20px;\r\n            display: flex;\r\n            display: -ms-flexbox;\r\n            border-bottom: 1px solid #ddd;\r\n            position: relative;\r\n            z-index: 4;\r\n        }\r\n\r\n        /* when items combined width is less than slider view port, make exactly 100%. This alls for tailoring of the template to grow their items */\r\n        .slider.insufficient-items-width,\r\n        .slider.insufficient-items-width .slider-items {\r\n            width: 100%;\r\n        }\r\n\r\n        .slider-items {\r\n            transition: margin-left .5s ease-in-out;\r\n        }\r\n\r\n\r\n        .slide-left,\r\n        .slide-right {\r\n            position: absolute;\r\n            display: flex;\r\n            justify-content: center;\r\n            flex-direction: column;\r\n            top: 0;\r\n            width: 85px;\r\n            height: 100%;\r\n            z-index: 9;\r\n            opacity: 1;\r\n            background: rgba(255,255,255,0.4);\r\n            transition: opacity .25s ease-in-out, visibility 0s 0s;\r\n            cursor: pointer;\r\n            visibility: visible;\r\n        }\r\n\r\n        .slide-left.disabled,\r\n        .slide-right.disabled {\r\n            opacity: 0;\r\n            visibility: hidden;\r\n            transition: opacity .25s ease-in-out, visibility 0s .25s;\r\n        }\r\n\r\n        .slide-left .svgicon,\r\n        .slide-right .svgicon {\r\n            width: 65px;\r\n            height: 65px;\r\n            opacity: 0.5;\r\n        }\r\n\r\n        .slide-left {\r\n            left: 0px;\r\n        }\r\n\r\n        .slide-left .svgicon {\r\n            margin: 20px 10px;\r\n        }\r\n\r\n        .slide-right {\r\n            right: 0px;\r\n        }\r\n\r\n        .slide-right .svgicon {\r\n            margin: 20px 10px;\r\n        }\r\n\r\n\r\n        ._root.mobile .slider {\r\n            height: 85px;\r\n            padding: 0;\r\n            border-bottom: 1px solid #fff;\r\n        }\r\n\r\n        ._root.mobile .slide-left,\r\n        ._root.mobile .slide-right {\r\n            width: 45px;\r\n        }\r\n\r\n        ._root.mobile .slide-left .svgicon,\r\n        ._root.mobile .slide-right .svgicon {\r\n            width: 45px;\r\n            height: 45px;\r\n            position: relative;\r\n        }\r\n\r\n        ._root.mobile .slide-left .svgicon {\r\n            left: -10px;\r\n        }\r\n\r\n        ._root.mobile .slide-right .svgicon {\r\n            left: -8px;\r\n        }\r\n\r\n    </style>\r\n    <div class="slider" data-bind="css: {\'insufficient-items-width\': state.notScrollable}">\r\n        <div class="slider-items">\r\n             \x3c!-- ko template: { nodes: $componentTemplateNodes, afterRender: action.onceRendered } --\x3e\x3c!-- /ko --\x3e\r\n        </div>\r\n\r\n    </div>\r\n    \r\n    <div \r\n        class="slide-left disabled" \r\n        data-bind="\r\n            svgicon:\'caret-left\', \r\n            click: action.previous, \r\n            css: {\'disabled\': state.atBeginning}">\r\n    </div>\r\n        \r\n    <div \r\n        class="slide-right disabled" \r\n        data-bind="\r\n            svgicon:\'caret-right\', \r\n            click: action.next, \r\n            css: {\'disabled\': state.atEnding},\r\n            swipe: action.next">\r\n    </div>\r\n</div>'},{name:"im-tabs",contents:'<div class="im-tabs" data-bind="cssComponent: \'im-tabs\', onDestroy: onDestroy">\r\n    <style type="text/template">\r\n        .tabs-below,\r\n        .tabs {\r\n            position: absolute;\r\n            width: 100%;\r\n        }\r\n\r\n        .tabs {\r\n            padding-left: 60px;\r\n            display: flex;\r\n            bottom: 0;\r\n            height: 73px;\r\n            line-height: 40px;\r\n            z-index: 200;\r\n            background-color: rgba(255, 255, 255, .6);\r\n        }\r\n\r\n        .tabs-below {\r\n            height: 1px;\r\n            width: 100%;\r\n            bottom: 0;\r\n            box-shadow: 0 -5px 10px #232323;\r\n        }\r\n\r\n        .tab {      \r\n            height: 100%;\r\n            display: flex;\r\n            justify-content: center;\r\n            flex-direction: column;\r\n        }\r\n\r\n        .tab .tab-button {\r\n            height: 100%;\r\n            padding: 0 60px;\r\n            font-size: 20px;\r\n            font-weight: 600;\r\n            text-transform: uppercase;\r\n        }\r\n\r\n        .tab.active {\r\n            background-color: #fff;\r\n            z-index: 400;\r\n        }\r\n        .tab.active .tab-button {\r\n            padding-top: 3px;\r\n            border-bottom: 3px #00b8FF solid;\r\n        }\r\n\r\n        /* mobile view */\r\n        @media (max-width: 768px) {\r\n            .tabs {\r\n                background: #FFF;\r\n                height: 48px;\r\n                padding-left: 0;\r\n                border-bottom: 1px solid #d8d8d8;\r\n                overflow-x: auto;\r\n                overflow-y: hidden;\r\n                position: relative;\r\n            }\r\n\r\n            .tab .tab-button {\r\n                padding: 0;\r\n                margin: 0 10px;\r\n                text-transform: initial;\r\n                font-weight: 100;\r\n                font-size: 1em;\r\n            }\r\n        }\r\n    </style>\r\n    <div class="tabs" data-bind="foreach: tabs, attr: tabListAttributes">\r\n        <div\r\n            class="tab"\r\n            data-bind="\r\n                css: {\r\n                    \'active\': isSelected\r\n                },\r\n                testId: \'im-app-header__\' + id + \'-tab--\' + (isSelected() ? \'active\' : \'inactive\'),\r\n                scrollElementIntoParentView: shouldTriggerScrollIntoView,\r\n                scrollVertical: false,\r\n                scrollHorizontal: true,\r\n                template: { afterRender: $parent.afterTabRender },\r\n            ">\r\n            \x3c!-- ko if: $data.tabTemplate --\x3e\r\n                \x3c!-- ko template: { name: tabTemplate, data: $data } --\x3e\x3c!-- /ko --\x3e\r\n            \x3c!-- /ko --\x3e\r\n            \x3c!-- ko ifnot: $data.tabTemplate --\x3e\r\n                <button class="tab-button" data-bind="\r\n                    hasFocus: hasFocus,\r\n                    event: {\r\n                        keyup: onKeyUp,\r\n                    },\r\n                    text: name,\r\n                    click: onClick,\r\n                    event: {\r\n                        keyup: onKeyUp,\r\n                    },\r\n                    focus: hasFocus,\r\n                    attr: tabAttributes,\r\n                    context: $data,\r\n                "></button>\r\n            \x3c!-- /ko --\x3e\r\n        </div>\r\n    </div>\r\n\r\n    \x3c!-- ko if: $componentTemplateNodes.length > 0 --\x3e\r\n        <div class="tab-panels" data-bind="foreach: tabPanels">\r\n            <div class="tab-panel" data-bind="if: isVisible, attr: panelAttributes">\r\n                \x3c!-- ko template: { \r\n                    nodes: $componentTemplateNodes,\r\n                    data: $parents[1]\r\n                } --\x3e\x3c!-- /ko --\x3e\r\n            </div>\r\n        </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>'},{name:"im-tag-filter",contents:'<div class="im-tag-filter" data-bind="cssComponent: \'im-tag-filter\'">\r\n    <style type="text/template">\r\n        ._root {\r\n            position: relative;\r\n            background: #f3f3f3;\r\n            margin: 0;\r\n            border-radius: 10px;\r\n            padding: 15px;\r\n        }\r\n        @media (max-width: 768px){\r\n            ._root {\r\n                border-radius: 0;\r\n            }\r\n        }\r\n\r\n        .tag-wrapper {\r\n            display: flex;        \r\n            justify-content: flex-end;\r\n            flex-wrap: wrap;\r\n        }\r\n        .tag-item {\r\n            margin-top: 5px;\r\n        }\r\n    </style>\r\n\r\n    <div class="tag-wrapper">\r\n        \x3c!-- ko foreach: items--\x3e\r\n            <im-chip class="tag-item" params="\r\n                text: text,\r\n                type: type,\r\n                onClick: onClick\r\n            "></im-chip>\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n\r\n</div>'},{name:"im-term-selector",contents:'<label class="im-term-selector" data-bind="cssComponent: \'im-term-selector\'">\r\n    <style type="text/template">\r\n        ._root { \r\n            display: flex;\r\n            align-items: center;\r\n            color: inherit;\r\n        }\r\n\r\n        .term-selection-dropdown {\r\n            margin-left: 20px;\r\n            min-width: 200px;\r\n        }\r\n\r\n        .item-inner {\r\n            flex-direction: row-reverse;\r\n            justify-content: space-between;\r\n        }\r\n\r\n        .item-inner .tick {\r\n            margin: 0;\r\n        }\r\n    </style>\r\n    <span class=\'term-selection-text\' data-bind="text: label"></span>\r\n    <im-select-react-select-adaptor class=\'term-selection-dropdown\' params="\r\n        items: terms,\r\n        selectedItems: selectedTerms,\r\n        itemTemplate: itemTemplate,\r\n        onChange: onChange,\r\n        showTicks: true,\r\n        keyMap: keyMap,\r\n    "></im-select-react-select-adaptor>\r\n</label>\r\n\r\n<script id="t_termSelectorItem" type="text/template">\r\n    <span class="term-selector-item-text" data-bind="text: $data.value"></span>\r\n<\/script>'},{name:"im-textarea",contents:'<div class="im-textarea" data-bind="\r\n    cssComponent: \'im-textarea\', \r\n    css: {\r\n        \'red-border\': limitExceeded,\r\n        \'mobile\' : IMHome.core.isMobile,\r\n        \'focused\': focus,\r\n        \'restrict-height\': restrictDynamicHeight\r\n    }">\r\n\r\n    <style type="text/template">\r\n\r\n        .textarea-container {\r\n            background-color: #fff;\r\n            width: 100%; \r\n\t\t\tposition: relative;\t\r\n\t    \tborder: solid 1px #DBDCDD;\r\n    \t\tbox-sizing: border-box;\r\n    \t\tborder-radius: 2px;\r\n\t\t\toverflow: hidden;\r\n        }\r\n\r\n        ._root.focused .textarea-container {\r\n            border-color: #66CDF4;\r\n        }\r\n\r\n        ._root.red-border .textarea-container {\r\n            border-color: #EC4452;\r\n        }\r\n\r\n        .textarea-element {\r\n            border: none;\r\n            width: 100%;\r\n            color: #444955;\r\n            min-height: 72px;\r\n            min-width: 300px;\r\n            font-size: 14px;\r\n            font-style: normal;\r\n            resize: none;\r\n            padding: 12px 15px;\r\n            box-shadow: none;\r\n            margin-bottom: 0;\r\n        }\r\n\r\n        ._root.restrict-height .textarea-element {\r\n            max-height: 300px;\r\n        }\r\n\r\n        .textarea-element:focus {\r\n            outline: none;\r\n            -webkit-box-shadow: none;\r\n            -moz-box-shadow: none;\r\n            box-shadow: none;\r\n        }\r\n\r\n        .text-fade {\r\n            width: calc(100% - 2px);\r\n            height: 25px;\r\n            margin-left: 1px;\r\n            background: linear-gradient(to bottom, rgba(255, 255, 255,0) 0%,rgb(255, 255, 255) 80%);\r\n            border-radius: 2px;\r\n            cursor: text;\r\n            z-index: 0;\r\n\t\t\tbottom: 0;\r\n            position: absolute;\r\n        }\r\n\r\n        .textarea-element::-webkit-input-placeholder {\r\n            color: #b5b6ba;\r\n        }\r\n\r\n        .textarea-element::-moz-placeholder {\r\n            color: #b5b6ba;\r\n        }\r\n\r\n        .textarea-element:-moz-placeholder {\r\n            color: #b5b6ba;\r\n        }\r\n\r\n        .textarea-element:-ms-input-placeholder {\r\n            color: #b5b6ba;\r\n        } \r\n    </style>\r\n    <div class="textarea-container">\r\n        <textarea class="textarea-element" data-bind="\r\n            textInput: textInput,\r\n            hasFocus: focus, \r\n            attr: { placeholder: placeholder },\r\n            style: { height: height() + \'px\', overflowY: overflowY }\r\n        "></textarea>\r\n        \x3c!-- ko if: displayTextFade --\x3e\r\n\t\t    <div class="text-fade" data-bind="click: focus.bind(null, true)"></div>\r\n        \x3c!-- /ko --\x3e\r\n        <span data-bind="template: { afterRender: init }"></span>\r\n    </div>\r\n</div>'},{name:"im-time-picker",contents:'\x3c!-- Adheres to wai-aria practices: https://www.w3.org/TR/wai-aria-practices/#combobox --\x3e\r\n\r\n<div class="im-time-picker" data-bind="cssComponent: \'im-time-picker\'">\r\n    <style type="text/template">\r\n        ._root {\r\n            position: relative;\r\n            width: 100%;\r\n            min-width: 84px; /* minimum to fit HH:mm */\r\n            text-align: left;\r\n        }\r\n\r\n        .time-input {\r\n            border: 1px solid #DBDDDE;\r\n            color: #444955;\r\n            cursor: text;\r\n            padding: 0 15px;\r\n            margin-bottom: 0;\r\n            height: 36px;\r\n            box-shadow: none;\r\n            box-sizing: border-box;\r\n            min-width: 100%;\r\n            border-radius: 2px !important;\r\n        }\r\n\r\n        .time-input::-ms-clear {\r\n            display: none;\r\n            width : 0; \r\n            height: 0;\r\n        }\r\n\r\n        .time-listbox {\r\n            position: absolute;\r\n            width: 100%;\r\n            max-height: 130px;\r\n            border: 1px solid #DBDDDE;\r\n            border-top: 0;\r\n            background-color: #FFF;\r\n            overflow-y: scroll;\r\n            z-index:1;\r\n        }\r\n\r\n        .time-option {\r\n            padding: 5px 10px;\r\n            cursor: pointer;\r\n        }\r\n        .time-option:focus,\r\n        .time-option:hover {\r\n            background-color: #ebf8fe;\r\n        }\r\n        .active {\r\n            background-color: #ebf8fe;\r\n        }\r\n        .selected {\r\n            font-weight: bold;\r\n        }\r\n    </style>\r\n\r\n    <div class="combo-box-wrapper" data-bind="attr: comboboxModel.attrBindings">\r\n\r\n        <input \r\n            tabindex="0" \r\n            class="time-input" \r\n            data-bind="\r\n                attr: inputModel.attrBindings, \r\n                textInput: inputModel.value, \r\n                hasFocus: inputModel.hasFocus,\r\n                event: inputModel.events,\r\n                disable: inputModel.isDisabled,\r\n                click: inputModel.clickHandler,\r\n            "/>\r\n        \x3c!-- ko ifnot: isNative --\x3e\r\n            <ul\r\n                class="time-listbox"\r\n                tabindex="-1"\r\n                role="listbox"\r\n                data-bind="\r\n                    attr: listboxModel.attrBindings,\r\n                    visible: listboxModel.showing,\r\n                    foreach: { data: listOptionsModel.timeOptionItems, as: \'item\' },\r\n\r\n                    scrollElementIntoParentView: listboxModel.showing,\r\n                    scrollWithParentAsWindow: true,\r\n                    scrollToBottom: true,\r\n                ">\r\n                    <li\r\n                        class="time-option"\r\n                        role="option"\r\n                        data-bind="\r\n                            attr: item.attrBindings,\r\n                            text: item.timeString,\r\n                            css: { \'active\': item.isActive, \'selected\': item.isSelected, },\r\n                            click: $parent.listOptionsModel.optionClickHandler,\r\n                            event: $parent.listOptionsModel.events,\r\n\r\n                            scrollElementIntoParentView: item.isActive,\r\n                        ">\r\n                    </li>\r\n            </ul>\r\n        \x3c!-- /ko --\x3e\r\n\r\n    </div>\r\n\r\n</div>'},{name:"im-toggle",contents:'<div data-bind="cssComponent: \'im-toggle\'" class="im-toggle">\r\n    <style type="text/template">\r\n\r\n        ._root {\r\n            display: inline-block;\r\n        }\r\n\r\n        .im-checkbox .inner-wrapper {\r\n            height: 40px;\r\n            width: 40px;\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n            .im-checkbox .inner-wrapper {\r\n                height: 35px;\r\n                width: 35px;\r\n            }\r\n        }\r\n\r\n        .im-checkbox .checkbox {\r\n            background: #ECF0F1;\r\n            border: none;\r\n            border-radius: 100%;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            height: 92.5%;\r\n            width: 92.5%;\r\n        }\r\n\r\n        .im-checkbox .checkbox.disabled {\r\n            background: #CCC;\r\n        }\r\n\r\n        .im-checkbox .checkbox.checked:not(.disabled) {\r\n            height: 100%;\r\n            width: 100%;\r\n            background: #4ACEFF;\r\n        }\r\n\r\n        .im-checkbox .tick-icon .svgicon {\r\n            fill: white;\r\n            width: 30px;\r\n            height: 30px;\r\n        }\r\n    </style>\r\n\r\n    <im-checkbox params="click: click, checked: isSelected, disabled: isDisabled"></im-checkbox>\r\n</div>'},{name:"im-week-picker",contents:'<div data-bind="cssComponent: \'im-week-picker\'" class="im-week-picker">\r\n    <style type="text/template">\r\n        ._root,\r\n        .open-calendar-picker {\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n\r\n        .im-button { \r\n            padding: 10px 20px; \r\n            display: inline-flex;\r\n        }\r\n        \r\n        .im-button .svgicon,\r\n        .open-calendar-picker,\r\n        .open-calendar-picker .svgicon {\r\n            fill: var(--app-colour);\r\n        }\r\n        \r\n        .open-calendar-picker {\r\n            text-transform: capitalize;\r\n            font-size: 1.1em;\r\n            padding: 0 20px;\r\n            white-space: nowrap;\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n            ._root {\r\n                width: 100%;\r\n                justify-content: space-between;\r\n            }\r\n            .open-calendar-picker {\r\n                padding: 0;\r\n            }\r\n        }\r\n\r\n        /* calendar style */\r\n        .date-picker { position: relative; }\r\n        .pika-single {\r\n            top: 30px;\r\n            left: 50%;\r\n            transform: translateX(-50%);\r\n        }\r\n        .pika-lendar .pika-day { text-align: center; }\r\n        .pika-lendar .has-event { position: relative; }\r\n        .pika-lendar .has-event .pika-button:after { \r\n                content: "";\r\n                background-color: #666666;\r\n                position: absolute;\r\n                bottom: 2px;\r\n                left: 50%;\r\n                transform: translateX(-50%);\r\n                width: 3px;\r\n                height: 3px;\r\n                border-radius: 50%;\r\n                z-index: 1;\r\n            }\r\n    </style>\r\n\r\n    <im-button params="\r\n        icon: \'arrow-back-left\', \r\n        type: \'iconOnly\', \r\n        click: prevWeekClick, \r\n        attr: { \'aria-label\': translations.lastWeek },\r\n    "></im-button>\r\n\r\n    <div class="date-picker">\r\n        <button class="open-calendar-picker" data-bind="\r\n            attr: { \'aria-label\': translations.jumpToWeek }\r\n        ">\r\n            <span class="margin-right-10" data-bind="svgicon: \'calendar\'"></span>\r\n            <span data-bind="text: selectedWeekText"></span>\r\n        </button>\r\n    \r\n        <input class="hidden" type="button" data-bind="\r\n            datepicker: datePickerConfig.pikadayDate,\r\n            datepickerOptions: {\r\n                ...datePickerConfig.pikadayOptions,\r\n                trigger: document.querySelector(\'.open-calendar-picker\'),\r\n                container: document.querySelector(\'.date-picker\'),\r\n            },\r\n        "/>\r\n    </div>\r\n\r\n    <im-button params="\r\n        icon: \'arrow-next-right\', \r\n        type: \'iconOnly\', \r\n        click: nextWeekClick, \r\n        attr: { \'aria-label\': translations.nextWeek },\r\n    "></im-button>\r\n</div>'},{name:"react-select",contents:'<div class="react-select" data-bind="react: Component, props: props"></div>'}],function(e){var t=e.components,n=e.core;t.models["im-accordion"]=function(e,t){var r,i,o,a,s=n.makeObservable(e.open,!1),l=ko.observable(!1),c=ko.dataFor(t.element),u=n.isNullOrEmpty(e.bodyContext)?c:e.bodyContext,d=ko.observable(null),f=IMHome.core.noop;n.makeObservable(e.forceRemeasure).subscribe((function(){return h()}));var p={onOpen:e.onOpen||f,onClose:e.onClose||f,onOpened:e.onOpened||f,onClosed:e.onClosed||f};return r=R.find(R.propEq("tagName","IM-ACCORDION-HEADER")),i=R.find(R.propEq("tagName","IM-ACCORDION-BODY")),{headerModel:{open:s,click:function(){var e=s();o||(o=t.element.querySelector(".im-accordion-body"));e?(l(!1),p.onClose(),m(p.onClosed)):(p.onOpen(),m((function(){p.onOpened(),l(!0)})));s(!e)},context:c},body:{open:s,context:u,afterBodyRender:function(e){void 0===a&&(a=e);setTimeout(h,50)},bodyHeight:d,overflowContent:l},getHeader:r,getBody:i};function h(){var e=a.reduce((function(e,t){return t.offsetHeight?e+t.offsetHeight:e}),0);d(e+"px")}function m(e){o.addEventListener("transitionend",(function t(){o.removeEventListener("transitionend",t),e()}))}}}(IMHome),R,IMHome.components.models["im-alert-panel"]=function(e){var t=e.text,n=e.hideDelay,r=e.canHide,i=void 0===r||r,o=e.icon,a=void 0===o?"point-right":o,s=ko.observable(!0),l=function(){return s(!1)};return!1===R.isNil(n)&&setTimeout((function(){l()}),n),{text:t,canHide:i,showPanel:s,hidePanel:l,icon:a}},IMHome.components.models["im-accordion-list"]=function(e){var t=e.secondaryIcon?e.secondaryIcon:null,n=ko.isObservable(e.listOpen)?e.listOpen:ko.observable(e.listOpen||!1),r=e.items?e.items:e.items||[],i=e.selectedItem?e.selectedItem:ko.observable(r[0]),o=e.itemTemplate?e.itemTemplate:"t_accordionListItemDefault",a=e.subItemTemplate?e.subItemTemplate:"t_accordionSubItemDefault",s=function(){},l=e.subItemClick?e.subItemClick:s,c=e.itemClick?e.itemClick:s,u=ko.computed((function(){return r.filter((function(e){return!0===e.visible}))})),d=ko.computed((function(){return 1===u().length&&0===u()[0].items.length}));return{listOpen:n,parentClick:function(){d()?f(u()[0]):n(!n())},itemClick:f,secondaryIcon:t,items:r,selectedItem:i,subItemClick:function(e){n(!1),l(e)},itemTemplate:o,subItemTemplate:a,singleMenuItemNoChild:d};function f(e){e.isOpen(!e.isOpen()),c(e),0===e.items.length&&n(!1)}},IMHome.components.models["im-app-control-header"]=function(e){return{text:e.text}},function(e){var t=e.components,n=e.core;t.models["im-app-header"]=function(e){var t=e.header,r=e.image,i=e.tabs,o=void 0===i?[]:i,a=e.selectedTabId,s=e.APP_NAME,l=e.templateName,c=e.templateData,u=e.tabAriaLabel,d=e.ariaTabPanels,f=!n.isNullOrEmpty(l)&&!n.isNullOrEmpty(c),p=o.length>0;return{image:null!==r.match(/\d{12}/)?r:r+"?"+IMHome.init.cacheKey,header:t,hasTemplate:f,templateName:l,templateData:c,hasTabs:p,tabs:o,selectedTabId:a,APP_NAME:s,tabAriaLabel:u,ariaTabPanels:d}}}(IMHome),function(e){var t=e.core;e.components.models["im-attachment-list"]=function(e){var n=e.translations,r=t.toObservableArray(e.attachments);return{attachments:ko.pureComputed((function(){return r().map((function(e){return _objectSpread(_objectSpread({},e),{},{fileIcon:t.getSvgIconIdFromFileType(e.fileType)})}))})),translations:n}}}(IMHome),IMHome.components.models["im-banner"]=function(e){var t=e.text,n=e.canClose,r=void 0!==n&&n,i=ko.observable(!0===e.isVisible);return{text:t,canClose:r,isVisible:i,closeIcon:"cross",closeAction:function(){return r&&i(!1)}}},function(e){var t=e.components,n=e.core;t.models["im-bubble-count"]=function(e,t){var r=t.element,i=n.defaultObservable(0,e.count),o=n.defaultObservable(1,e.min),a=n.defaultObservable(null,e.max),s=n.defaultObservable("+",e.abbreviation),l=n.isNullOrEmpty(e.secondaryIndicator)?e.secondaryIndicator:n.makeObservable(e.secondaryIndicator),c=ko.pureComputed((function(){return i()>=o()})),u=ko.pureComputed((function(){return!R.isNil(a())&&i()>a()})),d=ko.pureComputed((function(){return u()?a():i()})),f=m((function(){return u()}),e.abbreviationVisible),p=m((function(){return!IMHome.core.isNullOrEmpty(ko.unwrap(l))}),e.secondaryIndicatorVisible),h={top:ko.observable(),left:ko.observable()};return{init:function(){if(!n.isNullOrEmpty(l)){var e=function(){!function(e){var t=e.secondaryIndicatorVisible,n=e.countVisible;if(t){var i=$(r).find(".count"),o=$(r).find(".secondary-indicator"),a=o.outerWidth(),s=o.outerHeight(),l=parseFloat(i.css("top"))+i.outerHeight()-s,c=parseFloat(i.css("left"))+i.outerWidth()-a,u=R.ifElse(IMHome.core.isNullOrEmpty,R.always(0),R.pipe(parseFloat,R.divide(R.__,3)))(o.css("borderTopLeftRadius")),d=n?s-u:0,f=n?a-2*u:0;h.top(l+d+"px"),h.left(c+f+"px")}}({secondaryIndicatorVisible:p(),countVisible:c()})};e();var t=ko.pureComputed((function(){return""+i()+IMHome.core.isMobile()+p()})).subscribe(e);ko.utils.domNodeDisposal.addDisposeCallback(r,(function(){t.dispose()}))}},count:i,displayedCount:d,countVisible:c,abbreviation:s,abbreviationVisible:f,secondaryIndicator:l,secondaryIndicatorVisible:p,secondaryIndicatorStyle:h};function m(e,t){return ko.pureComputed((function(){return R.ifElse(R.isNil,e,ko.unwrap)(t)}))}}}(IMHome),function(e){var t=e.components,n=e.core;t.models["im-busy"]=function(e,t){var r=n.makeObservable(e.busy,!0);return!0===r()&&document.body.appendChild(t.element),r.subscribe((function(e){var t=$("body > im-busy > .im-busy")[0];ko.dataFor(t).busy(e)})),$("body > im-busy").remove(),document.body.appendChild(t.element),{busy:r}}}(IMHome),function(e){var t=e.core;e.components.models["im-button"]=function(e){var n=e.text,r=void 0===n?"":n,i=e.icon,o=void 0===i?null:i,a=e.secondaryIcon,s=void 0===a?null:a,l=e.click,c=void 0===l?function(){}:l,u=e.focus,d=void 0===u?ko.observable(!1):u,f=e.marginRight,p=void 0===f||f,h=e.marginLeft,m=void 0!==h&&h,g=e.attr,v=void 0===g?{}:g,b=e.event,y=void 0===b?{}:b,w=e.tooltip?"string"==typeof ko.unwrap(e.tooltip)?{title:e.tooltip}:e.tooltip:{title:""},x=e.url?function(t){"function"==typeof e.click&&e.click({event:t,url:e.url,context:e.context});window.location=e.url}:c,_=t.defaultObservable(!0,e.visible),k=t.defaultObservable(!1,e.disabled),S=t.makeObservable(e.type,null),T=t.makeObservable(e.reinstateFocus,!1),I=v,E=_objectSpread(_objectSpread({},y),{},{click:C,tap:C});return d.subscribe((function(e){k()&&!0===e&&setTimeout((function(){d(!1)}),0)})),{text:r,tooltip:w,disabled:k,visible:_,focus:d,click:C,url:x,type:S,TYPES:t.constants.BUTTON_TYPES,icon:o,secondaryIcon:s,context:e.context,marginRight:p,marginLeft:m,reinstateFocus:T,buttonAttributes:I,buttonEvents:E};function C(){k()||x.apply(this,arguments)}}}(IMHome),function(e){var t=e.core;e.components.models["im-button-dropdown"]=function(e){var n=t.makeObservable(e.isOpen||!1),r=t.makeObservable(t.isNullOrEmpty(e.items)?[]:e.items),i=R.defaultTo(!0,e.keepOpenWhenItemClicked),o={title:"",click:e.click,classNames:{}},a=R.pipe(R.map(R.merge(o)),r),s=e.itemTemplateName||"textOnly";return a(r()),{items:r,itemTemplateName:s,text:e.text||"",click:function(){if(ko.unwrap(e.disabled))return;!0!==n()&&$.subscribe("global/click",l)},onRootKeyup:function(e,r){r.keyCode===t.constants.KEY_CODES.ESCAPE&&(n(!1),$.unsubscribe("global/click",l))},tooltip:e.tooltip,icon:e.icon,disabled:e.disabled?ko.isObservable(e.disabled)?e.disabled:ko.observable(e.disabled):ko.observable(!1),type:e.type,context:e.context,secondaryIcon:e.secondaryIcon||"caret-down",isOpen:n,marginRight:!!t.isNullOrEmpty(e.marginRight)||e.marginRight,marginLeft:!!t.isNullOrEmpty(e.marginLeft)||e.marginLeft};function l(e,t){if(!($(t.target).parents(".im-button-dropdown .dropdown-content-wrapper").length>0&&i)){var r=!n();n(r),!1===r&&$.unsubscribe("global/click",l)}}}}(IMHome),function(e){var t=e.core;e.components.models["im-button-dropdown-extra"]=function(e){return{items:e.items,text:e.text||"",tooltip:e.tooltip,icon:e.icon,disabled:t.makeObservable(e.disabled,!1)}}}(IMHome),IMHome.components.models["im-card"]=function(e){return{}},IMHome.components.models["im-card-meta"]=function(e){return e},function(e){var t=e.components,n=e.core;t.models["im-checkbox"]=function(e){var t=n.makeObservable(e.checked||!1),r=n.makeObservable(e.disabled||!1),i=n.makeObservable(e.focus||!1),o=e.stopPropagation||!1;return{checked:t,disabled:r,focus:i,text:e.text,hasText:!1===n.isNullOrEmpty(e.text),click:e.click||function(e,n){ko.unwrap(o)&&n.stopPropagation();return!0!==r()&&(t(!t()),!0)},keyup:e.keyup||function(e,n){32===(n.key||n.keyIdentifier||n.keyCode)&&t(!t())},keydown:e.keyup||function(e,t){if(32===(t.key||t.keyIdentifier||t.keyCode))return!1;return!0},formIndent:e.formIndent||!1}}}(IMHome),function(e){var t=e.components,n=e.core;t.models["im-chip"]=function(e){var t,r=e.text,i=e.icon,o=e.onClick,a=e.type,s=void 0===a?n.constants.CHIP_TYPES.DEFAULT:a,l=e.transparentBackground,c=void 0!==l&&l,u=e.wideBorder,d=void 0!==u&&u,f=e.roundedBorderRadius,p=void 0!==f&&f,h=e.colorOverwrites,m=void 0!==h&&h,g=n.makeObservable(s),v=n.constants.CHIP_TYPES,b=v.DEFAULT,y=v.PRIMARY,w=v.SECONDARY,x=v.AUTO_TEXT_COLOUR,_=(_defineProperty(t={},b,"default"),_defineProperty(t,y,"primary"),_defineProperty(t,w,"secondary"),_defineProperty(t,x,"auto-calc-font-colour"),t),k=ko.pureComputed((function(){return _[g()]+(c?" no-background":"")+(p?" rounded-radius":"")+(d?" wide-border":"")})),S=!1!==m?R.pick(["backgroundColor","borderColor"],m):{},T=!1!==m?R.pick(["color"],m):{};return{text:r,icon:i,hasIcon:!(R.isNil(i)||R.isEmpty(i)),onClick:o,hasOnClick:!R.isNil(o),typeClass:k,layoutColorOverwrites:S,fontOverwrites:T}}}(IMHome),IMHome.components.models["im-comment"]=function(e){var t=e.text,n=void 0===t?"":t,r=e.date,i=void 0===r?"":r,o=e.username,a=void 0===o?"":o,s=e.flip;return{text:n,date:i,username:a,flip:void 0!==s&&s}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.core,n=e.components,r=e.aria,i=e.localisation;n.models["im-dialog"]=function(){n.models["im-dialog"]=function(){return!1};var e=t.constants.DIALOG_SIZES,o=ko.observable(!1),a=ko.observable(!1),s=ko.observableArray([]),l=ko.observable(e.NORMAL),c=ko.observable(null),u=ko.observable(""),d=ko.observable({}),f=ko.observable(null),p=ko.observable(null),h=ko.pureComputed((function(){return(f()||p())&&d()&&a()})),m=ko.observable(!1),g=ko.observable(null),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";s(s().concat(e.split(" "))),w(),b(),x()},b=function(){o(!0)},y=function(){var n=d();N(e.NORMAL),function(e){return!t.isFunction(e.beforeClose)||e.beforeClose()}(n)&&(o(!1),a(!1),s([]),_(),C(null),m(!1),g(null),t.isFunction(n.onClose)&&n.onClose())},w=function(){return a(!0)},x=function(){document.addEventListener("keyup",S),$.subscribe("global/click",k)},_=function(){document.removeEventListener("keyup",S),$.unsubscribe("global/click",k)},k=function(e,t){return"im-dialog-wrapper"===t.target.id?y():null},S=function(e){T(e.keyCode)&&y()},T=function(e){return 27===e},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.push(e)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return s.remove(e)},C=function(e){return c(e)},O=function(e){return u(e)},M=function(e){return d(e||{})},D=function(e){return f(e)},P=function(e){return p(e)},A=function(e){m(!0),g(e)},N=function(t){if(void 0===e[t])throw"im-dialog: size is not defined";l(e[t])},R=function(){return O(""),M([]),C(null),!0},H=ko.pureComputed((function(){return(s().join(" ")||"")+" "+(!0===o()?"open":"")})),L=r.createDialog(u,i.commonCloseDialog),j=L.dialogBody,F=L.dialogButton;return $.subscribe("dialog/api",(function(e,t){return t({open:v,close:y,setIcon:C,setTitle:O,setData:M,setTemplateName:D,setTemplateUrl:P,setHeaderTemplateName:A,reset:R,addClass:I,removeClass:E,setSize:N})})),{action:{open:v,close:y,hideContainer:function(){return!1!==o()||a(!1)},addClass:I,removeClass:E},data:{icon:c,title:u,internalHeaderTemplateName:g,internalData:d,internalTemplateName:f,internalTemplateUrl:p,templateReady:h},state:{dialogSize:l,active:o,getRootStyling:H,containerVisible:a,hasHeaderTemplate:m,dialogAriaAttributes:j,closeButtonAria:F}}}}(IMHome,R),function(e,t,n){var r=e.core;e.components.models["im-dropdown-sort"]=function(e){var t=r.constants.SORT_STATES,i=r.makeObservable(e.items,[]),o=r.makeObservable(e.state),a=i().map((function(e){var a,s,l,c=r.sortKeyUtils.getId(o())===e.id?e.initialState:t.NONE;return n.merge(e,{click:(a=e.click,s={},_defineProperty(s,t.NONE,(function(e){return e.initialState})),_defineProperty(s,t.DESC,(function(){return t.ASC})),_defineProperty(s,t.ASC,(function(){return t.DESC})),l=s,function(e){var n=e.state(),s=l[n](e),c=r.sortKeyUtils.createKey(e.id,s);o(c);var u=r.sortKeyUtils.getId(o());e.state(s),i().forEach((function(e){u!==e.id&&e.state(t.NONE)})),a&&a.call.apply(a,[null].concat(Array.prototype.slice.call(arguments)))}),state:r.makeObservable(e.state,c)})}));return i(a),{items:i,text:e.text||"",tooltip:e.tooltip,icon:e.icon,disabled:r.makeObservable(e.disabled,!1),SORT_STATES:t}}}(IMHome,ko,R),IMHome.components.models["im-eca-marking-visual"]=function(e){return{state:e.state||0,highlighted:e.highlighted||!1,big:e.big||!1}},function(e){var t=e.components,n=e.core,r=n.noop,i=n.makeObservable,o=R.defaultTo(!1),a=R.defaultTo(!0),s=R.defaultTo(r),l=R.defaultTo("");t.models["im-input"]=function(e){var t=l(e.value),n=o(e.disabled),r=o(e.fullWidth),c=e.placeholder?{placeholder:e.placeholder}:{},u=R.mergeAll([{},c]),d=i(a(e.isValid));return{value:t,disabled:n,fullWidth:r,attributes:u,hasFocus:i(o(e.hasFocus)),isValid:d,blurHandler:s(e.blurHandler),focusHandler:s(e.focusHandler)}}}(IMHome),IMHome.components.models["im-loader"]=function(){},function(e){var t=e.components,n=e.core;t.models["im-mark"]=function(e){var t=n.constants.MARK_SCHEME_TYPES,r=n.defaultObservable(!1,e.hasValue),i=n.defaultObservable(!1,e.markValue),o=n.defaultObservable(null,e.isBlankMark),a=n.makeObservable(e.iconUrl),s=ko.pureComputed((function(){return R.ifElse(n.isNullOrEmpty,(function(){return null}),(function(e){return e}))(a())})),l=n.makeObservable(e.markSchemeType),c=ko.pureComputed((function(){var e=n.toLowerCase(l()),r=n.isNullOrEmpty(i())||!1===i(),o=n.isNullOrEmpty(s()),a=R.contains(e);if(o&&!r){if(a([t.ICON]))return t.TEXTUAL;if(!a([t.NUMERIC,t.COMMENTS]))return t.NUMERIC}return e}));return{hasValue:r,markValue:i,iconUrl:s,markSchemeType:c,isBlankMark:o}}}(IMHome),function(e){var t=e.components,n=e.core;t.models["im-overlay"]=function(e){var t=e.icon,r=e.title,i=e.description,o=e.translations,a=e.isOpen,s=void 0===a?ko.observable(!0):a,l=e.urls,c=e.buttons;return{icon:t,title:r,description:i,translations:o,isOpen:s,buttons:c,onClose:function(){s(!1),n.postJSON(l.notNowUrl)},onDontShowAgain:function(){s(!1),n.postJSON(l.dontShowAgainUrl)},onButtonClick:function(e){return function(){s(!1),window.location=e}}}}}(IMHome),IMHome.components.models["im-page-break"]=function(e){var t=e.text,n=e.noMargins;return{text:t,noMargins:void 0!==n&&n}},function(e){var t=e.core;e.components.models["im-previous-button"]=function(e){var n=e.icon,r=void 0===n?"arrow-back-left":n,i=e.click,o=void 0===i?R.T:i;return{text:t.defaultObservable("",e.text),icon:r,click:o}}}(IMHome),function(e){var t=e.core;e.components.models["im-search"]=function(e){var n=ko.observable(),r=t.makeObservable(e.query||e.textValue),i=e.throttleDelay||100,o=e.placeholder,a=t.makeObservable(e.isFocused,!1),s=t.throttle((function(e){r(e),r.valueHasMutated()}),i);return n.subscribe(s),n(ko.unwrap(e.query)),{placeholder:o,textValue:n,isFocused:a}}}(IMHome,ko),function(e){var t=e.components,n=e.core;t.models["im-select-react-select-adaptor"]=function(e){var t=e.items,r=n.makeObservable(e.selectedItems,[]),i="origObject",o=n.makeObservable(e.isOpen,!1),a=R.pipe(R.reject(R.contains(R.__,R.values(e.keyMap))),R.merge(e.keyMap))({text:"label",id:"value"}),s=R.defaultTo((function(){}),e.onChange),l=R.defaultTo(!1,e.isSearchable),c=e.placeholder,u=R.defaultTo(!1,e.allowMultiple),d=function(e){return R.pipe(R.pick(R.keys(a)),n.renameKeys(a),R.assoc(i,e))(e)},f=ko.unwrap(t).filter((function(e){var t=ko.unwrap(r);return Array.isArray(t)?t.some((function(t){return t===e})):e===t})).map(d),p=ko.unwrap(t).map(d),h=!0===u?{isMulti:!0,closeMenuOnSelect:!1,tabSelectsValue:!1,noOptionsMessage:function(){return null},styles:{valueContainer:function(e){return _objectSpread(_objectSpread({},e),{},{maxHeight:"80px",overflow:"auto"})}}}:{};return _objectSpread({options:p,onChange:function(e){var t=Array.isArray(e)?e.map(R.prop(i)):e.origObject;r(t),s.call(null,e.origObject)},defaultValue:f,isSearchable:l,placeholder:c,onMenuOpen:function(){o(!0)},onMenuClose:function(){o(!1)}},h)}}(IMHome),function(e){var t=e.core;e.components.models["im-selector"]=function(e){"use strict";var n,r,i,o,a,s="caret-up",l="caret-down",c={9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",38:"UP",39:"RIGHT",40:"DOWN"},u=e.itemTemplate||"t_defaultSelectorItem",d=ko.observable(u),f=!0===t.isNullOrEmpty(e.selectionTemplate)?!0===e.allowMultiple?"t_defaultSelectorSelectionMulti":d:e.selectionTemplate,p=(n=e.selectedItems||[],ko.isObservable(e.selectedItems)?n:ko.observableArray(Array.isArray(n)?n:[n])),h=p(),m=!1,g=ko.observable(!1),v=ko.isObservable(e.isOpen)?e.isOpen:ko.observable(!0===e.isOpen),b=ko.isObservable(e.isDisabled)?e.isDisabled:ko.observable(!0===e.isDisabled),y=ko.isObservable(e.isSearchable)?e.isSearchable:ko.observable(!0===e.isSearchable),w=!0===e.allowMultiple,x=R.defaultTo(!0,e.allowSelectAll),_=!0===e.showTicks,k=!0===w?1:0,S={enabled:y,hasFocus:ko.observable(!1),hasOverflown:ko.observable(!1),searchOnKey:ko.isObservable(e.searchOnKey)?e.searchOnKey:ko.observable(e.searchOnKey||"text"),currentShownValue:ko.observable(""),userInputValue:"",noResults:ko.observable(!1),noResultsStyles:{width:"auto",margin:"auto","font-style":"italic",background:"none",cursor:"default",outline:"0"},inputSelection:{length:ko.observable(0),start:ko.observable(0),end:ko.observable(0),isAtEnd:function(){return S.inputSelection.end()===S.inputSelection.length()}},autocomplete:{text:ko.observable(""),item:null,hidden:ko.observable(!1),hasOverflown:ko.observable(!1)}},T={currentItemId:ko.observable(null),selectAllItemEmulation:{isHighlighted:ko.observable(!1),individualHasFocus:ko.observable(!1),id:0}},I={active:ko.observable(!S.enabled()),hasFocus:ko.observable(!1)},E=e.onChange||function(){},C=e.beforeChange||function(){return!0},O=e.translations,M={},D={data:{showPlaceholder:ko.observable(!0),selectionData:ko.observable(null),isOpen:v,isDisabled:b,hasOverflown:ko.observable(!1),hasFocus:g,tooltip:{title:e.tooltip||null},items:ko.observableArray([]).extend({deferred:!0}),allSelected:ko.observable(!1),caretIcon:ko.observable(l),selectionTemplate:f,itemTemplate:d,allowMultiple:w,allowSelectAll:x,showTicks:_,placeholderText:e.placeholder||" ",showDropdownTitle:!t.isNullOrEmpty(e.dropdownTitle),dropdownTitle:e.dropdownTitle||"",dropdownClickEvent:null,selectAllCheckboxOptions:{click:function(){return!0},keyup:function(){return!0}},translations:O,highlighting:T,search:S,controlElement:I},events:{selectionClick:H,caretClick:H,itemClick:function(e){ko.unwrap(e.itemData.disabled)||A({type:"select",items:e,isToggle:!0})},itemKeyup:function(e,t){"SPACE"===we(t.keyCode)&&A({type:"select",items:e,isToggle:!0})},selectorKeydown:function(e,t){"TAB"===we(t.keyCode)&&v()&&H();return!0},selectAllClick:function(){A({type:"selectAll"})},selectAllKeyup:function(e,t){"SPACE"===we(t.keyCode)&&A({type:"selectAll"})},dropdownClick:function(e,t){ee(),A({type:"dropdownClick",event:t.originalEvent})},search:{fieldClick:function(e,t){A({type:"searchFieldClick",event:t.originalEvent})},fieldKeyup:function(e,t){var n=t.originalEvent,r=we(n.keyCode);A({type:"searchFieldKeyup",newSearchValue:n.target.value,keyName:r})}},controlElement:{fieldKeyUp:function(e,t){var n=t.originalEvent.keyCode;A({type:"controlFieldKeyup",newSearchValue:"",keyName:we(n),model:e,event:t})}}}},P=ko.toJS(D.data),A=(r=P,i=function(e,t){var n=$.extend({},e),r={click:U,select:oe,selectAll:ie,toggleOpen:V,dropdownClick:W,controlFieldKeyup:N,searchFieldClick:B,searchFieldKeyup:N,globalClick:te,updateItems:ne,setDisabled:re};return r[t.type]?r[t.type](t,n):e},o=function(e){var t=D.data;t.selectionData(e.selectionData),t.showPlaceholder(e.showPlaceholder),t.isOpen(e.isOpen),t.isDisabled(e.isDisabled),t.items(e.items),t.allSelected(e.allSelected),t.caretIcon(e.caretIcon),t.search.enabled(e.search.enabled)},a=null,function(e){(r=i(r,e))!==a&&(o(r),a=r)});S.hasOverflown.subscribe((function(e){S.autocomplete.hidden(!0===e)})),I.hasFocus.subscribe((function(e){!0===e?(window.addEventListener("keydown",ve,!1),window.addEventListener("keyup",ve,!1)):(window.removeEventListener("keydown",ve,!1),window.removeEventListener("keyup",ve,!1))}));var N=IMHome.core.debounce((function(e,t){var n=e.keyName;if(!1===t.isOpen&&("SHIFT"===n||"TAB"===n&&!1===e.event.shiftKey))return t=V(e,t),!0===S.enabled()?z(e,t):t;var r,i=T.currentItemId(),o=null;if(0===i&&!0===w&&"ENTER"===n)return o=T.selectAllItemEmulation,ie(e,t);o=be(t.items,i);switch(n){case"ESCAPE":return null===o||""===S.userInputValue?(I.hasFocus(!0),ae(),t.isOpen=!1,t.caretIcon=l):(S.hasFocus(!0),S.currentShownValue(S.userInputValue),Q(t.items),Y(t.items),J(t.items)),t;case"ENTER":return e.items=[],null!==o?e.items.push(o):null!==S.autocomplete.item&&(e.items.push(S.autocomplete.item),r=S.autocomplete.text(),K(),S.currentShownValue(r),S.userInputValue=r),t.allowMultiple?e.isToggle=!0:(V(e,t),I.hasFocus(!0)),oe(e,t);case"RIGHT":return!0===S.inputSelection.isAtEnd()&&null===o&&null!==S.autocomplete.item&&(r=S.autocomplete.text(),S.userInputValue=r,S.currentShownValue(r)),Q(t.items),J(t.items),Y(t.items),t;case"UP":return function(e){Z(e,-1)}(t.items),t;case"DOWN":return function(e){Z(e,1)}(t.items),t}if(!0===t.search.enabled)return z(e,t);return t}),50,{leading:!0});return setTimeout((function(){var n=ko.isObservable(e.items)?e.items:ko.observableArray(e.items||[]);j(ko.unwrap(n).reduce(se,[])),t.isNullOrEmpty(h)||t.isEmptyArray(h)||F(h),ko.isObservable(n)&&n.subscribe((function(e){j(e.reduce(se,[]))})),p.subscribe((function(e){m||F(e)}))}),0),ko.isObservable(e.isDisabled)&&e.isDisabled.subscribe((function(e){A({type:"setDisabled",value:e})})),$(document).keypress((function(e){var t=we(e.keyCode);"ENTER"!==t&&"SPACE"!==t||!g()||H()})),D;function H(){A({type:"toggleOpen"})}function L(e){A({type:"globalClick",event:e})}function j(e){A({type:"updateItems",items:e})}function F(e){A({type:"select",items:e,silent:!0,isToggle:!1})}function U(e,t){t.allowMultiple||oe(e,t)}function V(e,t){var n;return n=0!==t.items.length&&!0!==t.isDisabled&&!t.isOpen,!0===w&&ue(t,t.items),!0===n?(setTimeout((function(){window.document.addEventListener("click",L)}),1),t.caretIcon=s,q(t.items),K(),Q(t.items)):(S.hasFocus(!1),ae(),t.caretIcon=l),t.isOpen=n,ee(),t}function W(e,t){return t.dropdownClickEvent=e.event,t}function B(e,t){return t.searchFieldClickEvent=e.event,t}function z(e,t){Q(t.items);var n=e.newSearchValue||"";return""===n?(S.userInputValue="",q(t.items),K()):(S.userInputValue=n,S.currentShownValue(n),Y(t.items),J(t.items)),ue(t,t.items),t}function Y(e){var t,n=S.currentShownValue(),r=!1;""!==n?(n=ge(n),t=new RegExp(n,"gi"),e.forEach((function(e){var n=e.itemData[S.searchOnKey()];void 0!==n&&null!==n.match(t)?(e.isVisible(!0),e.decoratedSearchText(function(e,t){var n,r,i,o,a,s="",l=0,c=null,u=function(e){return'<span class="selector-item-search-decor">'+e+"</span>"},d=function(e){return e.replace(/ /g,"&nbsp;")};if(void 0===t.length||0===t.length)return s;for(;null!==(c=e.exec(t));)c.index>l&&(n=l,r=c.index-l,s+=t.substr(n,r),l=c.index),i=c.index,o=c[0].length,-1===(a=d(a=t.substr(i,o))).indexOf(" ")&&(s+=u(a)),l=c.index+c[0].length;l<t.length&&(s+=t.substr(l));return s}(t,n)),r=!0):(e.isVisible(!1),e.decoratedSearchText(null))})),r||!function(e){return e.every((function(e){return!1===e.isVisible()}))}(e)?S.noResults(!1):S.noResults(!0)):S.noResults(!1)}function q(e){var t;t="",S.userInputValue=t,S.currentShownValue(t),function(e){e.forEach((function(e){e.isVisible(!0),e.decoratedSearchText(null)})),function(e,t){e.map((function(e){e.isVisible(t)}))}(e,!0),d(u),S.noResults(!1)}(e)}function G(e,t){S.autocomplete.text(e||""),S.autocomplete.item=t}function K(){G("",null)}function J(e){var t=S.currentShownValue();if(t.length>0)for(var n=ge(t),r=new RegExp("^"+n,"gi"),i=0,o=e.length;i<o;i++){var a=e[i].itemData[S.searchOnKey()];if(null!==a.match(r))return void G(a=X(t,a),e[i])}K()}function X(e,t){for(var n=e.length,r=t.length,i="",o=0;o<r;o++)if(o<n){var a=ye(e[o]);a!==ye(t[o])?i+=!0===a?t[o].toLowerCase():t[o].toUpperCase():i+=t[o]}else i+=t[o];return i}function Q(e){e.forEach((function(e){e.isHighlighted(!1)})),T.currentItemId(null),T.selectAllItemEmulation.isHighlighted(!1),T.selectAllItemEmulation.individualHasFocus(!1)}function Z(e,t){var n=T.currentItemId(),r=e.filter((function(e){return!0===e.isVisible()}));!0===w&&(r=[T.selectAllItemEmulation].concat(r));var i,o,a=r.length,s=be(r,n),l=0;if(null!==n){for(var c=0;c<a;c++)n===r[c].id&&(l=c,c=a);s.isHighlighted(!1),o=l+t}else o=t<0?a+t:0+t-1;o<0||o>=a?(T.currentItemId(null),S.currentShownValue(S.userInputValue),""!==S.userInputValue&&Y(e)):!0!==(i=r[o]).isSelected||w?(i.isHighlighted(!0),i.individualHasFocus(!0),ee(),T.currentItemId(i.id),(!1===w||!0===w&&0!==i.id)&&S.currentShownValue(i.itemData[S.searchOnKey()]),K()):Z(e,t=t>0?t+1:t-1)}function ee(){setTimeout((function(){!0===S.enabled()?S.hasFocus(!0):I.hasFocus(!0)}),0)}function te(e,t){var n=!0;return(t.allowMultiple&&e.event===t.dropdownClickEvent||e.event===t.searchFieldClickEvent)&&(n=!1),n&&(t.isOpen=!1,ae()),t.dropdownClickEvent=null,t.searchFieldClickEvent=null,t.caretIcon=t.isOpen?s:l,t}function ne(e,t){return t.items=e.items,ue(t,t.items),t}function re(e,t){return t.isDisabled=e.value,t}function ie(e,t){var n=!t.allSelected,r=t.items,i=function(e){return pe(e,n)},o=!0===S.enabled()?function(e){return!0===e.isVisible()?i(e):e}:i;return ue(t,r=r.map(o)),e.silent||(m=!0,p(t.allowMultiple?t.selectionData.selectedItems():t.selectionData),m=!1,E(t.selectionData.selectedItems())),t.items=r,t}function oe(e,n){if(!C())return n;var r,i,o,a,s,l=null,c=0,u=Array.isArray(e.items)?e.items:[e.items],d=u.map((function(e){return e&&e.itemData||e}));if(n.allowMultiple)for(c=0;c<n.items.length;c++)r=n.items[c],i=void 0,o=void 0,a=void 0,s=void 0,i=e.isToggle,o=r.itemData,a=r.isSelected,s=R.contains(o,d),(i&&s&&a||!i&&!s&&a)&&(n.items[c]=he(r)),s&&!a&&(n.items[c]=me(r));else for(l=d[0],!t.isNullOrEmpty(u[0])&&u[0].isSelected&&(e.silent=!0),c=0;c<n.items.length;c++)n.items[c].itemData!==l?n.items[c].isSelected&&(n.items[c]=he(n.items[c])):n.items[c]=me(n.items[c]);return ue(n,n.items),e.silent||(m=!0,p(n.allowMultiple?n.selectionData.selectedItems():n.selectionData),m=!1,E(n.allowMultiple?n.selectionData.selectedItems():n.selectionData)),n}function ae(){window.document.removeEventListener("click",L),ee()}function se(e,t){var n;return n=t.hasOwnProperty("name")&&t.hasOwnProperty("options")?t.options.map((function(e,n,r){var i=le(e),o=t.name;i.isGrouped=!0,i.groupName=o,i.isFirstChild=0===n,i.isLastChild=n===r.length-1;var a=function(e,t){var n=M[e];return void 0===n?n=M[e]={visibleCount:1,hasVisibleItems:ko.observable(!0)}:n.visibleCount++,t.isVisible.subscribe((function(e){!0===e?n.visibleCount++:n.visibleCount--,n.visibleCount>0?n.hasVisibleItems(!0):n.hasVisibleItems(!1)})),n.hasVisibleItems}(o,i);return!0!==i.isFirstChild&&!0!==i.isLastChild||(i.hasVisibleItems=a),i})):[le(t)],e.concat(n)}function le(e){return{id:k++,itemData:e,isSelected:!1,isVisible:ko.observable(!0),isHighlighted:ko.observable(!1),individualHasFocus:ko.observable(!1),decoratedSearchText:ko.observable(null)}}function ce(e){return e.itemData}function ue(e,t){e.allSelected=fe(function(e){return e.filter((function(e){return!0===e.isVisible()}))}(t)),e.selectionData=de(t),e.showPlaceholder=function(e){return e.every((function(e){return!1===e.isSelected}))}(t)}function de(e){var t,n=null;return e?(t=e.filter((function(e){return e.isSelected})).map(ce),n={selectedItems:ko.observable(t),selectedCount:ko.observable(t.length),allItemsSelected:fe(e),itemTemplate:t.length>1?f:d},P.allowMultiple?n:n.selectedItems()[0]):{selectedItems:ko.observable(null),selectedCount:ko.observable(0)}}function fe(e){return e.every((function(e){return!0===e.isSelected}))}function pe(e,t){return e.isSelected!==t?$.extend({},e,{isSelected:t}):e}function he(e){return pe(e,!1)}function me(e){return pe(e,!0)}function ge(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function ve(e){[32,38,40].indexOf(e.keyCode)>-1&&e.preventDefault()}function be(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].id===t)return e[n];return null}function ye(e){return e===e.toLowerCase()}function we(e){return void 0!==c[e]?c[e]:null}}}(IMHome),function(e){var t=e.core;e.components.models["im-table"]=function(e){var n=e.headerRow,r=void 0===n?{}:n,i=e.headerRowTemplate,o=void 0===i?"":i,a=e.bodyRows,s=void 0===a?[]:a,l=e.bodyRowTemplate,c=void 0===l?"":l,u=e.hasExpandingRows,d=void 0!==u&&u,f=e.useDomForGridLayout,p=void 0!==f&&f,h=ko.observableArray([]);return s.subscribe(g),g(s()),{headerRow:r,bodyRows:h,headerRowTemplate:o,bodyRowTemplate:c,useDomForGridLayout:p};function m(e){var n=ko.observable(!d||!0===e.isExpanded),r=null!==d?function(e){return function(){var t=!e();!0===t&&h().forEach((function(e){return e.isExpanded(!1)})),e(t)}}(n):t.noop;return R.merge(e,{isExpanded:n,onRowClick:r})}function g(e){h(e.map(m))}}}(IMHome),function(e){var t=e.core,n=e.components,r=t.isMobile,i=t.makeObservable;n.models["im-slider"]=function(e,t){var n=!!e.startFromRight||!1,o=void 0!==e.paddingOverride&&i(e.paddingOverride),a=!!ko.isObservable(e.focusOn)&&e.focusOn,s=(!1!==a?a():e.focusOn)||"",l=function(){return!1!==o?o():r()?0:20},c=t.element.querySelector(".im-slider"),u=t.element.querySelector(".slider-items"),d=function(){return c.clientWidth},f=function(){return u.clientWidth+2*l()},p=0,h=function(){return-1*p},m=ko.observable(!0),g=ko.observable(!0),v=ko.observable(!1),b=function(){return d()-2*(r()?45:85)},y=function(){return f()-h()-d()},w=function(e){var t=b(),n=t<e?t:e;return n},x=function(){m(p>=0),g(y()<=0),v(m()&&g())},_=function(e){var t=-(f()-d());t>0||(e>0?e=0:e<t&&(e=t),p=e,x(),u.style.marginLeft=p+"px")},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"==typeof e&&0!==e.length){var t=u.querySelector(e);if(t){var n=d()/2-l(),r=t.offsetLeft+t.clientWidth/2,i=r-n;_(-i)}}};return r.subscribe(x),!1!==a&&a.subscribe(k),{action:{next:function(){if(!0===g())return;p-=w(y()),_(p)},previous:function(){if(!0===m())return;p+=w(h()),_(p)},onceRendered:function(){!0===n?_(-1*y()):!1!==s&&k(s);x()}},state:{atBeginning:m,atEnding:g,notScrollable:v}}}}(IMHome),function(e){var t=e.components,n=e.aria,r=e.core;t.models["im-tabs"]=function(e){var t,i=e.selectedTabId,o=e.APP_NAME,a=e.ariaLabel,s=void 0===a?"":a,l=e.tabs,c=void 0===l?[]:l,u=e.ariaTabPanels,d=void 0===u?ko.observableArray:u,f=e.shouldAutoSelectOnFocus,p=void 0===f||f,h=e.useExplicitTabParamInUrl,m=void 0!==h&&h,g=!0===m?"".concat(o,"/tab"):"".concat(o),v=r.Router.getSammyObject().last_location[1],b=new RegExp("^/#/".concat(o,"/?$")),y=v.match(b),w=r.makeObservable(c,[]);w.subscribe(E);var x=ko.observable({}),_=ko.observableArray([]),k=ko.observableArray([]),S=ko.pureComputed((function(){return _().map((function(e){var t=ko.pureComputed((function(){return e.id===i()})),n=ko.pureComputed((function(){return t()&&I()}));return _objectSpread(_objectSpread({},e),{},{tabAttributes:R.merge(e.tabAttributes,{tabIndex:ko.pureComputed((function(){return t()?0:-1})),role:"tab","aria-selected":t}),isSelected:t,shouldTriggerScrollIntoView:n,onClick:function(){e.beforeChange&&e.beforeChange(e),i(e.id)},onKeyUp:M,hasFocus:ko.observable(!1)})}))})),T=ko.pureComputed((function(){return k().map((function(e){return _objectSpread(_objectSpread({},e),{},{isVisible:ko.pureComputed((function(){return e.id===i()})),panelAttributes:R.merge(e.panelAttributes,{hidden:ko.pureComputed((function(){return e.id!==i()})),tabIndex:ko.pureComputed((function(){return e.id===i()?0:-1}))})})}))}));T.subscribe(d);var I=ko.observable(!1);return function(){if(E(w()),window.addEventListener("resize",C),i.subscribe((function(e){!function(e){if(!1===R.contains("/".concat(g,"/").concat(e),window.location.hash)){var t=r.getURLParameters(window.location.hash);window.location.hash=r.buildUrl("/".concat(g,"/").concat(e),t)}}(e)})),y&&w()[0])i(w()[0].id);else{O(null,{params:D(r.getURLParameters(v))})}t=r.SubscriptionList([{event:"route",action:O}])}(),{tabListAttributes:x,tabs:S,tabPanels:T,afterTabRender:C,onDestroy:function(){window.removeEventListener("resize",C),t&&t.unsubscribeAll()},shouldAutoSelectOnFocus:p};function E(e){var t=n.createTabs({namespace:"im-tabs",ariaLabel:s,tabs:e}),r=t.tabListAttributes,i=t.tabButtons,o=t.tabPanels;x(r),_(i),k(o)}function C(){I(!1),setTimeout((function(){I(!0)}))}function O(e,t){var n=t.params;if(n.tab&&n.tab!==i()){var r=S().find(R.propEq("id",n.tab));null!=r&&r.beforeChange&&r.beforeChange(r),i(n.tab)}}function M(e,t){var n=r.constants.KEY_CODES;if(!1===[n.ARROW_RIGHT,n.ARROW_LEFT,n.HOME,n.END].includes(t.keyCode))return!0;var o,a,s,l,c=S().length-1,u=t.keyCode===n.HOME?S()[0]:t.keyCode===n.END?S()[c]:t.keyCode===n.ARROW_RIGHT||t.keyCode===n.ARROW_LEFT?(o=S().find((function(t){return t.id===(e.id||(null==e?void 0:e.context.id))})),a=S().indexOf(o),s=t.keyCode===n.ARROW_RIGHT?1:-1,l=a+s===-1?c:a+s>c?0:a+s,S()[l]):null;u.hasFocus(!0),p&&(u.beforeChange&&u.beforeChange(e),i(u.id))}function D(e){return _objectSpread({codeName:o,tab:m?v.split("tab/")[1].split("/")[0].split("?")[0]:v.split("/")[3].split("/")[0].split("?")[0]},e)}}}(IMHome),function(e,t){IMHome.components.functions.chipCollectionStateToggler=function(e,n){return function(r,i,o){return function(){var a=n(),s=!t.contains(r,n()),l=e(s);i(s),o(l);var c=!0===s?[].concat(_toConsumableArray(a),[r]):t.without([r],a);n(c)}}}}(0,R),function(e,t){var n=e.core,r=e.components;r.models["im-tag-filter"]=function(e){var i=e.items,o=void 0===i?[]:i,a=e.selectedItemIds,s=void 0===a?[]:a,l=n.makeObservable(s),c=r.functions.chipCollectionStateToggler((function(e){return!0===e?n.constants.CHIP_TYPES.PRIMARY:n.constants.CHIP_TYPES.DEFAULT}),l),u=o.map((function(e){var t=e.text,r=e.id,i=d(r),o=ko.observable(i),a=ko.observable(n.constants.CHIP_TYPES.DEFAULT),s=c(r,o,a);return{isSelected:o,onClick:s,text:t,type:a}}));return l.subscribe((function(){u.forEach((function(e){var t=e.id;return(0,e.isSelected)(d(t))}))})),{items:u};function d(e){return t.contains(e,l())}}}(IMHome,R),IMHome.components.models["im-term-selector"]=function(e){var t=e.label,n=e.terms,r=e.selectedTermKey,i=R.find(R.propEq("selected",!0),ko.unwrap(n))||null;return i&&r(i.key),{label:t,terms:n,selectedTerms:i,itemTemplate:"t_termSelectorItem",onChange:function(e){var t=e.key;return r(t)},keyMap:{value:"label",key:"value"}}},function(e){var t=e.core;e.components.models["im-textarea"]=function(e,n){var r=e.maxLength,i=e.placeholder,o=void 0===i?null:i,a=e.value,s=e.isDynamic,l=void 0===s||s,c=e.restrictDynamicHeight,u=void 0===c||c,d=t.defaultObservable(!1,e.focus),f=void 0!==r,p=f?function(e){var n=e.maxLength,r=t.defaultObservable("",e.text),i=ko.observable(),o=ko.observable(),a=function(){return"".concat((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").length,"/").concat(n)},s=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length<=n?t:e(R.dropLast(1,t))};return r.subscribe((function(e){var t=s(e,n);r(t),R.pipe(R.defaultTo(""),a,i)(t),o(e&&e.length>=n)})),r.valueHasMutated(),{count:i,maxReached:o,textInput:r}}({maxLength:r,text:a}):function(e){return{count:null,maxReached:ko.observable(!1),textInput:e}}(a),h=p.textInput,m=ko.computed((function(){return p.maxReached()&&d()})),g=ko.observable(l&&u?"hidden":"visible"),v=ko.computed((function(){return!d()&&l&&u})),b=R.pipe(window.getComputedStyle,R.prop("height"),parseFloat)(x()),y=ko.observable(l&&u?0:b);return{init:function(){l&&(w(),h.subscribe((function(){return w()})),u&&d.subscribe((function(e){x().scrollTop=0,w(e?null:b)})))},textInput:h,placeholder:o,count:p.count,limitExceeded:m,hasMaxLength:f,focus:d,displayTextFade:v,height:y,restrictDynamicHeight:u,overflowY:g};function w(e){y(b),e=parseFloat(e);var t=x(),n=R.pipe(window.getComputedStyle,R.prop("max-height"),parseFloat)(t),r=parseFloat(isNaN(e)?t.scrollHeight:e);!isNaN(n)&&r>=n?g("visible"):g("hidden"),y(r)}function x(){return n.element.querySelector(".textarea-element")}}}(IMHome),function(e){var t=e.core,n=e.components,r=e.aria;n.models["im-time-picker"]=function(e,n){var i=r.createCombobox("time-picker"),o=n.element.getElementsByTagName("input")[0],a=[].slice.call(n.element.getElementsByTagName("*"),0),s=function(e){var t=!1;if(ko.unwrap(e)){var n=document.createElement("input");n.type="time",t="time"===n.type}return t}(e.useNative),l=e.isDisabled||!1,c=e.placeholder||null,u=e.value,d=parseInt(ko.unwrap(e.interval)||"15"),f=ko.unwrap(e.openingTime)||"00:00",p=ko.unwrap(e.closingTime)||"23:59";if(!1===ko.isObservable(u))throw new Error("IM ko component: time-picker requires @value param to be an observable");var h,m,g,v,b,y,w,x,_,k,S,T,I,E,C,O=e.ariaListboxLabelledby,M=e.ariaListboxLabel,D=e.ariaInputLabelledby,P=e.ariaInputLabel,A=u,N=A()||"",H=ko.observable(!1),L=ko.observable(!1).extend({notify:"always"}),j=H.subscribe((function(e){!0===e?J():setTimeout((function(){a.some((function(e){return e===document.activeElement}))||o===document.activeElement?o.focus():(X(),function(){var e=A();if(""!==e&&null!=e){var t=ce(e),n=!0;t.hours?t.hours>23&&(n=!1,t.hours=23):(n=!1,t.hours=0),t.minutes?t.minutes>59&&(n=!1,t.minutes=59):(n=!1,t.minutes=0),n||A(ue(t.hours)+":"+ue(t.minutes))}}())}),0)})),F=ko.observable(!1),U=ko.pureComputed((function(){return!s&&L()})).extend({notify:"always"}),V=ko.pureComputed((function(){return U().toString()})),W=13,$=27,B=38,z=40,Y=35,q=36,G=[],K={comboboxModel:{attrBindings:{id:i.comboboxId,role:"combobox","aria-expanded":V,"aria-owns":i.listboxId,"aria-haspopup":"listbox"}},inputModel:(C=s?(E=60*d,{inputAttrBindings:{type:"time",step:E,min:f,max:p},event:{}}):(I=he(D,P),{inputAttrBindings:R.assoc(I.attrName,I.attrValue,{id:i.inputId,placeholder:c,type:"text",autocomplete:"off","aria-autocomplete":"none","aria-controls":i.listboxId,"aria-activedescendant":F}),event:{keydown:ee}}),{value:A,attrBindings:C.inputAttrBindings,hasFocus:H,events:C.event,isDisabled:l,clickHandler:Q}),listboxModel:s?null:(T=he(O,M),{attrBindings:R.assoc(T.attrName,T.attrValue,{id:i.listboxId}),showing:U}),listOptionsModel:s?null:(m=f,g=p,v=ce(m),b=ce(g),y=de(v.hours,b.hours),w=y.length,x=fe(v.minutes),_=pe(x,59),k=y.map((function(e,t){var n=1===w?pe(v.minutes,b.minutes):0===t?pe(v.minutes,59):t===w-1?pe(x,b.minutes):_,r=n.map((function(t){var n=i.getNextListItemId(),r=e+":"+t,o=ko.observable(!1),a=ko.pureComputed((function(){return A()===r}));return G.push(a),{id:n,timeString:r,hour:e,minute:t,isActive:o,isSelected:a,attrBindings:{id:n,"aria-selected":a}}}));return r})),S=R.flatten(k),{timeOptionItems:S,optionClickHandler:Z})};return 60%d!=0&&(d=1),h=A.subscribe((function(e){var t,n,r,i=N;if(N=e,!1===/^[0-9]{0,2}:?[0-9]{0,2}$/.test(e))return A(i),void(N=i);ae(),e.length<i.length||-1===e.indexOf(":")&&(1!==e.length||(t=e,n=parseInt(f[0])<=parseInt(t),r=parseInt(p[0])>=parseInt(t),n&&r)?2===e.length&&A(e+":"):A("0"+e+":"),setTimeout(ie))})),{isNative:s,comboboxModel:K.comboboxModel,inputModel:K.inputModel,listboxModel:K.listboxModel,listOptionsModel:K.listOptionsModel,dispose:function(){h.dispose(),j.dispose(),G.forEach((function(e){e.dispose()}))}};function J(){K.listboxModel.showing()||(L(!0),setTimeout(oe))}function X(){L(!1),ae()}function Q(){J()}function Z(e){A(e.timeString),X()}function ee(e,t){var n=t.keyCode;return W===n?(se()&&(A(le(F()).timeString),X(),o.focus()),t.preventDefault()):$===n?(X(),t.preventDefault()):B===n?(se()||J(),ne(),t.preventDefault()):z===n?(se()||J(),te(),t.preventDefault()):Y===n?(re(K.listOptionsModel.timeOptionItems.length-1),t.preventDefault()):q===n&&(re(0),t.preventDefault()),L.valueHasMutated(),!0}function te(){var e=ie();++e>=K.listOptionsModel.timeOptionItems.length&&(e=0),re(e)}function ne(){var e=ie();e--;var t=K.listOptionsModel.timeOptionItems;e<0&&(e=t.length-1),re(e)}function re(e){var t=K.listOptionsModel.timeOptionItems[e];!1!==F()&&le(F()).isActive(!1);t.isActive(!0),F(t.id)}function ie(){var e=se()?function(e){var t=K.listOptionsModel.timeOptionItems;return R.findIndex(R.propEq("id",e))(t)}(F()):-1;if(-1!==e)return e;var t=K.listOptionsModel.timeOptionItems,n=A();if(""===n)return 0;var r=o(ce(n)),i=t.reduce((function(e,t,n){var i=o(ce(t.timeString));return e.concat([{timeOptionIndex:n,proximity:Math.abs(i-r)}])}),[]);return i.reduce((function(e,t){return t.proximity<e.proximity?t:e}),i[0]).timeOptionIndex;function o(e){return 60*e.hours+e.minutes}}function oe(){re(ie())}function ae(){se()&&(le(F()).isActive(!1),F(!1))}function se(){return!1!==F()}function le(e){return t.getById(K.listOptionsModel.timeOptionItems,e)}function ce(e){var t=e&&""!==e?function(e){return e.split(":").map((function(e){return parseInt(e)}))}(e):["00","00"];return{hours:t[0],minutes:t[1]}}function ue(e){return e<10?"0"+e:""+e}function de(e,t){for(var n=[],r=e;r<=t;r++)n.push(ue(r));return n}function fe(e){for(var t=e;t-d>=0;)t-=d;return t}function pe(e,t){for(var n=[],r=fe(e),i=60/d,o=0;o<=i;o++){var a=o*d+r;a>=e&&a<=t&&n.push(ue(a))}return n}function he(e,t){if(void 0!==e)return{attrName:"aria-labelledby",attrValue:e};if(void 0!==t)return{attrName:"aria-label",attrValue:t};throw new Error("IM ko component: time-picker labelling issue. Please ensure required aria labels are provided. See component Docs for param details.")}}}(IMHome),function(e){var t=e.components,n=e.core;t.models["im-toggle"]=function(e){var t=e.isSelected,r=e.url,i=e.onClick,o=e.isDisabled,a=i||function(){if(t(!t()),!R.isNil(r)){var e=n.buildUrl(r,{isSelected:t()});n.postJSON(e)}return!0};return{click:o?IMHome.core.noop:a,isSelected:t,isDisabled:o}}}(IMHome),function(e){var t=e.components,n=e.core;t.models["im-week-picker"]=function(e){var t=e.translations,r=void 0===t?{}:t,i=e.selectedDate,o=e.datePickerConfig,a=ko.observable(""),s=function(e){var t=moment(e).isoWeek();a("".concat(r.week," ").concat(t))},l=function(e){return function(){var t=moment(i(),n.standardDateFormat).add(e,"weeks");i(t.toDate())}};return i.subscribe(s),s(i()),{selectedWeekText:a,translations:r,datePickerConfig:o,prevWeekClick:l(-1),nextWeekClick:l(1)}}}(IMHome),IMHome.components.models["react-select"]=function(e){return{Component:window.ReactSelectUMD.default,props:e}},IMHome.components.templates.forEach((function(e){ko.components.register(e.name,{viewModel:{createViewModel:function(t,n){var r=IMHome.components.models[e.name]||{},i=r.requiredParams;return Array.isArray(i)&&i.length>0&&i.forEach((function(n){if(void 0===t[n])throw'The "'+e.name+'" component requires a "'+n+'" parameter'})),IMHome.core.isFunction(r)?r(t,n):r}},template:e.contents})})),function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(){return t.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.exports.default=t.exports,t.exports.__esModule=!0,r.apply(this,arguments)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},{}],2:[function(e,t,n){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.default=t.exports,t.exports.__esModule=!0},{}],3:[function(e,t,n){var r=e("@babel/runtime/helpers/typeof").default;function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}t.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n},t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime/helpers/typeof":5}],4:[function(e,t,n){t.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},t.exports.default=t.exports,t.exports.__esModule=!0},{}],5:[function(e,t,n){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=r=function(e){return typeof e},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.default=t.exports,t.exports.__esModule=!0),r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},{}],6:[function(e,t,n){var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};t.exports=function(e,t){return"number"!=typeof t||r[e]?t:t+"px"}},{}],7:[function(e,t,n){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var e={}.hasOwnProperty;function n(){for(var t=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)t.push(i);else if(Array.isArray(i)&&i.length){var a=n.apply(null,i);a&&t.push(a)}else if("object"===o)for(var s in i)e.call(i,s)&&i[s]&&t.push(s)}}return t.join(" ")}void 0!==t&&t.exports?(n.default=n,t.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return n})):window.classNames=n}()},{}],8:[function(e,t,n){t.exports=function e(t){Object.freeze(t);var n="function"==typeof t,r=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach((function(i){!r.call(t,i)||n&&("caller"===i||"callee"===i||"arguments"===i)||null===t[i]||"object"!=typeof t[i]&&"function"!=typeof t[i]||Object.isFrozen(t[i])||e(t[i])})),t}},{}],9:[function(e,t,n){var r=e("prefix-style"),i=e("to-camel-case"),o={float:"cssFloat"},a=e("add-px-to-style");function s(e,t,n){var s=o[t];if(void 0===s&&(s=function(e){var t=i(e),n=r(t);return o[t]=o[e]=o[n]=n,n}(t)),s){if(void 0===n)return e.style[s];e.style[s]=a(s,n)}}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&s(e,n,t[n])}function c(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:l(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}t.exports=c,t.exports.set=c,t.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=s(e,n||""),t}),{}):s(e,t||"")}},{"add-px-to-style":6,"prefix-style":26,"to-camel-case":399}],10:[function(e,t,n){"use strict";var r=e("react-is"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;t.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!(o[v]||r&&r[v]||m&&m[v]||s&&s[v])){var b=f(n,v);try{c(t,v,b)}catch(e){}}}}return t}},{"react-is":364}],11:[function(e,t,n){(function(e){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t,r=(t="undefined"!=typeof window?window.React:void 0!==e?e.React:null)&&t.__esModule?t:{default:t};var i=function(e){var t=e.iconId,n=e.xml,i=e.cssClassName,o=void 0===i?"svg-container":i,a="";if(n){var s=n.getElementById(t).cloneNode(!0);s.removeAttribute("id"),a=(new XMLSerializer).serializeToString(s)}return r.default.createElement("div",{className:o,dangerouslySetInnerHTML:{__html:a}})};n.default=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t,n){(function(e){(function(){var r,i;r="undefined"!=typeof self?self:this,i=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n.n(r),o=n(2);t.default=function(e){var t=e.testId,n=e.children;return i.a.Children.count(n)>1&&console.warn(o.a.singleChildOnly),n.type===i.a.Fragment&&console.warn(o.a.noReactFragmentChild),i.a.Children.map(n,(function(e){return i.a.cloneElement(e,{"data-testid":t})}))}},function(t,n){t.exports=e},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={singleChildOnly:"Warning: TestIdContainer should only have one immediate child",noReactFragmentChild:"Warning: You should not provide React.Fragment as an immediate child to TestIdContainer"}}])},"object"==typeof n&&"object"==typeof t?t.exports=i("undefined"!=typeof window?window.React:void 0!==e?e.React:null):"function"==typeof define&&define.amd?define(["react"],i):"object"==typeof n?n["im-react-component-test-id-container"]=i("undefined"!=typeof window?window.React:void 0!==e?e.React:null):r["im-react-component-test-id-container"]=i(r[void 0])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,n){var r=e("./_root").Symbol;t.exports=r},{"./_root":20}],14:[function(e,t,n){var r=e("./_Symbol"),i=e("./_getRawTag"),o=e("./_objectToString"),a=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},{"./_Symbol":13,"./_getRawTag":17,"./_objectToString":18}],15:[function(e,t,n){(function(e){(function(){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){var r=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=r},{"./_overArg":19}],17:[function(e,t,n){var r=e("./_Symbol"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},{"./_Symbol":13}],18:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},{}],19:[function(e,t,n){t.exports=function(e,t){return function(n){return e(t(n))}}},{}],20:[function(e,t,n){var r=e("./_freeGlobal"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},{"./_freeGlobal":15}],21:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==typeof e}},{}],22:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./_getPrototype"),o=e("./isObjectLike"),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);t.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},{"./_baseGetTag":14,"./_getPrototype":16,"./isObjectLike":21}],23:[function(e,t,n){!function(e,r){"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.moment=r()}(this,(function(){"use strict";var n,r;function i(){return n.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return kt(e,t,n,r,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=h(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?f(h(t),e):h(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var v=i.momentProperties=[];function b(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=h(t)),s(t._locale)||(e._locale=t._locale),v.length>0)for(n=0;n<v.length;n++)s(i=t[r=v[n]])||(e[r]=i);return e}var y=!1;function w(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,i.updateOffset(this),y=!1)}function x(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function k(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function S(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&k(e[r])!==k(t[r]))&&a++;return a+o}function T(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function I(e,t){var n=!0;return f((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}T(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var E,C={};function O(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),C[e]||(T(t),C[e]=!0)}function M(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e,t){var n,r=f({},e);for(n in t)d(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)d(e,n)&&!d(t,n)&&a(e[n])&&(r[n]=f({},r[n]));return r}function P(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var A={};function N(e,t){var n=e.toLowerCase();A[n]=A[n+"s"]=A[t]=e}function R(e){return"string"==typeof e?A[e]||A[e.toLowerCase()]:void 0}function H(e){var t,n,r={};for(n in e)d(e,n)&&(t=R(n))&&(r[t]=e[n]);return r}var L={};function j(e,t){L[e]=t}function F(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},$={};function B(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&($[e]=i),t&&($[t[0]]=function(){return F(i.apply(this,arguments),t[1],t[2])}),n&&($[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e,t){return e.isValid()?(t=Y(t,e.localeData()),W[t]=W[t]||function(e){var t,n,r,i=e.match(U);for(t=0,n=i.length;t<n;t++)$[i[t]]?i[t]=$[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=M(i[r])?i[r].call(t,e):i[r];return o}}(t),W[t](e)):e.localeData().invalidDate()}function Y(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(V.lastIndex=0;n>=0&&V.test(e);)e=e.replace(V,r),V.lastIndex=0,n-=1;return e}var q=/\d/,G=/\d\d/,K=/\d{3}/,J=/\d{4}/,X=/[+-]?\d{6}/,Q=/\d\d?/,Z=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,ie=/\d+/,oe=/[+-]?\d+/,ae=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ce={};function ue(e,t,n){ce[e]=M(t)?t:function(e,r){return e&&n?n:t}}function de(e,t){return d(ce,e)?ce[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i}))))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function he(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),l(t)&&(r=function(e,n){n[t]=k(e)}),n=0;n<e.length;n++)pe[e[n]]=r}function me(e,t){he(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ge(e,t,n){null!=t&&d(pe,e)&&pe[e](t,n._a,n,e)}function ve(e){return be(e)?366:365}function be(e){return e%4==0&&e%100!=0||e%400==0}B("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),N("year","y"),j("year",1),ue("Y",oe),ue("YY",Q,G),ue("YYYY",ne,J),ue("YYYYY",re,X),ue("YYYYYY",re,X),he(["YYYYY","YYYYYY"],0),he("YYYY",(function(e,t){t[0]=2===e.length?i.parseTwoDigitYear(e):k(e)})),he("YY",(function(e,t){t[0]=i.parseTwoDigitYear(e)})),he("Y",(function(e,t){t[0]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)};var ye,we=xe("FullYear",!0);function xe(e,t){return function(n){return null!=n?(ke(this,e,n),i.updateOffset(this,t),this):_e(this,e)}}function _e(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ke(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&be(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Se(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Se(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?be(e)?29:28:31-r%7%2}ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),B("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),N("month","M"),j("month",8),ue("M",Q),ue("MM",Q,G),ue("MMM",(function(e,t){return t.monthsShortRegex(e)})),ue("MMMM",(function(e,t){return t.monthsRegex(e)})),he(["M","MM"],(function(e,t){t[1]=k(e)-1})),he(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:h(n).invalidMonth=e}));var Te=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ce(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ye.call(this._shortMonthsParse,a))?i:null:-1!==(i=ye.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=ye.call(this._shortMonthsParse,a))||-1!==(i=ye.call(this._longMonthsParse,a))?i:null:-1!==(i=ye.call(this._longMonthsParse,a))||-1!==(i=ye.call(this._shortMonthsParse,a))?i:null}function Oe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=k(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Se(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Me(e){return null!=e?(Oe(this,e),i.updateOffset(this,!0),this):_e(this,"Month")}var De=le;var Pe=le;function Ae(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=fe(r[t]),i[t]=fe(i[t]);for(t=0;t<24;t++)o[t]=fe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ne(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function Re(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function He(e,t,n){var r=7+t-n;return-((7+Re(e,0,r).getUTCDay()-t)%7)+r-1}function Le(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+He(e,r,i);return s<=0?a=ve(o=e-1)+s:s>ve(e)?(o=e+1,a=s-ve(e)):(o=e,a=s),{year:o,dayOfYear:a}}function je(e,t,n){var r,i,o=He(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Fe(i=e.year()-1,t,n):a>Fe(e.year(),t,n)?(r=a-Fe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Fe(e,t,n){var r=He(e,t,n),i=He(e+1,t,n);return(ve(e)-r+i)/7}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),j("week",5),j("isoWeek",5),ue("w",Q),ue("ww",Q,G),ue("W",Q),ue("WW",Q,G),me(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=k(e)}));B("d",0,"do","day"),B("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),B("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),B("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),ue("d",Q),ue("e",Q),ue("E",Q),ue("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ue("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ue("dddd",(function(e,t){return t.weekdaysRegex(e)})),me(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e})),me(["d","e","E"],(function(e,t,n,r){t[r]=k(e)}));var Ue="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var We="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function $e(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ye.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=ye.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=ye.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=ye.call(this._weekdaysParse,a))||-1!==(i=ye.call(this._shortWeekdaysParse,a))||-1!==(i=ye.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=ye.call(this._shortWeekdaysParse,a))||-1!==(i=ye.call(this._weekdaysParse,a))||-1!==(i=ye.call(this._minWeekdaysParse,a))?i:null:-1!==(i=ye.call(this._minWeekdaysParse,a))||-1!==(i=ye.call(this._weekdaysParse,a))||-1!==(i=ye.call(this._shortWeekdaysParse,a))?i:null}var Be=le;var ze=le;var Ye=le;function qe(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=fe(s[t]),l[t]=fe(l[t]),c[t]=fe(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ge(){return this.hours()%12||12}function Ke(e,t){B(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Je(e,t){return t._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Ge),B("k",["kk",2],0,(function(){return this.hours()||24})),B("hmm",0,0,(function(){return""+Ge.apply(this)+F(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Ge.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+F(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)})),Ke("a",!0),Ke("A",!1),N("hour","h"),j("hour",13),ue("a",Je),ue("A",Je),ue("H",Q),ue("h",Q),ue("k",Q),ue("HH",Q,G),ue("hh",Q,G),ue("kk",Q,G),ue("hmm",Z),ue("hmmss",ee),ue("Hmm",Z),ue("Hmmss",ee),he(["H","HH"],3),he(["k","kk"],(function(e,t,n){var r=k(e);t[3]=24===r?0:r})),he(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),he(["h","hh"],(function(e,t,n){t[3]=k(e),h(n).bigHour=!0})),he("hmm",(function(e,t,n){var r=e.length-2;t[3]=k(e.substr(0,r)),t[4]=k(e.substr(r)),h(n).bigHour=!0})),he("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=k(e.substr(0,r)),t[4]=k(e.substr(r,2)),t[5]=k(e.substr(i)),h(n).bigHour=!0})),he("Hmm",(function(e,t,n){var r=e.length-2;t[3]=k(e.substr(0,r)),t[4]=k(e.substr(r))})),he("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=k(e.substr(0,r)),t[4]=k(e.substr(r,2)),t[5]=k(e.substr(i))}));var Xe,Qe=xe("Hours",!0),Ze={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:Ee,week:{dow:0,doy:6},weekdays:Ue,weekdaysMin:We,weekdaysShort:Ve,meridiemParse:/[ap]\.?m?\.?/i},et={},tt={};function nt(e){return e?e.toLowerCase().replace("_","-"):e}function rt(n){var r=null;if(!et[n]&&void 0!==t&&t&&t.exports)try{r=Xe._abbr,e("./locale/"+n),it(r)}catch(e){}return et[n]}function it(e,t){var n;return e&&((n=s(t)?at(e):ot(e,t))?Xe=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Xe._abbr}function ot(e,t){if(null!==t){var n,r=Ze;if(t.abbr=e,null!=et[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=et[e]._config;else if(null!=t.parentLocale)if(null!=et[t.parentLocale])r=et[t.parentLocale]._config;else{if(null==(n=rt(t.parentLocale)))return tt[t.parentLocale]||(tt[t.parentLocale]=[]),tt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return et[e]=new P(D(r,t)),tt[e]&&tt[e].forEach((function(e){ot(e.name,e.config)})),it(e),et[e]}return delete et[e],null}function at(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xe;if(!o(e)){if(t=rt(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=nt(e[o]).split("-")).length,n=(n=nt(e[o+1]))?n.split("-"):null;t>0;){if(r=rt(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}o++}return Xe}(e)}function st(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Se(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,h(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),h(e)._overflowWeeks&&-1===t&&(t=7),h(e)._overflowWeekday&&-1===t&&(t=8),h(e).overflow=t),e}function lt(e,t,n){return null!=e?e:null!=t?t:n}function ct(e){var t,n,r,o,a,s=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=lt(t.GG,e._a[0],je(St(),1,4).year),r=lt(t.W,1),((i=lt(t.E,1))<1||i>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=je(St(),o,a);n=lt(t.gg,e._a[0],c.year),r=lt(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o}r<1||r>Fe(n,o,a)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=Le(n,r,i,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=lt(e._a[0],r[0]),(e._dayOfYear>ve(a)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=Re(a,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Re:Ne).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(h(e).weekdayMismatch=!0)}}var ut=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ht=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((\-?\d+)/i;function gt(e){var t,n,r,i,o,a,s=e._i,l=ut.exec(s)||dt.exec(s);if(l){for(h(e).iso=!0,t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(l[1])){i=pt[t][0],r=!1!==pt[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=ht.length;t<n;t++)if(ht[t][1].exec(l[3])){o=(l[2]||" ")+ht[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!ft.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),xt(e)}else e._isValid=!1}var vt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function bt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var yt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wt(e){var t,n,r,i,o,a,s,l=vt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var c=(t=l[4],n=l[3],r=l[2],i=l[5],o=l[6],a=l[7],s=[bt(t),Ee.indexOf(n),parseInt(r,10),parseInt(i,10),parseInt(o,10)],a&&s.push(parseInt(a,10)),s);if(!function(e,t,n){return!e||Ve.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],c,e))return;e._a=c,e._tzm=function(e,t,n){if(e)return yt[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(l[8],l[9],l[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function xt(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],h(e).empty=!0;var t,n,r,o,a,s=""+e._i,l=s.length,c=0;for(r=Y(e._f,e._locale).match(U)||[],t=0;t<r.length;t++)o=r[t],(n=(s.match(de(o,e))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),$[o]?(n?h(e).empty=!1:h(e).unusedTokens.push(o),ge(o,n,e)):e._strict&&!n&&h(e).unusedTokens.push(o);h(e).charsLeftOver=l-c,s.length>0&&h(e).unusedInput.push(s),e._a[3]<=12&&!0===h(e).bigHour&&e._a[3]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),ct(e),st(e)}else wt(e);else gt(e)}function _t(e){var t=e._i,n=e._f;return e._locale=e._locale||at(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new w(st(t)):(c(t)?e._d=t:o(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],xt(t),m(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||o<r)&&(r=o,n=t));f(e,n||t)}(e):n?xt(e):function(e){var t=e._i;s(t)?e._d=new Date(i.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(gt(e),!1===e._isValid&&(delete e._isValid,wt(e),!1===e._isValid&&(delete e._isValid,i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=u(t.slice(0),(function(e){return parseInt(e,10)})),ct(e)):a(t)?function(e){if(!e._d){var t=H(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ct(e)}}(e):l(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function kt(e,t,n,r,i){var s,l={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=n,l._i=e,l._f=t,l._strict=r,(s=new w(st(_t(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function St(e,t,n,r){return kt(e,t,n,r,!1)}i.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Tt=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),It=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Et(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return St();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Ct=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ot(e){var t=H(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ye.call(Ct,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Ct.length;++r)if(e[Ct[r]]){if(n)return!1;parseFloat(e[Ct[r]])!==k(e[Ct[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=at(),this._bubble()}function Mt(e){return e instanceof Ot}function Dt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Pt(e,t){B(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)}))}Pt("Z",":"),Pt("ZZ",""),ue("Z",se),ue("ZZ",se),he(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Nt(se,e)}));var At=/([\+\-]|\d\d)/gi;function Nt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(At)||["-",0,0],i=60*r[1]+k(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Rt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(x(e)||c(e)?e.valueOf():St(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):St(e).local()}function Ht(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Lt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var jt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ft=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ut(e,t){var n,r,i,o=e,a=null;return Mt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=jt.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:k(a[2])*n,h:k(a[3])*n,m:k(a[4])*n,s:k(a[5])*n,ms:k(Dt(1e3*a[6]))*n}):(a=Ft.exec(e))?(n="-"===a[1]?-1:(a[1],1),o={y:Vt(a[2],n),M:Vt(a[3],n),w:Vt(a[4],n),d:Vt(a[5],n),h:Vt(a[6],n),m:Vt(a[7],n),s:Vt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Rt(t,e),e.isBefore(t)?n=Wt(e,t):((n=Wt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(St(o.from),St(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new Ot(o),Mt(e)&&d(e,"_locale")&&(r._locale=e._locale),r}function Vt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Wt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Bt(this,Ut(n="string"==typeof n?+n:n,r),e),this}}function Bt(e,t,n,r){var o=t._milliseconds,a=Dt(t._days),s=Dt(t._months);e.isValid()&&(r=null==r||r,s&&Oe(e,_e(e,"Month")+s*n),a&&ke(e,"Date",_e(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,a||s))}Ut.fn=Ot.prototype,Ut.invalid=function(){return Ut(NaN)};var zt=$t(1,"add"),Yt=$t(-1,"subtract");function qt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Gt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=at(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Kt=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Jt(){return this._locale}function Xt(e,t){B(0,[e,e.length],0,t)}function Qt(e,t,n,r,i){var o;return null==e?je(this,r,i).year:(t>(o=Fe(e,r,i))&&(t=o),Zt.call(this,e,t,n,r,i))}function Zt(e,t,n,r,i){var o=Le(e,t,n,r,i),a=Re(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Xt("gggg","weekYear"),Xt("ggggg","weekYear"),Xt("GGGG","isoWeekYear"),Xt("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),ue("G",oe),ue("g",oe),ue("GG",Q,G),ue("gg",Q,G),ue("GGGG",ne,J),ue("gggg",ne,J),ue("GGGGG",re,X),ue("ggggg",re,X),me(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=k(e)})),me(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),B("Q",0,"Qo","quarter"),N("quarter","Q"),j("quarter",7),ue("Q",q),he("Q",(function(e,t){t[1]=3*(k(e)-1)})),B("D",["DD",2],"Do","date"),N("date","D"),j("date",9),ue("D",Q),ue("DD",Q,G),ue("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),he(["D","DD"],2),he("Do",(function(e,t){t[2]=k(e.match(Q)[0])}));var en=xe("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),j("dayOfYear",4),ue("DDD",te),ue("DDDD",K),he(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=k(e)})),B("m",["mm",2],0,"minute"),N("minute","m"),j("minute",14),ue("m",Q),ue("mm",Q,G),he(["m","mm"],4);var tn=xe("Minutes",!1);B("s",["ss",2],0,"second"),N("second","s"),j("second",15),ue("s",Q),ue("ss",Q,G),he(["s","ss"],5);var nn,rn=xe("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),N("millisecond","ms"),j("millisecond",16),ue("S",te,q),ue("SS",te,G),ue("SSS",te,K),nn="SSSS";nn.length<=9;nn+="S")ue(nn,ie);function on(e,t){t[6]=k(1e3*("0."+e))}for(nn="S";nn.length<=9;nn+="S")he(nn,on);var an=xe("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var sn=w.prototype;function ln(e){return e}sn.add=zt,sn.calendar=function(e,t){var n=e||St(),r=Rt(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=t&&(M(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,St(n)))},sn.clone=function(){return new w(this)},sn.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Rt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=R(t)){case"year":o=qt(this,r)/12;break;case"month":o=qt(this,r);break;case"quarter":o=qt(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:_(o)},sn.endOf=function(e){return void 0===(e=R(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},sn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)},sn.from=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||St(e).isValid())?Ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},sn.fromNow=function(e){return this.from(St(),e)},sn.to=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||St(e).isValid())?Ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},sn.toNow=function(e){return this.to(St(),e)},sn.get=function(e){return M(this[e=R(e)])?this[e]():this},sn.invalidAt=function(){return h(this).overflow},sn.isAfter=function(e,t){var n=x(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(s(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},sn.isBefore=function(e,t){var n=x(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(s(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},sn.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},sn.isSame=function(e,t){var n,r=x(e)?e:St(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=R(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},sn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},sn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},sn.isValid=function(){return m(this)},sn.lang=Kt,sn.locale=Gt,sn.localeData=Jt,sn.max=It,sn.min=Tt,sn.parsingFlags=function(){return f({},h(this))},sn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:L[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=H(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(M(this[e=R(e)]))return this[e](t);return this},sn.startOf=function(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},sn.subtract=Yt,sn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},sn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},sn.toDate=function(){return new Date(this.valueOf())},sn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},sn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},sn.toJSON=function(){return this.isValid()?this.toISOString():null},sn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},sn.unix=function(){return Math.floor(this.valueOf()/1e3)},sn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},sn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},sn.year=we,sn.isLeapYear=function(){return be(this.year())},sn.weekYear=function(e){return Qt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},sn.isoWeekYear=function(e){return Qt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},sn.quarter=sn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},sn.month=Me,sn.daysInMonth=function(){return Se(this.year(),this.month())},sn.week=sn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},sn.isoWeek=sn.isoWeeks=function(e){var t=je(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},sn.weeksInYear=function(){var e=this.localeData()._week;return Fe(this.year(),e.dow,e.doy)},sn.isoWeeksInYear=function(){return Fe(this.year(),1,4)},sn.date=en,sn.day=sn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},sn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},sn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},sn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},sn.hour=sn.hours=Qe,sn.minute=sn.minutes=tn,sn.second=sn.seconds=rn,sn.millisecond=sn.milliseconds=an,sn.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Nt(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Ht(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Bt(this,Ut(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ht(this)},sn.utc=function(e){return this.utcOffset(0,e)},sn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m")),this},sn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},sn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60==0)},sn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},sn.isLocal=function(){return!!this.isValid()&&!this._isUTC},sn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},sn.isUtc=Lt,sn.isUTC=Lt,sn.zoneAbbr=function(){return this._isUTC?"UTC":""},sn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},sn.dates=I("dates accessor is deprecated. Use date instead.",en),sn.months=I("months accessor is deprecated. Use month instead",Me),sn.years=I("years accessor is deprecated. Use year instead",we),sn.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),sn.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(b(e,this),(e=_t(e))._a){var t=e._isUTC?p(e._a):St(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var cn=P.prototype;function un(e,t,n,r){var i=at(),o=p().set(r,t);return i[n](o,e)}function dn(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return un(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=un(e,r,n,"month");return i}function fn(e,t,n,r){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,o=at(),a=e?o._week.dow:0;if(null!=n)return un(t,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=un(t,(i+a)%7,r,"day");return s}cn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return M(r)?r.call(t,n):r},cn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},cn.invalidDate=function(){return this._invalidDate},cn.ordinal=function(e){return this._ordinal.replace("%d",e)},cn.preparse=ln,cn.postformat=ln,cn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return M(i)?i(e,t,n,r):i.replace(/%d/i,e)},cn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return M(n)?n(t):n.replace(/%s/i,t)},cn.set=function(e){var t,n;for(n in e)M(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},cn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Te).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},cn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Te.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},cn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return Ce.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},cn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Ae.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Pe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},cn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Ae.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=De),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},cn.week=function(e){return je(e,this._week.dow,this._week.doy).week},cn.firstDayOfYear=function(){return this._week.doy},cn.firstDayOfWeek=function(){return this._week.dow},cn.weekdays=function(e,t){return e?o(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},cn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},cn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},cn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return $e.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},cn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Be),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},cn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},cn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ye),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},cn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},cn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},it("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===k(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=I("moment.lang is deprecated. Use moment.locale instead.",it),i.langData=I("moment.langData is deprecated. Use moment.localeData instead.",at);var pn=Math.abs;function hn(e,t,n,r){var i=Ut(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function mn(e){return e<0?Math.floor(e):Math.ceil(e)}function gn(e){return 4800*e/146097}function vn(e){return 146097*e/4800}function bn(e){return function(){return this.as(e)}}var yn=bn("ms"),wn=bn("s"),xn=bn("m"),_n=bn("h"),kn=bn("d"),Sn=bn("w"),Tn=bn("M"),In=bn("y");function En(e){return function(){return this.isValid()?this._data[e]:NaN}}var Cn=En("milliseconds"),On=En("seconds"),Mn=En("minutes"),Dn=En("hours"),Pn=En("days"),An=En("months"),Nn=En("years");var Rn=Math.round,Hn={ss:44,s:45,m:45,h:22,d:26,M:11};function Ln(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var jn=Math.abs;function Fn(e){return(e>0)-(e<0)||+e}function Un(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=jn(this._milliseconds)/1e3,r=jn(this._days),i=jn(this._months);e=_(n/60),t=_(e/60),n%=60,e%=60;var o=_(i/12),a=i%=12,s=r,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=Fn(this._months)!==Fn(d)?"-":"",h=Fn(this._days)!==Fn(d)?"-":"",m=Fn(this._milliseconds)!==Fn(d)?"-":"";return f+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?h+s+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var Vn=Ot.prototype;return Vn.isValid=function(){return this._isValid},Vn.abs=function(){var e=this._data;return this._milliseconds=pn(this._milliseconds),this._days=pn(this._days),this._months=pn(this._months),e.milliseconds=pn(e.milliseconds),e.seconds=pn(e.seconds),e.minutes=pn(e.minutes),e.hours=pn(e.hours),e.months=pn(e.months),e.years=pn(e.years),this},Vn.add=function(e,t){return hn(this,e,t,1)},Vn.subtract=function(e,t){return hn(this,e,t,-1)},Vn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=R(e))||"year"===e)return t=this._days+r/864e5,n=this._months+gn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(vn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Vn.asMilliseconds=yn,Vn.asSeconds=wn,Vn.asMinutes=xn,Vn.asHours=_n,Vn.asDays=kn,Vn.asWeeks=Sn,Vn.asMonths=Tn,Vn.asYears=In,Vn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN},Vn._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*mn(vn(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=_(o/1e3),l.seconds=e%60,t=_(e/60),l.minutes=t%60,n=_(t/60),l.hours=n%24,a+=_(n/24),s+=i=_(gn(a)),a-=mn(vn(i)),r=_(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},Vn.clone=function(){return Ut(this)},Vn.get=function(e){return e=R(e),this.isValid()?this[e+"s"]():NaN},Vn.milliseconds=Cn,Vn.seconds=On,Vn.minutes=Mn,Vn.hours=Dn,Vn.days=Pn,Vn.weeks=function(){return _(this.days()/7)},Vn.months=An,Vn.years=Nn,Vn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Ut(e).abs(),i=Rn(r.as("s")),o=Rn(r.as("m")),a=Rn(r.as("h")),s=Rn(r.as("d")),l=Rn(r.as("M")),c=Rn(r.as("y")),u=i<=Hn.ss&&["s",i]||i<Hn.s&&["ss",i]||o<=1&&["m"]||o<Hn.m&&["mm",o]||a<=1&&["h"]||a<Hn.h&&["hh",a]||s<=1&&["d"]||s<Hn.d&&["dd",s]||l<=1&&["M"]||l<Hn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,Ln.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Vn.toISOString=Un,Vn.toString=Un,Vn.toJSON=Un,Vn.locale=Gt,Vn.localeData=Jt,Vn.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Un),Vn.lang=Kt,B("X",0,0,"unix"),B("x",0,0,"valueOf"),ue("x",oe),ue("X",/[+-]?\d+(\.\d{1,3})?/),he("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),he("x",(function(e,t,n){n._d=new Date(k(e))})),i.version="2.22.2",n=St,i.fn=sn,i.min=function(){var e=[].slice.call(arguments,0);return Et("isBefore",e)},i.max=function(){var e=[].slice.call(arguments,0);return Et("isAfter",e)},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(e){return St(1e3*e)},i.months=function(e,t){return dn(e,t,"months")},i.isDate=c,i.locale=it,i.invalid=g,i.duration=Ut,i.isMoment=x,i.weekdays=function(e,t,n){return fn(e,t,n,"weekdays")},i.parseZone=function(){return St.apply(null,arguments).parseZone()},i.localeData=at,i.isDuration=Mt,i.monthsShort=function(e,t){return dn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return fn(e,t,n,"weekdaysMin")},i.defineLocale=ot,i.updateLocale=function(e,t){if(null!=t){var n,r,i=Ze;null!=(r=rt(e))&&(i=r._config),(n=new P(t=D(i,t))).parentLocale=et[e],et[e]=n,it(e)}else null!=et[e]&&(null!=et[e].parentLocale?et[e]=et[e].parentLocale:null!=et[e]&&delete et[e]);return et[e]},i.locales=function(){return E(et)},i.weekdaysShort=function(e,t,n){return fn(e,t,n,"weekdaysShort")},i.normalizeUnits=R,i.relativeTimeRounding=function(e){return void 0===e?Rn:"function"==typeof e&&(Rn=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Hn[e]&&(void 0===t?Hn[e]:(Hn[e]=t,"s"===e&&(Hn.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=sn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},i}))},{}],24:[function(e,t,n){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},{}],25:[function(e,t,n){(function(e){(function(){(function(){var n,r,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*e.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this)}).call(this,e("_process"))},{_process:27}],26:[function(e,t,n){var r=null,i=["Webkit","Moz","O","ms"];t.exports=function(e){r||(r=document.createElement("div"));var t=r.style;if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),o=i.length;o>=0;o--){var a=i[o]+n;if(a in t)return a}return!1}},{}],27:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,u=[],d=!1,f=-1;function p(){d&&c&&(d=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!d){var e=l(p);d=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||d||l(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],28:[function(e,t,n){"use strict";function r(e,t,n,r,i){}r.resetWarningCache=function(){0},t.exports=r},{"./lib/ReactPropTypesSecret":32}],29:[function(e,t,n){"use strict";var r=e("./lib/ReactPropTypesSecret");function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},{"./lib/ReactPropTypesSecret":32}],30:[function(e,t,n){"use strict";var r=e("react-is"),i=e("object-assign"),o=e("./lib/ReactPropTypesSecret"),a=e("./checkPropTypes"),s=Function.call.bind(Object.prototype.hasOwnProperty),l=function(){};function c(){return null}t.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator;var u="<<anonymous>>",d={array:m("array"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:h(c),arrayOf:function(e){return h((function(t,n,r,i,a){if("function"!=typeof e)return new p("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new p("Invalid "+i+" `"+a+"` of type `"+v(s)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<s.length;l++){var c=e(s,l,r,i,a+"["+l+"]",o);if(c instanceof Error)return c}return null}))},element:h((function(t,n,r,i,o){var a=t[n];return e(a)?null:new p("Invalid "+i+" `"+o+"` of type `"+v(a)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:h((function(e,t,n,i,o){var a=e[t];return r.isValidElementType(a)?null:new p("Invalid "+i+" `"+o+"` of type `"+v(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return h((function(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||u;return new p("Invalid "+i+" `"+o+"` of type `"+(((s=t[n]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `")+r+"`, expected instance of `"+a+"`.")}var s;return null}))},node:h((function(e,t,n,r,i){return g(e[t])?null:new p("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return h((function(t,n,r,i,a){if("function"!=typeof e)return new p("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var l=t[n],c=v(l);if("object"!==c)return new p("Invalid "+i+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var u in l)if(s(l,u)){var d=e(l,u,r,i,a+"."+u,o);if(d instanceof Error)return d}return null}))},oneOf:function(e){if(!Array.isArray(e))return c;function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(f(a,e[s]))return null;var l=JSON.stringify(e,(function(e,t){return"symbol"===b(t)?String(t):t}));return new p("Invalid "+i+" `"+o+"` of value `"+String(a)+"` supplied to `"+r+"`, expected one of "+l+".")}return h(t)},oneOfType:function(e){if(!Array.isArray(e))return c;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return l("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+y(n)+" at index "+t+"."),c}return h((function(t,n,r,i,a){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,i,a,o))return null;return new p("Invalid "+i+" `"+a+"` supplied to `"+r+"`.")}))},shape:function(e){return h((function(t,n,r,i,a){var s=t[n],l=v(s);if("object"!==l)return new p("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var u=e[c];if(u){var d=u(s,c,r,i,a+"."+c,o);if(d)return d}}return null}))},exact:function(e){return h((function(t,n,r,a,s){var l=t[n],c=v(l);if("object"!==c)return new p("Invalid "+a+" `"+s+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var u=i({},t[n],e);for(var d in u){var f=e[d];if(!f)return new p("Invalid "+a+" `"+s+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=f(l,d,r,a,s+"."+d,o);if(h)return h}return null}))}};function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){this.message=e,this.stack=""}function h(e){function n(n,r,i,a,s,l,c){if((a=a||u,l=l||i,c!==o)&&t){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}return null==r[i]?n?null===r[i]?new p("The "+s+" `"+l+"` is marked as required in `"+a+"`, but its value is `null`."):new p("The "+s+" `"+l+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(r,i,a,s,l)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function m(e){return h((function(t,n,r,i,o,a){var s=t[n];return v(s)!==e?new p("Invalid "+i+" `"+o+"` of type `"+b(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function g(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(g);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!g(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!g(a[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function b(e){if(null==e)return""+e;var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){var t=b(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,d.checkPropTypes=a,d.resetWarningCache=a.resetWarningCache,d.PropTypes=d,d}},{"./checkPropTypes":28,"./lib/ReactPropTypesSecret":32,"object-assign":24,"react-is":364}],31:[function(e,t,n){t.exports=e("./factoryWithThrowingShims")()},{"./factoryWithThrowingShims":29,"./factoryWithTypeCheckers":30,"react-is":364}],32:[function(e,t,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],33:[function(e,t,n){(function(n){(function(){for(var r=e("performance-now"),i="undefined"==typeof window?n:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],l=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],l=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!l){var u=0,d=0,f=[];s=function(e){if(0===f.length){var t=r(),n=Math.max(0,16.666666666666668-(t-u));u=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}t.exports=function(e){return s.call(i,e)},t.exports.cancel=function(){l.apply(i,arguments)},t.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":25}],34:[function(e,t,n){var r=e("./always")(!1);t.exports=r},{"./always":42}],35:[function(e,t,n){var r=e("./always")(!0);t.exports=r},{"./always":42}],36:[function(e,t,n){t.exports={"@@functional/placeholder":!0}},{}],37:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return Number(e)+Number(t)}));t.exports=r},{"./internal/_curry2":139}],38:[function(e,t,n){var r=e("./internal/_concat"),i=e("./internal/_curry1"),o=e("./curryN"),a=i((function(e){return o(e.length,(function(){var t=0,n=arguments[0],i=arguments[arguments.length-1],o=Array.prototype.slice.call(arguments,0);return o[0]=function(){var e=n.apply(this,r(arguments,[t,i]));return t+=1,e},e.apply(this,o)}))}));t.exports=a},{"./curryN":75,"./internal/_concat":134,"./internal/_curry1":138}],39:[function(e,t,n){var r=e("./internal/_concat"),i=e("./internal/_curry3")((function(e,t,n){if(t>=n.length||t<-n.length)return n;var i=(t<0?n.length:0)+t,o=r(n);return o[i]=e(n[i]),o}));t.exports=i},{"./internal/_concat":134,"./internal/_curry3":140}],40:[function(e,t,n){var r=e("./internal/_curry2")(e("./internal/_dispatchable")(["all"],e("./internal/_xall"),(function(e,t){for(var n=0;n<t.length;){if(!e(t[n]))return!1;n+=1}return!0})));t.exports=r},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xall":176}],41:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./curryN"),o=e("./max"),a=e("./pluck"),s=e("./reduce"),l=r((function(e){return i(s(o,0,a("length",e)),(function(){for(var t=0,n=e.length;t<n;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0}))}));t.exports=l},{"./curryN":75,"./internal/_curry1":138,"./max":227,"./pluck":272,"./reduce":283}],42:[function(e,t,n){var r=e("./internal/_curry1")((function(e){return function(){return e}}));t.exports=r},{"./internal/_curry1":138}],43:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e&&t}));t.exports=r},{"./internal/_curry2":139}],44:[function(e,t,n){var r=e("./internal/_curry2")(e("./internal/_dispatchable")(["any"],e("./internal/_xany"),(function(e,t){for(var n=0;n<t.length;){if(e(t[n]))return!0;n+=1}return!1})));t.exports=r},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xany":177}],45:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./curryN"),o=e("./max"),a=e("./pluck"),s=e("./reduce"),l=r((function(e){return i(s(o,0,a("length",e)),(function(){for(var t=0,n=e.length;t<n;){if(e[t].apply(this,arguments))return!0;t+=1}return!1}))}));t.exports=l},{"./curryN":75,"./internal/_curry1":138,"./max":227,"./pluck":272,"./reduce":283}],46:[function(e,t,n){var r=e("./internal/_concat"),i=e("./internal/_curry2"),o=e("./internal/_reduce"),a=e("./map"),s=i((function(e,t){return"function"==typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"==typeof e.ap?e.ap(t):"function"==typeof e?function(n){return e(n)(t(n))}:o((function(e,n){return r(e,a(n,t))}),[],e)}));t.exports=s},{"./internal/_concat":134,"./internal/_curry2":139,"./internal/_reduce":171,"./map":221}],47:[function(e,t,n){var r=e("./internal/_aperture"),i=e("./internal/_curry2")(e("./internal/_dispatchable")([],e("./internal/_xaperture"),r));t.exports=i},{"./internal/_aperture":126,"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xaperture":178}],48:[function(e,t,n){var r=e("./internal/_concat"),i=e("./internal/_curry2")((function(e,t){return r(t,[e])}));t.exports=i},{"./internal/_concat":134,"./internal/_curry2":139}],49:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e.apply(this,t)}));t.exports=r},{"./internal/_curry2":139}],50:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./apply"),o=e("./curryN"),a=e("./map"),s=e("./max"),l=e("./pluck"),c=e("./reduce"),u=e("./values"),d=r((function e(t){return t=a((function(t){return"function"==typeof t?t:e(t)}),t),o(c(s,0,l("length",u(t))),(function(){var e=arguments;return a((function(t){return i(t,e)}),t)}))}));t.exports=d},{"./apply":49,"./curryN":75,"./internal/_curry1":138,"./map":221,"./max":227,"./pluck":272,"./reduce":283,"./values":342}],51:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return t(e)}));t.exports=r},{"./internal/_curry2":139}],52:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0}));t.exports=r},{"./internal/_curry3":140}],53:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){var r={};for(var i in n)r[i]=n[i];return r[e]=t,r}));t.exports=r},{"./internal/_curry3":140}],54:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./internal/_has"),o=e("./internal/_isArray"),a=e("./internal/_isInteger"),s=e("./assoc"),l=e("./isNil"),c=r((function e(t,n,r){if(0===t.length)return n;var c=t[0];if(t.length>1){var u=!l(r)&&i(c,r)?r[c]:a(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,u)}if(a(c)&&o(r)){var d=[].concat(r);return d[c]=n,d}return s(c,n,r)}));t.exports=c},{"./assoc":53,"./internal/_curry3":140,"./internal/_has":150,"./internal/_isArray":154,"./internal/_isInteger":157,"./isNil":205}],55:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./nAry"),o=r((function(e){return i(2,e)}));t.exports=o},{"./internal/_curry1":138,"./nAry":245}],56:[function(e,t,n){var r=e("./internal/_arity"),i=e("./internal/_curry2")((function(e,t){return r(e.length,(function(){return e.apply(t,arguments)}))}));t.exports=i},{"./internal/_arity":127,"./internal/_curry2":139}],57:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_isFunction"),o=e("./and"),a=e("./lift"),s=r((function(e,t){return i(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:a(o)(e,t)}));t.exports=s},{"./and":43,"./internal/_curry2":139,"./internal/_isFunction":156,"./lift":217}],58:[function(e,t,n){var r=e("./curry")((function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))}));t.exports=r},{"./curry":74}],59:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_dispatchable"),o=e("./internal/_makeFlat"),a=e("./internal/_xchain"),s=e("./map"),l=r(i(["fantasy-land/chain","chain"],a,(function(e,t){return"function"==typeof t?function(n){return e(t(n))(n)}:o(!1)(s(e,t))})));t.exports=l},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_makeFlat":164,"./internal/_xchain":179,"./map":221}],60:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<e?e:n>t?t:n}));t.exports=r},{"./internal/_curry3":140}],61:[function(e,t,n){var r=e("./internal/_clone"),i=e("./internal/_curry1")((function(e){return null!=e&&"function"==typeof e.clone?e.clone():r(e,[],[],!0)}));t.exports=i},{"./internal/_clone":131,"./internal/_curry1":138}],62:[function(e,t,n){var r=e("./internal/_curry1")((function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}}));t.exports=r},{"./internal/_curry1":138}],63:[function(e,t,n){var r=e("./lift")(e("./not"));t.exports=r},{"./lift":217,"./not":248}],64:[function(e,t,n){var r=e("./pipe"),i=e("./reverse");t.exports=function(){if(0===arguments.length)throw new Error("compose requires at least one argument");return r.apply(this,i(arguments))}},{"./pipe":269,"./reverse":292}],65:[function(e,t,n){var r=e("./chain"),i=e("./compose"),o=e("./map");t.exports=function(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var e=Array.prototype.slice.call(arguments),t=e.pop();return i(i.apply(this,o(r,e)),t)}},{"./chain":59,"./compose":64,"./map":221}],66:[function(e,t,n){var r=e("./pipeP"),i=e("./reverse");t.exports=function(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return r.apply(this,i(arguments))}},{"./pipeP":271,"./reverse":292}],67:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_isArray"),o=e("./internal/_isFunction"),a=e("./internal/_isString"),s=e("./toString"),l=r((function(e,t){if(i(e)){if(i(t))return e.concat(t);throw new TypeError(s(t)+" is not an array")}if(a(e)){if(a(t))return e+t;throw new TypeError(s(t)+" is not a string")}if(null!=e&&o(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&o(e.concat))return e.concat(t);throw new TypeError(s(e)+' does not have a method named "concat" or "fantasy-land/concat"')}));t.exports=l},{"./internal/_curry2":139,"./internal/_isArray":154,"./internal/_isFunction":156,"./internal/_isString":162,"./toString":320}],68:[function(e,t,n){var r=e("./internal/_arity"),i=e("./internal/_curry1"),o=e("./map"),a=e("./max"),s=e("./reduce"),l=i((function(e){var t=s(a,0,o((function(e){return e[0].length}),e));return r(t,(function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}}))}));t.exports=l},{"./internal/_arity":127,"./internal/_curry1":138,"./map":221,"./max":227,"./reduce":283}],69:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./constructN"),o=r((function(e){return i(e.length,e)}));t.exports=o},{"./constructN":70,"./internal/_curry1":138}],70:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./curry"),o=e("./nAry"),a=r((function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return 0===e?function(){return new t}:i(o(e,(function(e,n,r,i,o,a,s,l,c,u){switch(arguments.length){case 1:return new t(e);case 2:return new t(e,n);case 3:return new t(e,n,r);case 4:return new t(e,n,r,i);case 5:return new t(e,n,r,i,o);case 6:return new t(e,n,r,i,o,a);case 7:return new t(e,n,r,i,o,a,s);case 8:return new t(e,n,r,i,o,a,s,l);case 9:return new t(e,n,r,i,o,a,s,l,c);case 10:return new t(e,n,r,i,o,a,s,l,c,u)}})))}));t.exports=a},{"./curry":74,"./internal/_curry2":139,"./nAry":245}],71:[function(e,t,n){var r=e("./internal/_contains"),i=e("./internal/_curry2")(r);t.exports=i},{"./internal/_contains":135,"./internal/_curry2":139}],72:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_map"),o=e("./curryN"),a=e("./max"),s=e("./pluck"),l=e("./reduce"),c=r((function(e,t){return o(l(a,0,s("length",t)),(function(){var n=arguments,r=this;return e.apply(r,i((function(e){return e.apply(r,n)}),t))}))}));t.exports=c},{"./curryN":75,"./internal/_curry2":139,"./internal/_map":165,"./max":227,"./pluck":272,"./reduce":283}],73:[function(e,t,n){var r=e("./reduceBy")((function(e,t){return e+1}),0);t.exports=r},{"./reduceBy":284}],74:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./curryN"),o=r((function(e){return i(e.length,e)}));t.exports=o},{"./curryN":75,"./internal/_curry1":138}],75:[function(e,t,n){var r=e("./internal/_arity"),i=e("./internal/_curry1"),o=e("./internal/_curry2"),a=e("./internal/_curryN"),s=o((function(e,t){return 1===e?i(t):r(e,a(e,[],t))}));t.exports=s},{"./internal/_arity":127,"./internal/_curry1":138,"./internal/_curry2":139,"./internal/_curryN":141}],76:[function(e,t,n){var r=e("./add")(-1);t.exports=r},{"./add":37}],77:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return null==t||t!=t?e:t}));t.exports=r},{"./internal/_curry2":139}],78:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){var r=e(t),i=e(n);return r>i?-1:r<i?1:0}));t.exports=r},{"./internal/_curry3":140}],79:[function(e,t,n){var r=e("./internal/_contains"),i=e("./internal/_curry2")((function(e,t){for(var n=[],i=0,o=e.length;i<o;)r(e[i],t)||r(e[i],n)||(n[n.length]=e[i]),i+=1;return n}));t.exports=i},{"./internal/_contains":135,"./internal/_curry2":139}],80:[function(e,t,n){var r=e("./internal/_containsWith"),i=e("./internal/_curry3")((function(e,t,n){for(var i=[],o=0,a=t.length;o<a;)r(e,t[o],n)||r(e,t[o],i)||i.push(t[o]),o+=1;return i}));t.exports=i},{"./internal/_containsWith":136,"./internal/_curry3":140}],81:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){var n={};for(var r in t)n[r]=t[r];return delete n[e],n}));t.exports=r},{"./internal/_curry2":139}],82:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_isInteger"),o=e("./assoc"),a=e("./dissoc"),s=e("./remove"),l=e("./update"),c=r((function e(t,n){switch(t.length){case 0:return n;case 1:return i(t[0])?s(t[0],1,n):a(t[0],n);default:var r=t[0],c=Array.prototype.slice.call(t,1);return null==n[r]?n:i(t[0])?l(r,e(c,n[r]),n):o(r,e(c,n[r]),n)}}));t.exports=c},{"./assoc":53,"./dissoc":81,"./internal/_curry2":139,"./internal/_isInteger":157,"./remove":289,"./update":340}],83:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e/t}));t.exports=r},{"./internal/_curry2":139}],84:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_dispatchable"),o=e("./internal/_xdrop"),a=e("./slice"),s=r(i(["drop"],o,(function(e,t){return a(Math.max(0,e),1/0,t)})));t.exports=s},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xdrop":180,"./slice":296}],85:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_dispatchable"),o=e("./internal/_dropLast"),a=r(i([],e("./internal/_xdropLast"),o));t.exports=a},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_dropLast":143,"./internal/_xdropLast":181}],86:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_dispatchable"),o=e("./internal/_dropLastWhile"),a=r(i([],e("./internal/_xdropLastWhile"),o));t.exports=a},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_dropLastWhile":144,"./internal/_xdropLastWhile":182}],87:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./internal/_dispatchable"),o=e("./internal/_xdropRepeatsWith"),a=e("./dropRepeatsWith"),s=e("./equals"),l=r(i([],o(s),a(s)));t.exports=l},{"./dropRepeatsWith":88,"./equals":95,"./internal/_curry1":138,"./internal/_dispatchable":142,"./internal/_xdropRepeatsWith":183}],88:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_dispatchable"),o=e("./internal/_xdropRepeatsWith"),a=e("./last"),s=r(i([],o,(function(e,t){var n=[],r=1,i=t.length;if(0!==i)for(n[0]=t[0];r<i;)e(a(n),t[r])||(n[n.length]=t[r]),r+=1;return n})));t.exports=s},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xdropRepeatsWith":183,"./last":210}],89:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_dispatchable"),o=e("./internal/_xdropWhile"),a=e("./slice"),s=r(i(["dropWhile"],o,(function(e,t){for(var n=0,r=t.length;n<r&&e(t[n]);)n+=1;return a(n,1/0,t)})));t.exports=s},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xdropWhile":184,"./slice":296}],90:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_isFunction"),o=e("./lift"),a=e("./or"),s=r((function(e,t){return i(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:o(a)(e,t)}));t.exports=s},{"./internal/_curry2":139,"./internal/_isFunction":156,"./lift":217,"./or":256}],91:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./internal/_isArguments"),o=e("./internal/_isArray"),a=e("./internal/_isObject"),s=e("./internal/_isString"),l=r((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():o(e)?[]:s(e)?"":a(e)?{}:i(e)?function(){return arguments}():void 0}));t.exports=l},{"./internal/_curry1":138,"./internal/_isArguments":153,"./internal/_isArray":154,"./internal/_isObject":159,"./internal/_isString":162}],92:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./equals"),o=e("./takeLast"),a=r((function(e,t){return i(o(e.length,t),e)}));t.exports=a},{"./equals":95,"./internal/_curry2":139,"./takeLast":311}],93:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./equals"),o=r((function(e,t,n){return i(e(t),e(n))}));t.exports=o},{"./equals":95,"./internal/_curry3":140}],94:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./equals"),o=r((function(e,t,n){return i(t[e],n[e])}));t.exports=o},{"./equals":95,"./internal/_curry3":140}],95:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_equals"),o=r((function(e,t){return i(e,t,[],[])}));t.exports=o},{"./internal/_curry2":139,"./internal/_equals":145}],96:[function(e,t,n){var r=e("./internal/_curry2")((function e(t,n){var r,i,o,a={};for(i in n)o=typeof(r=t[i]),a[i]="function"===o?r(n[i]):r&&"object"===o?e(r,n[i]):n[i];return a}));t.exports=r},{"./internal/_curry2":139}],97:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_dispatchable"),o=e("./internal/_filter"),a=e("./internal/_isObject"),s=e("./internal/_reduce"),l=e("./internal/_xfilter"),c=e("./keys"),u=r(i(["filter"],l,(function(e,t){return a(t)?s((function(n,r){return e(t[r])&&(n[r]=t[r]),n}),{},c(t)):o(e,t)})));t.exports=u},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_filter":146,"./internal/_isObject":159,"./internal/_reduce":171,"./internal/_xfilter":186,"./keys":208}],98:[function(e,t,n){var r=e("./internal/_curry2")(e("./internal/_dispatchable")(["find"],e("./internal/_xfind"),(function(e,t){for(var n=0,r=t.length;n<r;){if(e(t[n]))return t[n];n+=1}})));t.exports=r},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xfind":187}],99:[function(e,t,n){var r=e("./internal/_curry2")(e("./internal/_dispatchable")([],e("./internal/_xfindIndex"),(function(e,t){for(var n=0,r=t.length;n<r;){if(e(t[n]))return n;n+=1}return-1})));t.exports=r},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xfindIndex":188}],100:[function(e,t,n){var r=e("./internal/_curry2")(e("./internal/_dispatchable")([],e("./internal/_xfindLast"),(function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return t[n];n-=1}})));t.exports=r},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xfindLast":189}],101:[function(e,t,n){var r=e("./internal/_curry2")(e("./internal/_dispatchable")([],e("./internal/_xfindLastIndex"),(function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return n;n-=1}return-1})));t.exports=r},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xfindLastIndex":190}],102:[function(e,t,n){var r=e("./internal/_curry1")(e("./internal/_makeFlat")(!0));t.exports=r},{"./internal/_curry1":138,"./internal/_makeFlat":164}],103:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./curryN"),o=r((function(e){return i(e.length,(function(t,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=t,e.apply(this,r)}))}));t.exports=o},{"./curryN":75,"./internal/_curry1":138}],104:[function(e,t,n){var r=e("./internal/_checkForMethod"),i=e("./internal/_curry2")(r("forEach",(function(e,t){for(var n=t.length,r=0;r<n;)e(t[r]),r+=1;return t})));t.exports=i},{"./internal/_checkForMethod":130,"./internal/_curry2":139}],105:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./keys"),o=r((function(e,t){for(var n=i(t),r=0;r<n.length;){var o=n[r];e(t[o],o,t),r+=1}return t}));t.exports=o},{"./internal/_curry2":139,"./keys":208}],106:[function(e,t,n){var r=e("./internal/_curry1")((function(e){for(var t={},n=0;n<e.length;)t[e[n][0]]=e[n][1],n+=1;return t}));t.exports=r},{"./internal/_curry1":138}],107:[function(e,t,n){var r=e("./internal/_checkForMethod"),i=e("./internal/_curry2")(r("groupBy",e("./reduceBy")((function(e,t){return null==e&&(e=[]),e.push(t),e}),null)));t.exports=i},{"./internal/_checkForMethod":130,"./internal/_curry2":139,"./reduceBy":284}],108:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){for(var n=[],r=0,i=t.length;r<i;){for(var o=r+1;o<i&&e(t[o-1],t[o]);)o+=1;n.push(t.slice(r,o)),r=o}return n}));t.exports=r},{"./internal/_curry2":139}],109:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e>t}));t.exports=r},{"./internal/_curry2":139}],110:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e>=t}));t.exports=r},{"./internal/_curry2":139}],111:[function(e,t,n){var r=e("./internal/_curry2")(e("./internal/_has"));t.exports=r},{"./internal/_curry2":139,"./internal/_has":150}],112:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e in t}));t.exports=r},{"./internal/_curry2":139}],113:[function(e,t,n){var r=e("./nth")(0);t.exports=r},{"./nth":249}],114:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}));t.exports=r},{"./internal/_curry2":139}],115:[function(e,t,n){var r=e("./internal/_curry1")(e("./internal/_identity"));t.exports=r},{"./internal/_curry1":138,"./internal/_identity":151}],116:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./curryN"),o=r((function(e,t,n){return i(Math.max(e.length,t.length,n.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}))}));t.exports=o},{"./curryN":75,"./internal/_curry3":140}],117:[function(e,t,n){var r=e("./add")(1);t.exports=r},{"./add":37}],118:[function(e,t,n){t.exports={},t.exports.F=e("./F"),t.exports.T=e("./T"),t.exports.__=e("./__"),t.exports.add=e("./add"),t.exports.addIndex=e("./addIndex"),t.exports.adjust=e("./adjust"),t.exports.all=e("./all"),t.exports.allPass=e("./allPass"),t.exports.always=e("./always"),t.exports.and=e("./and"),t.exports.any=e("./any"),t.exports.anyPass=e("./anyPass"),t.exports.ap=e("./ap"),t.exports.aperture=e("./aperture"),t.exports.append=e("./append"),t.exports.apply=e("./apply"),t.exports.applySpec=e("./applySpec"),t.exports.applyTo=e("./applyTo"),t.exports.ascend=e("./ascend"),t.exports.assoc=e("./assoc"),t.exports.assocPath=e("./assocPath"),t.exports.binary=e("./binary"),t.exports.bind=e("./bind"),t.exports.both=e("./both"),t.exports.call=e("./call"),t.exports.chain=e("./chain"),t.exports.clamp=e("./clamp"),t.exports.clone=e("./clone"),t.exports.comparator=e("./comparator"),t.exports.complement=e("./complement"),t.exports.compose=e("./compose"),t.exports.composeK=e("./composeK"),t.exports.composeP=e("./composeP"),t.exports.concat=e("./concat"),t.exports.cond=e("./cond"),t.exports.construct=e("./construct"),t.exports.constructN=e("./constructN"),t.exports.contains=e("./contains"),t.exports.converge=e("./converge"),t.exports.countBy=e("./countBy"),t.exports.curry=e("./curry"),t.exports.curryN=e("./curryN"),t.exports.dec=e("./dec"),t.exports.defaultTo=e("./defaultTo"),t.exports.descend=e("./descend"),t.exports.difference=e("./difference"),t.exports.differenceWith=e("./differenceWith"),t.exports.dissoc=e("./dissoc"),t.exports.dissocPath=e("./dissocPath"),t.exports.divide=e("./divide"),t.exports.drop=e("./drop"),t.exports.dropLast=e("./dropLast"),t.exports.dropLastWhile=e("./dropLastWhile"),t.exports.dropRepeats=e("./dropRepeats"),t.exports.dropRepeatsWith=e("./dropRepeatsWith"),t.exports.dropWhile=e("./dropWhile"),t.exports.either=e("./either"),t.exports.empty=e("./empty"),t.exports.endsWith=e("./endsWith"),t.exports.eqBy=e("./eqBy"),t.exports.eqProps=e("./eqProps"),t.exports.equals=e("./equals"),t.exports.evolve=e("./evolve"),t.exports.filter=e("./filter"),t.exports.find=e("./find"),t.exports.findIndex=e("./findIndex"),t.exports.findLast=e("./findLast"),t.exports.findLastIndex=e("./findLastIndex"),t.exports.flatten=e("./flatten"),t.exports.flip=e("./flip"),t.exports.forEach=e("./forEach"),t.exports.forEachObjIndexed=e("./forEachObjIndexed"),t.exports.fromPairs=e("./fromPairs"),t.exports.groupBy=e("./groupBy"),t.exports.groupWith=e("./groupWith"),t.exports.gt=e("./gt"),t.exports.gte=e("./gte"),t.exports.has=e("./has"),t.exports.hasIn=e("./hasIn"),t.exports.head=e("./head"),t.exports.identical=e("./identical"),t.exports.identity=e("./identity"),t.exports.ifElse=e("./ifElse"),t.exports.inc=e("./inc"),t.exports.indexBy=e("./indexBy"),t.exports.indexOf=e("./indexOf"),t.exports.init=e("./init"),t.exports.innerJoin=e("./innerJoin"),t.exports.insert=e("./insert"),t.exports.insertAll=e("./insertAll"),t.exports.intersection=e("./intersection"),t.exports.intersperse=e("./intersperse"),t.exports.into=e("./into"),t.exports.invert=e("./invert"),t.exports.invertObj=e("./invertObj"),t.exports.invoker=e("./invoker"),t.exports.is=e("./is"),t.exports.isEmpty=e("./isEmpty"),t.exports.isNil=e("./isNil"),t.exports.join=e("./join"),t.exports.juxt=e("./juxt"),t.exports.keys=e("./keys"),t.exports.keysIn=e("./keysIn"),t.exports.last=e("./last"),t.exports.lastIndexOf=e("./lastIndexOf"),t.exports.length=e("./length"),t.exports.lens=e("./lens"),t.exports.lensIndex=e("./lensIndex"),t.exports.lensPath=e("./lensPath"),t.exports.lensProp=e("./lensProp"),t.exports.lift=e("./lift"),t.exports.liftN=e("./liftN"),t.exports.lt=e("./lt"),t.exports.lte=e("./lte"),t.exports.map=e("./map"),t.exports.mapAccum=e("./mapAccum"),t.exports.mapAccumRight=e("./mapAccumRight"),t.exports.mapObjIndexed=e("./mapObjIndexed"),t.exports.match=e("./match"),t.exports.mathMod=e("./mathMod"),t.exports.max=e("./max"),t.exports.maxBy=e("./maxBy"),t.exports.mean=e("./mean"),t.exports.median=e("./median"),t.exports.memoize=e("./memoize"),t.exports.memoizeWith=e("./memoizeWith"),t.exports.merge=e("./merge"),t.exports.mergeAll=e("./mergeAll"),t.exports.mergeDeepLeft=e("./mergeDeepLeft"),t.exports.mergeDeepRight=e("./mergeDeepRight"),t.exports.mergeDeepWith=e("./mergeDeepWith"),t.exports.mergeDeepWithKey=e("./mergeDeepWithKey"),t.exports.mergeWith=e("./mergeWith"),t.exports.mergeWithKey=e("./mergeWithKey"),t.exports.min=e("./min"),t.exports.minBy=e("./minBy"),t.exports.modulo=e("./modulo"),t.exports.multiply=e("./multiply"),t.exports.nAry=e("./nAry"),t.exports.negate=e("./negate"),t.exports.none=e("./none"),t.exports.not=e("./not"),t.exports.nth=e("./nth"),t.exports.nthArg=e("./nthArg"),t.exports.o=e("./o"),t.exports.objOf=e("./objOf"),t.exports.of=e("./of"),t.exports.omit=e("./omit"),t.exports.once=e("./once"),t.exports.or=e("./or"),t.exports.over=e("./over"),t.exports.pair=e("./pair"),t.exports.partial=e("./partial"),t.exports.partialRight=e("./partialRight"),t.exports.partition=e("./partition"),t.exports.path=e("./path"),t.exports.pathEq=e("./pathEq"),t.exports.pathOr=e("./pathOr"),t.exports.pathSatisfies=e("./pathSatisfies"),t.exports.pick=e("./pick"),t.exports.pickAll=e("./pickAll"),t.exports.pickBy=e("./pickBy"),t.exports.pipe=e("./pipe"),t.exports.pipeK=e("./pipeK"),t.exports.pipeP=e("./pipeP"),t.exports.pluck=e("./pluck"),t.exports.prepend=e("./prepend"),t.exports.product=e("./product"),t.exports.project=e("./project"),t.exports.prop=e("./prop"),t.exports.propEq=e("./propEq"),t.exports.propIs=e("./propIs"),t.exports.propOr=e("./propOr"),t.exports.propSatisfies=e("./propSatisfies"),t.exports.props=e("./props"),t.exports.range=e("./range"),t.exports.reduce=e("./reduce"),t.exports.reduceBy=e("./reduceBy"),t.exports.reduceRight=e("./reduceRight"),t.exports.reduceWhile=e("./reduceWhile"),t.exports.reduced=e("./reduced"),t.exports.reject=e("./reject"),t.exports.remove=e("./remove"),t.exports.repeat=e("./repeat"),t.exports.replace=e("./replace"),t.exports.reverse=e("./reverse"),t.exports.scan=e("./scan"),t.exports.sequence=e("./sequence"),t.exports.set=e("./set"),t.exports.slice=e("./slice"),t.exports.sort=e("./sort"),t.exports.sortBy=e("./sortBy"),t.exports.sortWith=e("./sortWith"),t.exports.split=e("./split"),t.exports.splitAt=e("./splitAt"),t.exports.splitEvery=e("./splitEvery"),t.exports.splitWhen=e("./splitWhen"),t.exports.startsWith=e("./startsWith"),t.exports.subtract=e("./subtract"),t.exports.sum=e("./sum"),t.exports.symmetricDifference=e("./symmetricDifference"),t.exports.symmetricDifferenceWith=e("./symmetricDifferenceWith"),t.exports.tail=e("./tail"),t.exports.take=e("./take"),t.exports.takeLast=e("./takeLast"),t.exports.takeLastWhile=e("./takeLastWhile"),t.exports.takeWhile=e("./takeWhile"),t.exports.tap=e("./tap"),t.exports.test=e("./test"),t.exports.times=e("./times"),t.exports.toLower=e("./toLower"),t.exports.toPairs=e("./toPairs"),t.exports.toPairsIn=e("./toPairsIn"),t.exports.toString=e("./toString"),t.exports.toUpper=e("./toUpper"),t.exports.transduce=e("./transduce"),t.exports.transpose=e("./transpose"),t.exports.traverse=e("./traverse"),t.exports.trim=e("./trim"),t.exports.tryCatch=e("./tryCatch"),t.exports.type=e("./type"),t.exports.unapply=e("./unapply"),t.exports.unary=e("./unary"),t.exports.uncurryN=e("./uncurryN"),t.exports.unfold=e("./unfold"),t.exports.union=e("./union"),t.exports.unionWith=e("./unionWith"),t.exports.uniq=e("./uniq"),t.exports.uniqBy=e("./uniqBy"),t.exports.uniqWith=e("./uniqWith"),t.exports.unless=e("./unless"),t.exports.unnest=e("./unnest"),t.exports.until=e("./until"),t.exports.update=e("./update"),t.exports.useWith=e("./useWith"),t.exports.values=e("./values"),t.exports.valuesIn=e("./valuesIn"),t.exports.view=e("./view"),t.exports.when=e("./when"),t.exports.where=e("./where"),t.exports.whereEq=e("./whereEq"),t.exports.without=e("./without"),t.exports.xprod=e("./xprod"),t.exports.zip=e("./zip"),t.exports.zipObj=e("./zipObj"),t.exports.zipWith=e("./zipWith")},{"./F":34,"./T":35,"./__":36,"./add":37,"./addIndex":38,"./adjust":39,"./all":40,"./allPass":41,"./always":42,"./and":43,"./any":44,"./anyPass":45,"./ap":46,"./aperture":47,"./append":48,"./apply":49,"./applySpec":50,"./applyTo":51,"./ascend":52,"./assoc":53,"./assocPath":54,"./binary":55,"./bind":56,"./both":57,"./call":58,"./chain":59,"./clamp":60,"./clone":61,"./comparator":62,"./complement":63,"./compose":64,"./composeK":65,"./composeP":66,"./concat":67,"./cond":68,"./construct":69,"./constructN":70,"./contains":71,"./converge":72,"./countBy":73,"./curry":74,"./curryN":75,"./dec":76,"./defaultTo":77,"./descend":78,"./difference":79,"./differenceWith":80,"./dissoc":81,"./dissocPath":82,"./divide":83,"./drop":84,"./dropLast":85,"./dropLastWhile":86,"./dropRepeats":87,"./dropRepeatsWith":88,"./dropWhile":89,"./either":90,"./empty":91,"./endsWith":92,"./eqBy":93,"./eqProps":94,"./equals":95,"./evolve":96,"./filter":97,"./find":98,"./findIndex":99,"./findLast":100,"./findLastIndex":101,"./flatten":102,"./flip":103,"./forEach":104,"./forEachObjIndexed":105,"./fromPairs":106,"./groupBy":107,"./groupWith":108,"./gt":109,"./gte":110,"./has":111,"./hasIn":112,"./head":113,"./identical":114,"./identity":115,"./ifElse":116,"./inc":117,"./indexBy":119,"./indexOf":120,"./init":121,"./innerJoin":122,"./insert":123,"./insertAll":124,"./intersection":197,"./intersperse":198,"./into":199,"./invert":200,"./invertObj":201,"./invoker":202,"./is":203,"./isEmpty":204,"./isNil":205,"./join":206,"./juxt":207,"./keys":208,"./keysIn":209,"./last":210,"./lastIndexOf":211,"./length":212,"./lens":213,"./lensIndex":214,"./lensPath":215,"./lensProp":216,"./lift":217,"./liftN":218,"./lt":219,"./lte":220,"./map":221,"./mapAccum":222,"./mapAccumRight":223,"./mapObjIndexed":224,"./match":225,"./mathMod":226,"./max":227,"./maxBy":228,"./mean":229,"./median":230,"./memoize":231,"./memoizeWith":232,"./merge":233,"./mergeAll":234,"./mergeDeepLeft":235,"./mergeDeepRight":236,"./mergeDeepWith":237,"./mergeDeepWithKey":238,"./mergeWith":239,"./mergeWithKey":240,"./min":241,"./minBy":242,"./modulo":243,"./multiply":244,"./nAry":245,"./negate":246,"./none":247,"./not":248,"./nth":249,"./nthArg":250,"./o":251,"./objOf":252,"./of":253,"./omit":254,"./once":255,"./or":256,"./over":257,"./pair":258,"./partial":259,"./partialRight":260,"./partition":261,"./path":262,"./pathEq":263,"./pathOr":264,"./pathSatisfies":265,"./pick":266,"./pickAll":267,"./pickBy":268,"./pipe":269,"./pipeK":270,"./pipeP":271,"./pluck":272,"./prepend":273,"./product":274,"./project":275,"./prop":276,"./propEq":277,"./propIs":278,"./propOr":279,"./propSatisfies":280,"./props":281,"./range":282,"./reduce":283,"./reduceBy":284,"./reduceRight":285,"./reduceWhile":286,"./reduced":287,"./reject":288,"./remove":289,"./repeat":290,"./replace":291,"./reverse":292,"./scan":293,"./sequence":294,"./set":295,"./slice":296,"./sort":297,"./sortBy":298,"./sortWith":299,"./split":300,"./splitAt":301,"./splitEvery":302,"./splitWhen":303,"./startsWith":304,"./subtract":305,"./sum":306,"./symmetricDifference":307,"./symmetricDifferenceWith":308,"./tail":309,"./take":310,"./takeLast":311,"./takeLastWhile":312,"./takeWhile":313,"./tap":314,"./test":315,"./times":316,"./toLower":317,"./toPairs":318,"./toPairsIn":319,"./toString":320,"./toUpper":321,"./transduce":322,"./transpose":323,"./traverse":324,"./trim":325,"./tryCatch":326,"./type":327,"./unapply":328,"./unary":329,"./uncurryN":330,"./unfold":331,"./union":332,"./unionWith":333,"./uniq":334,"./uniqBy":335,"./uniqWith":336,"./unless":337,"./unnest":338,"./until":339,"./update":340,"./useWith":341,"./values":342,"./valuesIn":343,"./view":344,"./when":345,"./where":346,"./whereEq":347,"./without":348,"./xprod":349,"./zip":350,"./zipObj":351,"./zipWith":352}],119:[function(e,t,n){var r=e("./reduceBy")((function(e,t){return t}),null);t.exports=r},{"./reduceBy":284}],120:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_indexOf"),o=e("./internal/_isArray"),a=r((function(e,t){return"function"!=typeof t.indexOf||o(t)?i(t,e,0):t.indexOf(e)}));t.exports=a},{"./internal/_curry2":139,"./internal/_indexOf":152,"./internal/_isArray":154}],121:[function(e,t,n){var r=e("./slice")(0,-1);t.exports=r},{"./slice":296}],122:[function(e,t,n){var r=e("./internal/_containsWith"),i=e("./internal/_curry3"),o=e("./internal/_filter"),a=i((function(e,t,n){return o((function(t){return r(e,t,n)}),t)}));t.exports=a},{"./internal/_containsWith":136,"./internal/_curry3":140,"./internal/_filter":146}],123:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){e=e<n.length&&e>=0?e:n.length;var r=Array.prototype.slice.call(n,0);return r.splice(e,0,t),r}));t.exports=r},{"./internal/_curry3":140}],124:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){return e=e<n.length&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),t,Array.prototype.slice.call(n,e))}));t.exports=r},{"./internal/_curry3":140}],125:[function(e,t,n){var r=e("./_contains"),i=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!o(e,!0,this)},e.prototype.has=function(e){return o(e,!1,this)},e}();function o(e,t,n){var i,o=typeof e;switch(o){case"string":case"number":return 0===e&&1/e==-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(i=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===i):n._nativeSet.has(e):o in n._items?e in n._items[o]||(t&&(n._items[o][e]=!0),!1):(t&&(n._items[o]={},n._items[o][e]=!0),!1);case"boolean":if(o in n._items){var a=e?1:0;return!!n._items[o][a]||(t&&(n._items[o][a]=!0),!1)}return t&&(n._items[o]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(i=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===i):n._nativeSet.has(e):o in n._items?!!r(e,n._items[o])||(t&&n._items[o].push(e),!1):(t&&(n._items[o]=[e]),!1);case"undefined":return!!n._items[o]||(t&&(n._items[o]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(o=Object.prototype.toString.call(e))in n._items?!!r(e,n._items[o])||(t&&n._items[o].push(e),!1):(t&&(n._items[o]=[e]),!1)}}t.exports=i},{"./_contains":135}],126:[function(e,t,n){t.exports=function(e,t){for(var n=0,r=t.length-(e-1),i=new Array(r>=0?r:0);n<r;)i[n]=Array.prototype.slice.call(t,n,n+e),n+=1;return i}},{}],127:[function(e,t,n){t.exports=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,a){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,a,s){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,a,s,l){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,a,s,l,c){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,a,s,l,c,u){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},{}],128:[function(e,t,n){t.exports=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}},{}],129:[function(e,t,n){var r=e("./_objectAssign");t.exports="function"==typeof Object.assign?Object.assign:r},{"./_objectAssign":166}],130:[function(e,t,n){var r=e("./_isArray");t.exports=function(e,t){return function(){var n=arguments.length;if(0===n)return t();var i=arguments[n-1];return r(i)||"function"!=typeof i[e]?t.apply(this,arguments):i[e].apply(i,Array.prototype.slice.call(arguments,0,n-1))}}},{"./_isArray":154}],131:[function(e,t,n){var r=e("./_cloneRegExp"),i=e("../type");t.exports=function e(t,n,o,a){var s=function(r){for(var i=n.length,s=0;s<i;){if(t===n[s])return o[s];s+=1}for(var l in n[s+1]=t,o[s+1]=r,t)r[l]=a?e(t[l],n,o,!0):t[l];return r};switch(i(t)){case"Object":return s({});case"Array":return s([]);case"Date":return new Date(t.valueOf());case"RegExp":return r(t);default:return t}}},{"../type":327,"./_cloneRegExp":132}],132:[function(e,t,n){t.exports=function(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}},{}],133:[function(e,t,n){t.exports=function(e){return function(){return!e.apply(this,arguments)}}},{}],134:[function(e,t,n){t.exports=function(e,t){var n;t=t||[];var r=(e=e||[]).length,i=t.length,o=[];for(n=0;n<r;)o[o.length]=e[n],n+=1;for(n=0;n<i;)o[o.length]=t[n],n+=1;return o}},{}],135:[function(e,t,n){var r=e("./_indexOf");t.exports=function(e,t){return r(t,e,0)>=0}},{"./_indexOf":152}],136:[function(e,t,n){t.exports=function(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}},{}],137:[function(e,t,n){var r=e("./_arity"),i=e("./_curry2");t.exports=function(e){return i((function(t,n){return r(Math.max(0,t.length-n.length),(function(){return t.apply(this,e(n,arguments))}))}))}},{"./_arity":127,"./_curry2":139}],138:[function(e,t,n){var r=e("./_isPlaceholder");t.exports=function(e){return function t(n){return 0===arguments.length||r(n)?t:e.apply(this,arguments)}}},{"./_isPlaceholder":160}],139:[function(e,t,n){var r=e("./_curry1"),i=e("./_isPlaceholder");t.exports=function(e){return function t(n,o){switch(arguments.length){case 0:return t;case 1:return i(n)?t:r((function(t){return e(n,t)}));default:return i(n)&&i(o)?t:i(n)?r((function(t){return e(t,o)})):i(o)?r((function(t){return e(n,t)})):e(n,o)}}}},{"./_curry1":138,"./_isPlaceholder":160}],140:[function(e,t,n){var r=e("./_curry1"),i=e("./_curry2"),o=e("./_isPlaceholder");t.exports=function(e){return function t(n,a,s){switch(arguments.length){case 0:return t;case 1:return o(n)?t:i((function(t,r){return e(n,t,r)}));case 2:return o(n)&&o(a)?t:o(n)?i((function(t,n){return e(t,a,n)})):o(a)?i((function(t,r){return e(n,t,r)})):r((function(t){return e(n,a,t)}));default:return o(n)&&o(a)&&o(s)?t:o(n)&&o(a)?i((function(t,n){return e(t,n,s)})):o(n)&&o(s)?i((function(t,n){return e(t,a,n)})):o(a)&&o(s)?i((function(t,r){return e(n,t,r)})):o(n)?r((function(t){return e(t,a,s)})):o(a)?r((function(t){return e(n,t,s)})):o(s)?r((function(t){return e(n,a,t)})):e(n,a,s)}}}},{"./_curry1":138,"./_curry2":139,"./_isPlaceholder":160}],141:[function(e,t,n){var r=e("./_arity"),i=e("./_isPlaceholder");t.exports=function e(t,n,o){return function(){for(var a=[],s=0,l=t,c=0;c<n.length||s<arguments.length;){var u;c<n.length&&(!i(n[c])||s>=arguments.length)?u=n[c]:(u=arguments[s],s+=1),a[c]=u,i(u)||(l-=1),c+=1}return l<=0?o.apply(this,a):r(l,e(t,a,o))}}},{"./_arity":127,"./_isPlaceholder":160}],142:[function(e,t,n){var r=e("./_isArray"),i=e("./_isTransformer");t.exports=function(e,t,n){return function(){if(0===arguments.length)return n();var o=Array.prototype.slice.call(arguments,0),a=o.pop();if(!r(a)){for(var s=0;s<e.length;){if("function"==typeof a[e[s]])return a[e[s]].apply(a,o);s+=1}if(i(a)){var l=t.apply(null,o);return l(a)}}return n.apply(this,arguments)}}},{"./_isArray":154,"./_isTransformer":163}],143:[function(e,t,n){var r=e("../take");t.exports=function(e,t){return r(e<t.length?t.length-e:0,t)}},{"../take":310}],144:[function(e,t,n){var r=e("../slice");t.exports=function(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return r(0,n+1,t)}},{"../slice":296}],145:[function(e,t,n){var r=e("./_arrayFromIterator"),i=e("./_containsWith"),o=e("./_functionName"),a=e("./_has"),s=e("../identical"),l=e("../keys"),c=e("../type");function u(e,t,n,o){var a=r(e),s=r(t);function l(e,t){return d(e,t,n.slice(),o.slice())}return!i((function(e,t){return!i(l,t,e)}),s,a)}function d(e,t,n,r){if(s(e,t))return!0;var i=c(e);if(i!==c(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===o(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!s(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!s(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var f=n.length-1;f>=0;){if(n[f]===e)return r[f]===t;f-=1}switch(i){case"Map":return e.size===t.size&&u(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&u(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=l(e);if(p.length!==l(t).length)return!1;var h=n.concat([e]),m=r.concat([t]);for(f=p.length-1;f>=0;){var g=p[f];if(!a(g,t)||!d(t[g],e[g],h,m))return!1;f-=1}return!0}t.exports=d},{"../identical":114,"../keys":208,"../type":327,"./_arrayFromIterator":128,"./_containsWith":136,"./_functionName":149,"./_has":150}],146:[function(e,t,n){t.exports=function(e,t){for(var n=0,r=t.length,i=[];n<r;)e(t[n])&&(i[i.length]=t[n]),n+=1;return i}},{}],147:[function(e,t,n){var r=e("./_forceReduced"),i=e("./_isArrayLike"),o=e("./_reduce"),a=e("./_xfBase");t.exports=function(e){var t=function(e){return{"@@transducer/init":a.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var i=e["@@transducer/step"](t,n);return i["@@transducer/reduced"]?r(i):i}}}(e);return{"@@transducer/init":a.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){return i(n)?o(t,e,n):o(t,e,[n])}}}},{"./_forceReduced":148,"./_isArrayLike":155,"./_reduce":171,"./_xfBase":185}],148:[function(e,t,n){t.exports=function(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}},{}],149:[function(e,t,n){t.exports=function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}},{}],150:[function(e,t,n){t.exports=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)}},{}],151:[function(e,t,n){t.exports=function(e){return e}},{}],152:[function(e,t,n){var r=e("../equals");t.exports=function(e,t,n){var i,o;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(i=1/t;n<e.length;){if(0===(o=e[n])&&1/o===i)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(o=e[n])&&o!=o)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(r(e[n],t))return n;n+=1}return-1}},{"../equals":95}],153:[function(e,t,n){var r=e("./_has"),i=Object.prototype.toString;t.exports=function(){return"[object Arguments]"===i.call(arguments)?function(e){return"[object Arguments]"===i.call(e)}:function(e){return r("callee",e)}}},{"./_has":150}],154:[function(e,t,n){t.exports=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},{}],155:[function(e,t,n){var r=e("./_curry1"),i=e("./_isArray"),o=e("./_isString"),a=r((function(e){return!!i(e)||!!e&&("object"==typeof e&&(!o(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))}));t.exports=a},{"./_curry1":138,"./_isArray":154,"./_isString":162}],156:[function(e,t,n){t.exports=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],157:[function(e,t,n){t.exports=Number.isInteger||function(e){return e<<0===e}},{}],158:[function(e,t,n){t.exports=function(e){return"[object Number]"===Object.prototype.toString.call(e)}},{}],159:[function(e,t,n){t.exports=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{}],160:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}},{}],161:[function(e,t,n){t.exports=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},{}],162:[function(e,t,n){t.exports=function(e){return"[object String]"===Object.prototype.toString.call(e)}},{}],163:[function(e,t,n){t.exports=function(e){return"function"==typeof e["@@transducer/step"]}},{}],164:[function(e,t,n){var r=e("./_isArrayLike");t.exports=function(e){return function t(n){for(var i,o,a,s=[],l=0,c=n.length;l<c;){if(r(n[l]))for(a=0,o=(i=e?t(n[l]):n[l]).length;a<o;)s[s.length]=i[a],a+=1;else s[s.length]=n[l];l+=1}return s}}},{"./_isArrayLike":155}],165:[function(e,t,n){t.exports=function(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}},{}],166:[function(e,t,n){var r=e("./_has");t.exports=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,i=arguments.length;n<i;){var o=arguments[n];if(null!=o)for(var a in o)r(a,o)&&(t[a]=o[a]);n+=1}return t}},{"./_has":150}],167:[function(e,t,n){t.exports=function(e){return[e]}},{}],168:[function(e,t,n){t.exports=function(e,t){return function(){return t.call(this,e.apply(this,arguments))}}},{}],169:[function(e,t,n){t.exports=function(e,t){return function(){var n=this;return e.apply(n,arguments).then((function(e){return t.call(n,e)}))}}},{}],170:[function(e,t,n){t.exports=function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}},{}],171:[function(e,t,n){var r=e("./_isArrayLike"),i=e("./_xwrap"),o=e("../bind");function a(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function s(e,t,n,r){return e["@@transducer/result"](n[r](o(e["@@transducer/step"],e),t))}var l="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(e,t,n){if("function"==typeof e&&(e=i(e)),r(n))return function(e,t,n){for(var r=0,i=n.length;r<i;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return s(e,t,n,"fantasy-land/reduce");if(null!=n[l])return a(e,t,n[l]());if("function"==typeof n.next)return a(e,t,n);if("function"==typeof n.reduce)return s(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}},{"../bind":56,"./_isArrayLike":155,"./_xwrap":196}],172:[function(e,t,n){t.exports=function(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}},{}],173:[function(e,t,n){var r=e("./_assign"),i=e("./_identity"),o=e("./_isArrayLike"),a=e("./_isTransformer"),s=e("../objOf"),l={"@@transducer/init":Array,"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":i},c={"@@transducer/init":String,"@@transducer/step":function(e,t){return e+t},"@@transducer/result":i},u={"@@transducer/init":Object,"@@transducer/step":function(e,t){return r(e,o(t)?s(t[0],t[1]):t)},"@@transducer/result":i};t.exports=function(e){if(a(e))return e;if(o(e))return l;if("string"==typeof e)return c;if("object"==typeof e)return u;throw new Error("Cannot create transformer for "+e)}},{"../objOf":252,"./_assign":129,"./_identity":151,"./_isArrayLike":155,"./_isTransformer":163}],174:[function(e,t,n){var r=function(e){return(e<10?"0":"")+e},i="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};t.exports=i},{}],175:[function(e,t,n){var r=e("./_contains"),i=e("./_map"),o=e("./_quote"),a=e("./_toISOString"),s=e("../keys"),l=e("../reject");t.exports=function e(t,n){var c=function(i){var o=n.concat([t]);return r(i,o)?"<Circular>":e(i,o)},u=function(e,t){return i((function(t){return o(t)+": "+c(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+i(c,t).join(", ")+"))";case"[object Array]":return"["+i(c,t).concat(u(t,l((function(e){return/^\d+$/.test(e)}),s(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+c(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?c(NaN):o(a(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+c(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+c(t.valueOf())+")":o(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var d=t.toString();if("[object Object]"!==d)return d}return"{"+u(t,s(t)).join(", ")+"}"}}},{"../keys":208,"../reject":288,"./_contains":135,"./_map":165,"./_quote":170,"./_toISOString":174}],176:[function(e,t,n){var r=e("./_curry2"),i=e("./_reduced"),o=e("./_xfBase"),a=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=i(this.xf["@@transducer/step"](e,!1))),e},e}(),s=r((function(e,t){return new a(e,t)}));t.exports=s},{"./_curry2":139,"./_reduced":172,"./_xfBase":185}],177:[function(e,t,n){var r=e("./_curry2"),i=e("./_reduced"),o=e("./_xfBase"),a=function(){function e(e,t){this.xf=t,this.f=e,this.any=!1}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=i(this.xf["@@transducer/step"](e,!0))),e},e}(),s=r((function(e,t){return new a(e,t)}));t.exports=s},{"./_curry2":139,"./_reduced":172,"./_xfBase":185}],178:[function(e,t,n){var r=e("./_concat"),i=e("./_curry2"),o=e("./_xfBase"),a=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e.prototype.getCopy=function(){return r(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},e}(),s=i((function(e,t){return new a(e,t)}));t.exports=s},{"./_concat":134,"./_curry2":139,"./_xfBase":185}],179:[function(e,t,n){var r=e("./_curry2"),i=e("./_flatCat"),o=e("../map"),a=r((function(e,t){return o(e,i(t))}));t.exports=a},{"../map":221,"./_curry2":139,"./_flatCat":147}],180:[function(e,t,n){var r=e("./_curry2"),i=e("./_xfBase"),o=function(){function e(e,t){this.xf=t,this.n=e}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=i.result,e.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},e}(),a=r((function(e,t){return new o(e,t)}));t.exports=a},{"./_curry2":139,"./_xfBase":185}],181:[function(e,t,n){var r=e("./_curry2"),i=e("./_xfBase"),o=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}(),a=r((function(e,t){return new o(e,t)}));t.exports=a},{"./_curry2":139,"./_xfBase":185}],182:[function(e,t,n){var r=e("./_curry2"),i=e("./_reduce"),o=e("./_xfBase"),a=function(){function e(e,t){this.f=e,this.retained=[],this.xf=t}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},e.prototype.flush=function(e,t){return e=i(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},e.prototype.retain=function(e,t){return this.retained.push(t),e},e}(),s=r((function(e,t){return new a(e,t)}));t.exports=s},{"./_curry2":139,"./_reduce":171,"./_xfBase":185}],183:[function(e,t,n){var r=e("./_curry2"),i=e("./_xfBase"),o=function(){function e(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=i.result,e.prototype["@@transducer/step"]=function(e,t){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(n=!0):this.seenFirstValue=!0,this.lastValue=t,n?e:this.xf["@@transducer/step"](e,t)},e}(),a=r((function(e,t){return new o(e,t)}));t.exports=a},{"./_curry2":139,"./_xfBase":185}],184:[function(e,t,n){var r=e("./_curry2"),i=e("./_xfBase"),o=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=i.result,e.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},e}(),a=r((function(e,t){return new o(e,t)}));t.exports=a},{"./_curry2":139,"./_xfBase":185}],185:[function(e,t,n){t.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},{}],186:[function(e,t,n){var r=e("./_curry2"),i=e("./_xfBase"),o=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=i.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),a=r((function(e,t){return new o(e,t)}));t.exports=a},{"./_curry2":139,"./_xfBase":185}],187:[function(e,t,n){var r=e("./_curry2"),i=e("./_reduced"),o=e("./_xfBase"),a=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=i(this.xf["@@transducer/step"](e,t))),e},e}(),s=r((function(e,t){return new a(e,t)}));t.exports=s},{"./_curry2":139,"./_reduced":172,"./_xfBase":185}],188:[function(e,t,n){var r=e("./_curry2"),i=e("./_reduced"),o=e("./_xfBase"),a=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=i(this.xf["@@transducer/step"](e,this.idx))),e},e}(),s=r((function(e,t){return new a(e,t)}));t.exports=s},{"./_curry2":139,"./_reduced":172,"./_xfBase":185}],189:[function(e,t,n){var r=e("./_curry2"),i=e("./_xfBase"),o=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e},e}(),a=r((function(e,t){return new o(e,t)}));t.exports=a},{"./_curry2":139,"./_xfBase":185}],190:[function(e,t,n){var r=e("./_curry2"),i=e("./_xfBase"),o=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},e}(),a=r((function(e,t){return new o(e,t)}));t.exports=a},{"./_curry2":139,"./_xfBase":185}],191:[function(e,t,n){var r=e("./_curry2"),i=e("./_xfBase"),o=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=i.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),a=r((function(e,t){return new o(e,t)}));t.exports=a},{"./_curry2":139,"./_xfBase":185}],192:[function(e,t,n){var r=e("./_curryN"),i=e("./_has"),o=e("./_xfBase"),a=function(){function e(e,t,n,r){this.valueFn=e,this.valueAcc=t,this.keyFn=n,this.xf=r,this.inputs={}}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(i(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var n=this.keyFn(t);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],t),e},e}(),s=r(4,[],(function(e,t,n,r){return new a(e,t,n,r)}));t.exports=s},{"./_curryN":141,"./_has":150,"./_xfBase":185}],193:[function(e,t,n){var r=e("./_curry2"),i=e("./_reduced"),o=e("./_xfBase"),a=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=o.result,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var n=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?i(n):n},e}(),s=r((function(e,t){return new a(e,t)}));t.exports=s},{"./_curry2":139,"./_reduced":172,"./_xfBase":185}],194:[function(e,t,n){var r=e("./_curry2"),i=e("./_reduced"),o=e("./_xfBase"),a=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=o.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):i(e)},e}(),s=r((function(e,t){return new a(e,t)}));t.exports=s},{"./_curry2":139,"./_reduced":172,"./_xfBase":185}],195:[function(e,t,n){var r=e("./_curry2"),i=e("./_xfBase"),o=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=i.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},e}(),a=r((function(e,t){return new o(e,t)}));t.exports=a},{"./_curry2":139,"./_xfBase":185}],196:[function(e,t,n){var r=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();t.exports=function(e){return new r(e)}},{}],197:[function(e,t,n){var r=e("./internal/_contains"),i=e("./internal/_curry2"),o=e("./internal/_filter"),a=e("./flip"),s=e("./uniq"),l=i((function(e,t){var n,i;return e.length>t.length?(n=e,i=t):(n=t,i=e),s(o(a(r)(n),i))}));t.exports=l},{"./flip":103,"./internal/_contains":135,"./internal/_curry2":139,"./internal/_filter":146,"./uniq":334}],198:[function(e,t,n){var r=e("./internal/_checkForMethod"),i=e("./internal/_curry2")(r("intersperse",(function(e,t){for(var n=[],r=0,i=t.length;r<i;)r===i-1?n.push(t[r]):n.push(t[r],e),r+=1;return n})));t.exports=i},{"./internal/_checkForMethod":130,"./internal/_curry2":139}],199:[function(e,t,n){var r=e("./internal/_clone"),i=e("./internal/_curry3"),o=e("./internal/_isTransformer"),a=e("./internal/_reduce"),s=e("./internal/_stepCat"),l=i((function(e,t,n){return o(e)?a(t(e),e["@@transducer/init"](),n):a(t(s(e)),r(e,[],[],!1),n)}));t.exports=l},{"./internal/_clone":131,"./internal/_curry3":140,"./internal/_isTransformer":163,"./internal/_reduce":171,"./internal/_stepCat":173}],200:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./internal/_has"),o=e("./keys"),a=r((function(e){for(var t=o(e),n=t.length,r=0,a={};r<n;){var s=t[r],l=e[s],c=i(l,a)?a[l]:a[l]=[];c[c.length]=s,r+=1}return a}));t.exports=a},{"./internal/_curry1":138,"./internal/_has":150,"./keys":208}],201:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./keys"),o=r((function(e){for(var t=i(e),n=t.length,r=0,o={};r<n;){var a=t[r];o[e[a]]=a,r+=1}return o}));t.exports=o},{"./internal/_curry1":138,"./keys":208}],202:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_isFunction"),o=e("./curryN"),a=e("./toString"),s=r((function(e,t){return o(e+1,(function(){var n=arguments[e];if(null!=n&&i(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(a(n)+' does not have a method named "'+t+'"')}))}));t.exports=s},{"./curryN":75,"./internal/_curry2":139,"./internal/_isFunction":156,"./toString":320}],203:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return null!=t&&t.constructor===e||t instanceof e}));t.exports=r},{"./internal/_curry2":139}],204:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./empty"),o=e("./equals"),a=r((function(e){return null!=e&&o(e,i(e))}));t.exports=a},{"./empty":91,"./equals":95,"./internal/_curry1":138}],205:[function(e,t,n){var r=e("./internal/_curry1")((function(e){return null==e}));t.exports=r},{"./internal/_curry1":138}],206:[function(e,t,n){var r=e("./invoker")(1,"join");t.exports=r},{"./invoker":202}],207:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./converge"),o=r((function(e){return i((function(){return Array.prototype.slice.call(arguments,0)}),e)}));t.exports=o},{"./converge":72,"./internal/_curry1":138}],208:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./internal/_has"),o=e("./internal/_isArguments"),a=!{toString:null}.propertyIsEnumerable("toString"),s=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],l=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),c=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},u=r("function"!=typeof Object.keys||l?function(e){if(Object(e)!==e)return[];var t,n,r=[],u=l&&o(e);for(t in e)!i(t,e)||u&&"length"===t||(r[r.length]=t);if(a)for(n=s.length-1;n>=0;)i(t=s[n],e)&&!c(r,t)&&(r[r.length]=t),n-=1;return r}:function(e){return Object(e)!==e?[]:Object.keys(e)});t.exports=u},{"./internal/_curry1":138,"./internal/_has":150,"./internal/_isArguments":153}],209:[function(e,t,n){var r=e("./internal/_curry1")((function(e){var t,n=[];for(t in e)n[n.length]=t;return n}));t.exports=r},{"./internal/_curry1":138}],210:[function(e,t,n){var r=e("./nth")(-1);t.exports=r},{"./nth":249}],211:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_isArray"),o=e("./equals"),a=r((function(e,t){if("function"!=typeof t.lastIndexOf||i(t)){for(var n=t.length-1;n>=0;){if(o(t[n],e))return n;n-=1}return-1}return t.lastIndexOf(e)}));t.exports=a},{"./equals":95,"./internal/_curry2":139,"./internal/_isArray":154}],212:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./internal/_isNumber"),o=r((function(e){return null!=e&&i(e.length)?e.length:NaN}));t.exports=o},{"./internal/_curry1":138,"./internal/_isNumber":158}],213:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./map"),o=r((function(e,t){return function(n){return function(r){return i((function(e){return t(e,r)}),n(e(r)))}}}));t.exports=o},{"./internal/_curry2":139,"./map":221}],214:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./lens"),o=e("./nth"),a=e("./update"),s=r((function(e){return i(o(e),a(e))}));t.exports=s},{"./internal/_curry1":138,"./lens":213,"./nth":249,"./update":340}],215:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./assocPath"),o=e("./lens"),a=e("./path"),s=r((function(e){return o(a(e),i(e))}));t.exports=s},{"./assocPath":54,"./internal/_curry1":138,"./lens":213,"./path":262}],216:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./assoc"),o=e("./lens"),a=e("./prop"),s=r((function(e){return o(a(e),i(e))}));t.exports=s},{"./assoc":53,"./internal/_curry1":138,"./lens":213,"./prop":276}],217:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./liftN"),o=r((function(e){return i(e.length,e)}));t.exports=o},{"./internal/_curry1":138,"./liftN":218}],218:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_reduce"),o=e("./ap"),a=e("./curryN"),s=e("./map"),l=r((function(e,t){var n=a(e,t);return a(e,(function(){return i(o,s(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))}));t.exports=l},{"./ap":46,"./curryN":75,"./internal/_curry2":139,"./internal/_reduce":171,"./map":221}],219:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e<t}));t.exports=r},{"./internal/_curry2":139}],220:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e<=t}));t.exports=r},{"./internal/_curry2":139}],221:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_dispatchable"),o=e("./internal/_map"),a=e("./internal/_reduce"),s=e("./internal/_xmap"),l=e("./curryN"),c=e("./keys"),u=r(i(["fantasy-land/map","map"],s,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return l(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return a((function(n,r){return n[r]=e(t[r]),n}),{},c(t));default:return o(e,t)}})));t.exports=u},{"./curryN":75,"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_map":165,"./internal/_reduce":171,"./internal/_xmap":191,"./keys":208}],222:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){for(var r=0,i=n.length,o=[],a=[t];r<i;)a=e(a[0],n[r]),o[r]=a[1],r+=1;return[a[0],o]}));t.exports=r},{"./internal/_curry3":140}],223:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){for(var r=n.length-1,i=[],o=[t];r>=0;)o=e(n[r],o[0]),i[r]=o[1],r-=1;return[i,o[0]]}));t.exports=r},{"./internal/_curry3":140}],224:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_reduce"),o=e("./keys"),a=r((function(e,t){return i((function(n,r){return n[r]=e(t[r],r,t),n}),{},o(t))}));t.exports=a},{"./internal/_curry2":139,"./internal/_reduce":171,"./keys":208}],225:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return t.match(e)||[]}));t.exports=r},{"./internal/_curry2":139}],226:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_isInteger"),o=r((function(e,t){return i(e)?!i(t)||t<1?NaN:(e%t+t)%t:NaN}));t.exports=o},{"./internal/_curry2":139,"./internal/_isInteger":157}],227:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return t>e?t:e}));t.exports=r},{"./internal/_curry2":139}],228:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){return e(n)>e(t)?n:t}));t.exports=r},{"./internal/_curry3":140}],229:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./sum"),o=r((function(e){return i(e)/e.length}));t.exports=o},{"./internal/_curry1":138,"./sum":306}],230:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./mean"),o=r((function(e){var t=e.length;if(0===t)return NaN;var n=2-t%2,r=(t-n)/2;return i(Array.prototype.slice.call(e,0).sort((function(e,t){return e<t?-1:e>t?1:0})).slice(r,r+n))}));t.exports=o},{"./internal/_curry1":138,"./mean":229}],231:[function(e,t,n){var r=e("./memoizeWith"),i=e("./toString"),o=r((function(){return i(arguments)}));t.exports=o},{"./memoizeWith":232,"./toString":320}],232:[function(e,t,n){var r=e("./internal/_arity"),i=e("./internal/_curry2"),o=e("./internal/_has"),a=i((function(e,t){var n={};return r(t.length,(function(){var r=e.apply(this,arguments);return o(r,n)||(n[r]=t.apply(this,arguments)),n[r]}))}));t.exports=a},{"./internal/_arity":127,"./internal/_curry2":139,"./internal/_has":150}],233:[function(e,t,n){var r=e("./internal/_assign"),i=e("./internal/_curry2")((function(e,t){return r({},e,t)}));t.exports=i},{"./internal/_assign":129,"./internal/_curry2":139}],234:[function(e,t,n){var r=e("./internal/_assign"),i=e("./internal/_curry1")((function(e){return r.apply(null,[{}].concat(e))}));t.exports=i},{"./internal/_assign":129,"./internal/_curry1":138}],235:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./mergeDeepWithKey"),o=r((function(e,t){return i((function(e,t,n){return t}),e,t)}));t.exports=o},{"./internal/_curry2":139,"./mergeDeepWithKey":238}],236:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./mergeDeepWithKey"),o=r((function(e,t){return i((function(e,t,n){return n}),e,t)}));t.exports=o},{"./internal/_curry2":139,"./mergeDeepWithKey":238}],237:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./mergeDeepWithKey"),o=r((function(e,t,n){return i((function(t,n,r){return e(n,r)}),t,n)}));t.exports=o},{"./internal/_curry3":140,"./mergeDeepWithKey":238}],238:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./internal/_isObject"),o=e("./mergeWithKey"),a=r((function e(t,n,r){return o((function(n,r,o){return i(r)&&i(o)?e(t,r,o):t(n,r,o)}),n,r)}));t.exports=a},{"./internal/_curry3":140,"./internal/_isObject":159,"./mergeWithKey":240}],239:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./mergeWithKey"),o=r((function(e,t,n){return i((function(t,n,r){return e(n,r)}),t,n)}));t.exports=o},{"./internal/_curry3":140,"./mergeWithKey":240}],240:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./internal/_has"),o=r((function(e,t,n){var r,o={};for(r in t)i(r,t)&&(o[r]=i(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)i(r,n)&&!i(r,o)&&(o[r]=n[r]);return o}));t.exports=o},{"./internal/_curry3":140,"./internal/_has":150}],241:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return t<e?t:e}));t.exports=r},{"./internal/_curry2":139}],242:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){return e(n)<e(t)?n:t}));t.exports=r},{"./internal/_curry3":140}],243:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e%t}));t.exports=r},{"./internal/_curry2":139}],244:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e*t}));t.exports=r},{"./internal/_curry2":139}],245:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,n){return t.call(this,e,n)};case 3:return function(e,n,r){return t.call(this,e,n,r)};case 4:return function(e,n,r,i){return t.call(this,e,n,r,i)};case 5:return function(e,n,r,i,o){return t.call(this,e,n,r,i,o)};case 6:return function(e,n,r,i,o,a){return t.call(this,e,n,r,i,o,a)};case 7:return function(e,n,r,i,o,a,s){return t.call(this,e,n,r,i,o,a,s)};case 8:return function(e,n,r,i,o,a,s,l){return t.call(this,e,n,r,i,o,a,s,l)};case 9:return function(e,n,r,i,o,a,s,l,c){return t.call(this,e,n,r,i,o,a,s,l,c)};case 10:return function(e,n,r,i,o,a,s,l,c,u){return t.call(this,e,n,r,i,o,a,s,l,c,u)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}));t.exports=r},{"./internal/_curry2":139}],246:[function(e,t,n){var r=e("./internal/_curry1")((function(e){return-e}));t.exports=r},{"./internal/_curry1":138}],247:[function(e,t,n){var r=e("./internal/_complement"),i=e("./internal/_curry2")(r(e("./internal/_dispatchable")(["any"],e("./internal/_xany"),e("./any"))));t.exports=i},{"./any":44,"./internal/_complement":133,"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xany":177}],248:[function(e,t,n){var r=e("./internal/_curry1")((function(e){return!e}));t.exports=r},{"./internal/_curry1":138}],249:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_isString"),o=r((function(e,t){var n=e<0?t.length+e:e;return i(t)?t.charAt(n):t[n]}));t.exports=o},{"./internal/_curry2":139,"./internal/_isString":162}],250:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./curryN"),o=e("./nth"),a=r((function(e){return i(e<0?1:e+1,(function(){return o(e,arguments)}))}));t.exports=a},{"./curryN":75,"./internal/_curry1":138,"./nth":249}],251:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){return e(t(n))}));t.exports=r},{"./internal/_curry3":140}],252:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){var n={};return n[e]=t,n}));t.exports=r},{"./internal/_curry2":139}],253:[function(e,t,n){var r=e("./internal/_curry1")(e("./internal/_of"));t.exports=r},{"./internal/_curry1":138,"./internal/_of":167}],254:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){for(var n={},r={},i=0,o=e.length;i<o;)r[e[i]]=1,i+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n}));t.exports=r},{"./internal/_curry2":139}],255:[function(e,t,n){var r=e("./internal/_arity"),i=e("./internal/_curry1")((function(e){var t,n=!1;return r(e.length,(function(){return n?t:(n=!0,t=e.apply(this,arguments))}))}));t.exports=i},{"./internal/_arity":127,"./internal/_curry1":138}],256:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return e||t}));t.exports=r},{"./internal/_curry2":139}],257:[function(e,t,n){var r=function(e){return{value:e,map:function(t){return r(t(e))}}},i=e("./internal/_curry3")((function(e,t,n){return e((function(e){return r(t(e))}))(n).value}));t.exports=i},{"./internal/_curry3":140}],258:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return[e,t]}));t.exports=r},{"./internal/_curry2":139}],259:[function(e,t,n){var r=e("./internal/_concat"),i=e("./internal/_createPartialApplicator")(r);t.exports=i},{"./internal/_concat":134,"./internal/_createPartialApplicator":137}],260:[function(e,t,n){var r=e("./internal/_concat"),i=e("./internal/_createPartialApplicator")(e("./flip")(r));t.exports=i},{"./flip":103,"./internal/_concat":134,"./internal/_createPartialApplicator":137}],261:[function(e,t,n){var r=e("./filter"),i=e("./juxt")([r,e("./reject")]);t.exports=i},{"./filter":97,"./juxt":207,"./reject":288}],262:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){for(var n=t,r=0;r<e.length;){if(null==n)return;n=n[e[r]],r+=1}return n}));t.exports=r},{"./internal/_curry2":139}],263:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./equals"),o=e("./path"),a=r((function(e,t,n){return i(o(e,n),t)}));t.exports=a},{"./equals":95,"./internal/_curry3":140,"./path":262}],264:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./defaultTo"),o=e("./path"),a=r((function(e,t,n){return i(e,o(t,n))}));t.exports=a},{"./defaultTo":77,"./internal/_curry3":140,"./path":262}],265:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./path"),o=r((function(e,t,n){return t.length>0&&e(i(t,n))}));t.exports=o},{"./internal/_curry3":140,"./path":262}],266:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){for(var n={},r=0;r<e.length;)e[r]in t&&(n[e[r]]=t[e[r]]),r+=1;return n}));t.exports=r},{"./internal/_curry2":139}],267:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){for(var n={},r=0,i=e.length;r<i;){var o=e[r];n[o]=t[o],r+=1}return n}));t.exports=r},{"./internal/_curry2":139}],268:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){var n={};for(var r in t)e(t[r],r,t)&&(n[r]=t[r]);return n}));t.exports=r},{"./internal/_curry2":139}],269:[function(e,t,n){var r=e("./internal/_arity"),i=e("./internal/_pipe"),o=e("./reduce"),a=e("./tail");t.exports=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return r(arguments[0].length,o(i,arguments[0],a(arguments)))}},{"./internal/_arity":127,"./internal/_pipe":168,"./reduce":283,"./tail":309}],270:[function(e,t,n){var r=e("./composeK"),i=e("./reverse");t.exports=function(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return r.apply(this,i(arguments))}},{"./composeK":65,"./reverse":292}],271:[function(e,t,n){var r=e("./internal/_arity"),i=e("./internal/_pipeP"),o=e("./reduce"),a=e("./tail");t.exports=function(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return r(arguments[0].length,o(i,arguments[0],a(arguments)))}},{"./internal/_arity":127,"./internal/_pipeP":169,"./reduce":283,"./tail":309}],272:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./map"),o=e("./prop"),a=r((function(e,t){return i(o(e),t)}));t.exports=a},{"./internal/_curry2":139,"./map":221,"./prop":276}],273:[function(e,t,n){var r=e("./internal/_concat"),i=e("./internal/_curry2")((function(e,t){return r([e],t)}));t.exports=i},{"./internal/_concat":134,"./internal/_curry2":139}],274:[function(e,t,n){var r=e("./multiply"),i=e("./reduce")(r,1);t.exports=i},{"./multiply":244,"./reduce":283}],275:[function(e,t,n){var r=e("./internal/_map"),i=e("./identity"),o=e("./pickAll"),a=e("./useWith")(r,[o,i]);t.exports=a},{"./identity":115,"./internal/_map":165,"./pickAll":267,"./useWith":341}],276:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./path"),o=r((function(e,t){return i([e],t)}));t.exports=o},{"./internal/_curry2":139,"./path":262}],277:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./equals"),o=r((function(e,t,n){return i(t,n[e])}));t.exports=o},{"./equals":95,"./internal/_curry3":140}],278:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./is"),o=r((function(e,t,n){return i(e,n[t])}));t.exports=o},{"./internal/_curry3":140,"./is":203}],279:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./internal/_has"),o=r((function(e,t,n){return null!=n&&i(t,n)?n[t]:e}));t.exports=o},{"./internal/_curry3":140,"./internal/_has":150}],280:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){return e(n[t])}));t.exports=r},{"./internal/_curry3":140}],281:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){for(var n=e.length,r=[],i=0;i<n;)r[i]=t[e[i]],i+=1;return r}));t.exports=r},{"./internal/_curry2":139}],282:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_isNumber"),o=r((function(e,t){if(!i(e)||!i(t))throw new TypeError("Both arguments to range must be numbers");for(var n=[],r=e;r<t;)n.push(r),r+=1;return n}));t.exports=o},{"./internal/_curry2":139,"./internal/_isNumber":158}],283:[function(e,t,n){var r=e("./internal/_curry3")(e("./internal/_reduce"));t.exports=r},{"./internal/_curry3":140,"./internal/_reduce":171}],284:[function(e,t,n){var r=e("./internal/_curryN"),i=e("./internal/_dispatchable"),o=e("./internal/_has"),a=e("./internal/_reduce"),s=r(4,[],i([],e("./internal/_xreduceBy"),(function(e,t,n,r){return a((function(r,i){var a=n(i);return r[a]=e(o(a,r)?r[a]:t,i),r}),{},r)})));t.exports=s},{"./internal/_curryN":141,"./internal/_dispatchable":142,"./internal/_has":150,"./internal/_reduce":171,"./internal/_xreduceBy":192}],285:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){for(var r=n.length-1;r>=0;)t=e(n[r],t),r-=1;return t}));t.exports=r},{"./internal/_curry3":140}],286:[function(e,t,n){var r=e("./internal/_curryN"),i=e("./internal/_reduce"),o=e("./internal/_reduced"),a=r(4,[],(function(e,t,n,r){return i((function(n,r){return e(n,r)?t(n,r):o(n)}),n,r)}));t.exports=a},{"./internal/_curryN":141,"./internal/_reduce":171,"./internal/_reduced":172}],287:[function(e,t,n){var r=e("./internal/_curry1")(e("./internal/_reduced"));t.exports=r},{"./internal/_curry1":138,"./internal/_reduced":172}],288:[function(e,t,n){var r=e("./internal/_complement"),i=e("./internal/_curry2"),o=e("./filter"),a=i((function(e,t){return o(r(e),t)}));t.exports=a},{"./filter":97,"./internal/_complement":133,"./internal/_curry2":139}],289:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){var r=Array.prototype.slice.call(n,0);return r.splice(e,t),r}));t.exports=r},{"./internal/_curry3":140}],290:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./always"),o=e("./times"),a=r((function(e,t){return o(i(e),t)}));t.exports=a},{"./always":42,"./internal/_curry2":139,"./times":316}],291:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){return n.replace(e,t)}));t.exports=r},{"./internal/_curry3":140}],292:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./internal/_isString"),o=r((function(e){return i(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}));t.exports=o},{"./internal/_curry1":138,"./internal/_isString":162}],293:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){for(var r=0,i=n.length,o=[t];r<i;)t=e(t,n[r]),o[r+1]=t,r+=1;return o}));t.exports=r},{"./internal/_curry3":140}],294:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./ap"),o=e("./map"),a=e("./prepend"),s=e("./reduceRight"),l=r((function(e,t){return"function"==typeof t.sequence?t.sequence(e):s((function(e,t){return i(o(a,e),t)}),e([]),t)}));t.exports=l},{"./ap":46,"./internal/_curry2":139,"./map":221,"./prepend":273,"./reduceRight":285}],295:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./always"),o=e("./over"),a=r((function(e,t,n){return o(e,i(t),n)}));t.exports=a},{"./always":42,"./internal/_curry3":140,"./over":257}],296:[function(e,t,n){var r=e("./internal/_checkForMethod"),i=e("./internal/_curry3")(r("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)})));t.exports=i},{"./internal/_checkForMethod":130,"./internal/_curry3":140}],297:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return Array.prototype.slice.call(t,0).sort(e)}));t.exports=r},{"./internal/_curry2":139}],298:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,n){var r=e(t),i=e(n);return r<i?-1:r>i?1:0}))}));t.exports=r},{"./internal/_curry2":139}],299:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,n){for(var r=0,i=0;0===r&&i<e.length;)r=e[i](t,n),i+=1;return r}))}));t.exports=r},{"./internal/_curry2":139}],300:[function(e,t,n){var r=e("./invoker")(1,"split");t.exports=r},{"./invoker":202}],301:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./length"),o=e("./slice"),a=r((function(e,t){return[o(0,e,t),o(e,i(t),t)]}));t.exports=a},{"./internal/_curry2":139,"./length":212,"./slice":296}],302:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./slice"),o=r((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<t.length;)n.push(i(r,r+=e,t));return n}));t.exports=o},{"./internal/_curry2":139,"./slice":296}],303:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){for(var n=0,r=t.length,i=[];n<r&&!e(t[n]);)i.push(t[n]),n+=1;return[i,Array.prototype.slice.call(t,n)]}));t.exports=r},{"./internal/_curry2":139}],304:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./equals"),o=e("./take"),a=r((function(e,t){return i(o(e.length,t),e)}));t.exports=a},{"./equals":95,"./internal/_curry2":139,"./take":310}],305:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){return Number(e)-Number(t)}));t.exports=r},{"./internal/_curry2":139}],306:[function(e,t,n){var r=e("./add"),i=e("./reduce")(r,0);t.exports=i},{"./add":37,"./reduce":283}],307:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./concat"),o=e("./difference"),a=r((function(e,t){return i(o(e,t),o(t,e))}));t.exports=a},{"./concat":67,"./difference":79,"./internal/_curry2":139}],308:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./concat"),o=e("./differenceWith"),a=r((function(e,t,n){return i(o(e,t,n),o(e,n,t))}));t.exports=a},{"./concat":67,"./differenceWith":80,"./internal/_curry3":140}],309:[function(e,t,n){var r=e("./internal/_checkForMethod"),i=e("./internal/_curry1")(r("tail",e("./slice")(1,1/0)));t.exports=i},{"./internal/_checkForMethod":130,"./internal/_curry1":138,"./slice":296}],310:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_dispatchable"),o=e("./internal/_xtake"),a=e("./slice"),s=r(i(["take"],o,(function(e,t){return a(0,e<0?1/0:e,t)})));t.exports=s},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xtake":193,"./slice":296}],311:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./drop"),o=r((function(e,t){return i(e>=0?t.length-e:0,t)}));t.exports=o},{"./drop":84,"./internal/_curry2":139}],312:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./slice"),o=r((function(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return i(n+1,1/0,t)}));t.exports=o},{"./internal/_curry2":139,"./slice":296}],313:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_dispatchable"),o=e("./internal/_xtakeWhile"),a=e("./slice"),s=r(i(["takeWhile"],o,(function(e,t){for(var n=0,r=t.length;n<r&&e(t[n]);)n+=1;return a(0,n,t)})));t.exports=s},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xtakeWhile":194,"./slice":296}],314:[function(e,t,n){var r=e("./internal/_curry2")(e("./internal/_dispatchable")([],e("./internal/_xtap"),(function(e,t){return e(t),t})));t.exports=r},{"./internal/_curry2":139,"./internal/_dispatchable":142,"./internal/_xtap":195}],315:[function(e,t,n){var r=e("./internal/_cloneRegExp"),i=e("./internal/_curry2"),o=e("./internal/_isRegExp"),a=e("./toString"),s=i((function(e,t){if(!o(e))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+a(e));return r(e).test(t)}));t.exports=s},{"./internal/_cloneRegExp":132,"./internal/_curry2":139,"./internal/_isRegExp":161,"./toString":320}],316:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){var n,r=Number(t),i=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(n=new Array(r);i<r;)n[i]=e(i),i+=1;return n}));t.exports=r},{"./internal/_curry2":139}],317:[function(e,t,n){var r=e("./invoker")(0,"toLowerCase");t.exports=r},{"./invoker":202}],318:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./internal/_has"),o=r((function(e){var t=[];for(var n in e)i(n,e)&&(t[t.length]=[n,e[n]]);return t}));t.exports=o},{"./internal/_curry1":138,"./internal/_has":150}],319:[function(e,t,n){var r=e("./internal/_curry1")((function(e){var t=[];for(var n in e)t[t.length]=[n,e[n]];return t}));t.exports=r},{"./internal/_curry1":138}],320:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./internal/_toString"),o=r((function(e){return i(e,[])}));t.exports=o},{"./internal/_curry1":138,"./internal/_toString":175}],321:[function(e,t,n){var r=e("./invoker")(0,"toUpperCase");t.exports=r},{"./invoker":202}],322:[function(e,t,n){var r=e("./internal/_reduce"),i=e("./internal/_xwrap"),o=e("./curryN")(4,(function(e,t,n,o){return r(e("function"==typeof t?i(t):t),n,o)}));t.exports=o},{"./curryN":75,"./internal/_reduce":171,"./internal/_xwrap":196}],323:[function(e,t,n){var r=e("./internal/_curry1")((function(e){for(var t=0,n=[];t<e.length;){for(var r=e[t],i=0;i<r.length;)void 0===n[i]&&(n[i]=[]),n[i].push(r[i]),i+=1;t+=1}return n}));t.exports=r},{"./internal/_curry1":138}],324:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./map"),o=e("./sequence"),a=r((function(e,t,n){return"function"==typeof n["fantasy-land/traverse"]?n["fantasy-land/traverse"](t,e):o(e,i(t,n))}));t.exports=a},{"./internal/_curry3":140,"./map":221,"./sequence":294}],325:[function(e,t,n){var r="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",i=e("./internal/_curry1")("function"==typeof String.prototype.trim&&!r.trim()&&"​".trim()?function(e){return e.trim()}:function(e){var t=new RegExp("^["+r+"]["+r+"]*"),n=new RegExp("["+r+"]["+r+"]*$");return e.replace(t,"").replace(n,"")});t.exports=i},{"./internal/_curry1":138}],326:[function(e,t,n){var r=e("./internal/_arity"),i=e("./internal/_concat"),o=e("./internal/_curry2")((function(e,t){return r(e.length,(function(){try{return e.apply(this,arguments)}catch(e){return t.apply(this,i([e],arguments))}}))}));t.exports=o},{"./internal/_arity":127,"./internal/_concat":134,"./internal/_curry2":139}],327:[function(e,t,n){var r=e("./internal/_curry1")((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));t.exports=r},{"./internal/_curry1":138}],328:[function(e,t,n){var r=e("./internal/_curry1")((function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}}));t.exports=r},{"./internal/_curry1":138}],329:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./nAry"),o=r((function(e){return i(1,e)}));t.exports=o},{"./internal/_curry1":138,"./nAry":245}],330:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./curryN"),o=r((function(e,t){return i(e,(function(){for(var n,r=1,i=t,o=0;r<=e&&"function"==typeof i;)n=r===e?arguments.length:o+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,o,n)),r+=1,o=n;return i}))}));t.exports=o},{"./curryN":75,"./internal/_curry2":139}],331:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){for(var n=e(t),r=[];n&&n.length;)r[r.length]=n[0],n=e(n[1]);return r}));t.exports=r},{"./internal/_curry2":139}],332:[function(e,t,n){var r=e("./internal/_concat"),i=e("./internal/_curry2")(e("./compose")(e("./uniq"),r));t.exports=i},{"./compose":64,"./internal/_concat":134,"./internal/_curry2":139,"./uniq":334}],333:[function(e,t,n){var r=e("./internal/_concat"),i=e("./internal/_curry3"),o=e("./uniqWith"),a=i((function(e,t,n){return o(e,r(t,n))}));t.exports=a},{"./internal/_concat":134,"./internal/_curry3":140,"./uniqWith":336}],334:[function(e,t,n){var r=e("./identity"),i=e("./uniqBy")(r);t.exports=i},{"./identity":115,"./uniqBy":335}],335:[function(e,t,n){var r=e("./internal/_Set"),i=e("./internal/_curry2")((function(e,t){for(var n,i,o=new r,a=[],s=0;s<t.length;)n=e(i=t[s]),o.add(n)&&a.push(i),s+=1;return a}));t.exports=i},{"./internal/_Set":125,"./internal/_curry2":139}],336:[function(e,t,n){var r=e("./internal/_containsWith"),i=e("./internal/_curry2")((function(e,t){for(var n,i=0,o=t.length,a=[];i<o;)n=t[i],r(e,n,a)||(a[a.length]=n),i+=1;return a}));t.exports=i},{"./internal/_containsWith":136,"./internal/_curry2":139}],337:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){return e(n)?n:t(n)}));t.exports=r},{"./internal/_curry3":140}],338:[function(e,t,n){var r=e("./internal/_identity"),i=e("./chain")(r);t.exports=i},{"./chain":59,"./internal/_identity":151}],339:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){for(var r=n;!e(r);)r=t(r);return r}));t.exports=r},{"./internal/_curry3":140}],340:[function(e,t,n){var r=e("./internal/_curry3"),i=e("./adjust"),o=e("./always"),a=r((function(e,t,n){return i(o(t),e,n)}));t.exports=a},{"./adjust":39,"./always":42,"./internal/_curry3":140}],341:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./curryN"),o=r((function(e,t){return i(t.length,(function(){for(var n=[],r=0;r<t.length;)n.push(t[r].call(this,arguments[r])),r+=1;return e.apply(this,n.concat(Array.prototype.slice.call(arguments,t.length)))}))}));t.exports=o},{"./curryN":75,"./internal/_curry2":139}],342:[function(e,t,n){var r=e("./internal/_curry1"),i=e("./keys"),o=r((function(e){for(var t=i(e),n=t.length,r=[],o=0;o<n;)r[o]=e[t[o]],o+=1;return r}));t.exports=o},{"./internal/_curry1":138,"./keys":208}],343:[function(e,t,n){var r=e("./internal/_curry1")((function(e){var t,n=[];for(t in e)n[n.length]=e[t];return n}));t.exports=r},{"./internal/_curry1":138}],344:[function(e,t,n){var r=function(e){return{value:e,"fantasy-land/map":function(){return this}}},i=e("./internal/_curry2")((function(e,t){return e(r)(t).value}));t.exports=i},{"./internal/_curry2":139}],345:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){return e(n)?t(n):n}));t.exports=r},{"./internal/_curry3":140}],346:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./internal/_has"),o=r((function(e,t){for(var n in e)if(i(n,e)&&!e[n](t[n]))return!1;return!0}));t.exports=o},{"./internal/_curry2":139,"./internal/_has":150}],347:[function(e,t,n){var r=e("./internal/_curry2"),i=e("./equals"),o=e("./map"),a=e("./where"),s=r((function(e,t){return a(o(i,e),t)}));t.exports=s},{"./equals":95,"./internal/_curry2":139,"./map":221,"./where":346}],348:[function(e,t,n){var r=e("./internal/_contains"),i=e("./internal/_curry2"),o=e("./flip"),a=e("./reject"),s=i((function(e,t){return a(o(r)(e),t)}));t.exports=s},{"./flip":103,"./internal/_contains":135,"./internal/_curry2":139,"./reject":288}],349:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){for(var n,r=0,i=e.length,o=t.length,a=[];r<i;){for(n=0;n<o;)a[a.length]=[e[r],t[n]],n+=1;r+=1}return a}));t.exports=r},{"./internal/_curry2":139}],350:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){for(var n=[],r=0,i=Math.min(e.length,t.length);r<i;)n[r]=[e[r],t[r]],r+=1;return n}));t.exports=r},{"./internal/_curry2":139}],351:[function(e,t,n){var r=e("./internal/_curry2")((function(e,t){for(var n=0,r=Math.min(e.length,t.length),i={};n<r;)i[e[n]]=t[n],n+=1;return i}));t.exports=r},{"./internal/_curry2":139}],352:[function(e,t,n){var r=e("./internal/_curry3")((function(e,t,n){for(var r=[],i=0,o=Math.min(t.length,n.length);i<o;)r[i]=e(t[i],n[i]),i+=1;return r}));t.exports=r},{"./internal/_curry3":140}],353:[function(e,t,n){(function(e){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n.renderViewDefault=function(e){return o.default.createElement("div",e)},n.renderTrackHorizontalDefault=function(e){var n=e.style,r=a(e,["style"]),i=t({},n,{right:2,bottom:2,left:2,borderRadius:3});return o.default.createElement("div",t({style:i},r))},n.renderTrackVerticalDefault=function(e){var n=e.style,r=a(e,["style"]),i=t({},n,{right:2,bottom:2,top:2,borderRadius:3});return o.default.createElement("div",t({style:i},r))},n.renderThumbHorizontalDefault=function(e){var n=e.style,r=a(e,["style"]),i=t({},n,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",t({style:i},r))},n.renderThumbVerticalDefault=function(e){var n=e.style,r=a(e,["style"]),i=t({},n,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",t({style:i},r))};var r,i="undefined"!=typeof window?window.React:void 0!==e?e.React:null,o=(r=i)&&r.__esModule?r:{default:r};function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],354:[function(e,t,n){(function(t){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("raf"),a=v(o),s=v(e("dom-css")),l="undefined"!=typeof window?window.React:void 0!==t?t.React:null,c=v(e("prop-types")),u=v(e("../utils/isString")),d=v(e("../utils/getScrollbarWidth")),f=v(e("../utils/returnFalse")),p=v(e("../utils/getInnerWidth")),h=v(e("../utils/getInnerHeight")),m=e("./styles"),g=e("./defaultRenderElements");function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(e){var n;b(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=y(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(i)));return a.getScrollLeft=a.getScrollLeft.bind(a),a.getScrollTop=a.getScrollTop.bind(a),a.getScrollWidth=a.getScrollWidth.bind(a),a.getScrollHeight=a.getScrollHeight.bind(a),a.getClientWidth=a.getClientWidth.bind(a),a.getClientHeight=a.getClientHeight.bind(a),a.getValues=a.getValues.bind(a),a.getThumbHorizontalWidth=a.getThumbHorizontalWidth.bind(a),a.getThumbVerticalHeight=a.getThumbVerticalHeight.bind(a),a.getScrollLeftForOffset=a.getScrollLeftForOffset.bind(a),a.getScrollTopForOffset=a.getScrollTopForOffset.bind(a),a.scrollLeft=a.scrollLeft.bind(a),a.scrollTop=a.scrollTop.bind(a),a.scrollToLeft=a.scrollToLeft.bind(a),a.scrollToTop=a.scrollToTop.bind(a),a.scrollToRight=a.scrollToRight.bind(a),a.scrollToBottom=a.scrollToBottom.bind(a),a.handleTrackMouseEnter=a.handleTrackMouseEnter.bind(a),a.handleTrackMouseLeave=a.handleTrackMouseLeave.bind(a),a.handleHorizontalTrackMouseDown=a.handleHorizontalTrackMouseDown.bind(a),a.handleVerticalTrackMouseDown=a.handleVerticalTrackMouseDown.bind(a),a.handleHorizontalThumbMouseDown=a.handleHorizontalThumbMouseDown.bind(a),a.handleVerticalThumbMouseDown=a.handleVerticalThumbMouseDown.bind(a),a.handleWindowResize=a.handleWindowResize.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleDrag=a.handleDrag.bind(a),a.handleDragEnd=a.handleDragEnd.bind(a),a.state={didMountUniversal:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,o.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r,o=e.scrollWidth,a=void 0===o?0:o,s=e.scrollHeight,l=void 0===s?0:s,c=e.clientWidth,u=void 0===c?0:c,d=e.clientHeight,f=void 0===d?0:d;return{left:n/(a-u)||0,top:i/(l-f)||0,scrollLeft:n,scrollTop:i,scrollWidth:a,scrollHeight:l,clientWidth:u,clientHeight:f}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollWidth,o=r.clientWidth,a=(0,p.default)(this.trackHorizontal),s=Math.ceil(o/i*a);return a===s?0:t||Math.max(s,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollHeight,o=r.clientHeight,a=(0,h.default)(this.trackVertical),s=Math.ceil(o/i*a);return a===s?0:t||Math.max(s,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,r=t.clientWidth;return e/((0,p.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-r)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,r=t.clientHeight;return e/((0,h.default)(this.trackVertical)-this.getThumbVerticalHeight())*(n-r)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),r.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),r.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,r=n.onScroll,i=n.onScrollFrame;r&&r(e),this.update((function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,i&&i(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,r=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),o=Math.abs(r-n)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,r=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),o=Math.abs(r-n)-i/2;this.view.scrollTop=this.getScrollTopForOffset(o)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=r-(n-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=r-(n-i)}},{key:"setupDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=f.default}},{key:"teardownDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var r=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+r-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&a.default.cancel(this.requestFrame),this.requestFrame=(0,a.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,r=t.hideTracksWhenNotNeeded,i=this.getValues();if((0,d.default)()){var o=i.scrollLeft,a=i.clientWidth,l=i.scrollWidth,c=(0,p.default)(this.trackHorizontal),u=this.getThumbHorizontalWidth(),f={width:u,transform:"translateX("+o/(l-a)*(c-u)+"px)"},m=i.scrollTop,g=i.clientHeight,v=i.scrollHeight,b=(0,h.default)(this.trackVertical),y=this.getThumbVerticalHeight(),w={height:y,transform:"translateY("+m/(v-g)*(b-y)+"px)"};if(r){var x={visibility:l>a?"visible":"hidden"},_={visibility:v>g?"visible":"hidden"};(0,s.default)(this.trackHorizontal,x),(0,s.default)(this.trackVertical,_)}(0,s.default)(this.thumbHorizontal,f),(0,s.default)(this.thumbVertical,w)}n&&n(i),"function"==typeof e&&e(i)}},{key:"render",value:function(){var e=this,t=(0,d.default)(),n=this.props,i=(n.onScroll,n.onScrollFrame,n.onScrollStart,n.onScrollStop,n.onUpdate,n.renderView),o=n.renderTrackHorizontal,a=n.renderTrackVertical,s=n.renderThumbHorizontal,c=n.renderThumbVertical,f=n.tagName,p=(n.hideTracksWhenNotNeeded,n.autoHide),h=(n.autoHideTimeout,n.autoHideDuration),g=(n.thumbSize,n.thumbMinSize,n.universal),v=n.autoHeight,b=n.autoHeightMin,y=n.autoHeightMax,w=n.style,x=n.children,_=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),k=this.state.didMountUniversal,S=r({},m.containerStyleDefault,v&&r({},m.containerStyleAutoHeight,{minHeight:b,maxHeight:y}),w),T=r({},m.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},v&&r({},m.viewStyleAutoHeight,{minHeight:(0,u.default)(b)?"calc("+b+" + "+t+"px)":b+t,maxHeight:(0,u.default)(y)?"calc("+y+" + "+t+"px)":y+t}),v&&g&&!k&&{minHeight:b,maxHeight:y},g&&!k&&m.viewStyleUniversalInitial),I={transition:"opacity "+h+"ms",opacity:0},E=r({},m.trackHorizontalStyleDefault,p&&I,(!t||g&&!k)&&{display:"none"}),C=r({},m.trackVerticalStyleDefault,p&&I,(!t||g&&!k)&&{display:"none"});return(0,l.createElement)(f,r({},_,{style:S,ref:function(t){e.container=t}}),[(0,l.cloneElement)(i({style:T}),{key:"view",ref:function(t){e.view=t}},x),(0,l.cloneElement)(o({style:E}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,l.cloneElement)(s({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,l.cloneElement)(a({style:C}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,l.cloneElement)(c({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(l.Component);n.default=w,w.propTypes={onScroll:c.default.func,onScrollFrame:c.default.func,onScrollStart:c.default.func,onScrollStop:c.default.func,onUpdate:c.default.func,renderView:c.default.func,renderTrackHorizontal:c.default.func,renderTrackVertical:c.default.func,renderThumbHorizontal:c.default.func,renderThumbVertical:c.default.func,tagName:c.default.string,thumbSize:c.default.number,thumbMinSize:c.default.number,hideTracksWhenNotNeeded:c.default.bool,autoHide:c.default.bool,autoHideTimeout:c.default.number,autoHideDuration:c.default.number,autoHeight:c.default.bool,autoHeightMin:c.default.oneOfType([c.default.number,c.default.string]),autoHeightMax:c.default.oneOfType([c.default.number,c.default.string]),universal:c.default.bool,style:c.default.object,children:c.default.node},w.defaultProps={renderView:g.renderViewDefault,renderTrackHorizontal:g.renderTrackHorizontalDefault,renderTrackVertical:g.renderTrackVerticalDefault,renderThumbHorizontal:g.renderThumbHorizontalDefault,renderThumbVertical:g.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/getInnerHeight":357,"../utils/getInnerWidth":358,"../utils/getScrollbarWidth":359,"../utils/isString":360,"../utils/returnFalse":361,"./defaultRenderElements":353,"./styles":355,"dom-css":9,"prop-types":31,raf:33}],355:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},n.containerStyleAutoHeight={height:"auto"},n.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},n.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},n.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},n.trackHorizontalStyleDefault={position:"absolute",height:6},n.trackVerticalStyleDefault={position:"absolute",width:6},n.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},n.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},n.disableSelectStyle={userSelect:"none"},n.disableSelectStyleReset={userSelect:""}},{}],356:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Scrollbars=void 0;var r,i=e("./Scrollbars"),o=(r=i)&&r.__esModule?r:{default:r};n.default=o.default,n.Scrollbars=o.default},{"./Scrollbars":354}],357:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,i=n.paddingBottom;return t-parseFloat(r)-parseFloat(i)}},{}],358:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,i=n.paddingRight;return t-parseFloat(r)-parseFloat(i)}},{}],359:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(!1!==a)return a;if("undefined"!=typeof document){var e=document.createElement("div");(0,o.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),a=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else a=0;return a||0};var r,i=e("dom-css"),o=(r=i)&&r.__esModule?r:{default:r};var a=!1},{"dom-css":9}],360:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return"string"==typeof e}},{}],361:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return!1}},{}],362:[function(e,t,n){(function(e){(function(){
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";"production"!==e.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var n=e.$$typeof;switch(n){case t:var p=e.type;switch(p){case c:case u:case i:case a:case o:case f:return p;default:var g=p&&p.$$typeof;switch(g){case l:case d:case m:case h:case s:return g;default:return n}}case r:return n}}}var x=c,_=u,k=l,S=s,T=t,I=d,E=i,C=m,O=h,M=r,D=a,P=o,A=f,N=!1;function R(e){return w(e)===u}n.AsyncMode=x,n.ConcurrentMode=_,n.ContextConsumer=k,n.ContextProvider=S,n.Element=T,n.ForwardRef=I,n.Fragment=E,n.Lazy=C,n.Memo=O,n.Portal=M,n.Profiler=D,n.StrictMode=P,n.Suspense=A,n.isAsyncMode=function(e){return N||(N=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),R(e)||w(e)===c},n.isConcurrentMode=R,n.isContextConsumer=function(e){return w(e)===l},n.isContextProvider=function(e){return w(e)===s},n.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},n.isForwardRef=function(e){return w(e)===d},n.isFragment=function(e){return w(e)===i},n.isLazy=function(e){return w(e)===m},n.isMemo=function(e){return w(e)===h},n.isPortal=function(e){return w(e)===r},n.isProfiler=function(e){return w(e)===a},n.isStrictMode=function(e){return w(e)===o},n.isSuspense=function(e){return w(e)===f},n.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===a||e===o||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===v||e.$$typeof===b||e.$$typeof===y||e.$$typeof===g)},n.typeOf=w}()}).call(this)}).call(this,e("_process"))},{_process:27}],363:[function(e,t,n){
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case v:case g:case c:return e;default:return t}}case o:return t}}}function k(e){return _(e)===f}n.AsyncMode=d,n.ConcurrentMode=f,n.ContextConsumer=u,n.ContextProvider=c,n.Element=i,n.ForwardRef=p,n.Fragment=a,n.Lazy=v,n.Memo=g,n.Portal=o,n.Profiler=l,n.StrictMode=s,n.Suspense=h,n.isAsyncMode=function(e){return k(e)||_(e)===d},n.isConcurrentMode=k,n.isContextConsumer=function(e){return _(e)===u},n.isContextProvider=function(e){return _(e)===c},n.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},n.isForwardRef=function(e){return _(e)===p},n.isFragment=function(e){return _(e)===a},n.isLazy=function(e){return _(e)===v},n.isMemo=function(e){return _(e)===g},n.isPortal=function(e){return _(e)===o},n.isProfiler=function(e){return _(e)===l},n.isStrictMode=function(e){return _(e)===s},n.isSuspense=function(e){return _(e)===h},n.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===y||e.$$typeof===w||e.$$typeof===x||e.$$typeof===b)},n.typeOf=_},{}],364:[function(e,t,n){(function(n){(function(){"use strict";"production"===n.env.NODE_ENV?t.exports=e("./cjs/react-is.production.min.js"):t.exports=e("./cjs/react-is.development.js")}).call(this)}).call(this,e("_process"))},{"./cjs/react-is.development.js":362,"./cjs/react-is.production.min.js":363,_process:27}],365:[function(e,t,n){(function(t){(function(){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.default=n.ReactReduxContext=void 0;var i=r("undefined"!=typeof window?window.React:void 0!==t?t.React:null).default.createContext(null);n.ReactReduxContext=i;var o=i;n.default=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@babel/runtime/helpers/interopRequireDefault":2}],366:[function(e,t,n){(function(t){(function(){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault"),i=e("@babel/runtime/helpers/interopRequireWildcard");n.__esModule=!0,n.default=void 0;var o=i("undefined"!=typeof window?window.React:void 0!==t?t.React:null),a=(r(e("prop-types")),e("./Context")),s=r(e("../utils/Subscription")),l=e("../utils/useIsomorphicLayoutEffect");function c(e){var t=e.store,n=e.context,r=e.children,i=(0,o.useMemo)((function(){var e=new s.default(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),c=(0,o.useMemo)((function(){return t.getState()}),[t]);(0,l.useIsomorphicLayoutEffect)((function(){var e=i.subscription;return e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,c]);var u=n||a.ReactReduxContext;return o.default.createElement(u.Provider,{value:i},r)}var u=c;n.default=u}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/Subscription":380,"../utils/useIsomorphicLayoutEffect":385,"./Context":365,"@babel/runtime/helpers/interopRequireDefault":2,"@babel/runtime/helpers/interopRequireWildcard":3,"prop-types":31}],367:[function(e,t,n){(function(t){(function(){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.default=function(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,i=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,d=n.methodName,w=void 0===d?"connectAdvanced":d,x=n.renderCountProp,_=void 0===x?void 0:x,k=n.shouldHandleStateChanges,S=void 0===k||k,T=n.storeKey,I=void 0===T?"store":T,E=(n.withRef,n.forwardRef),C=void 0!==E&&E,O=n.context,M=void 0===O?f.ReactReduxContext:O,D=(0,a.default)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);var P=M;return function(t){var n=t.displayName||t.name||"Component",r=i(n),d=(0,o.default)({},D,{getDisplayName:i,methodName:w,renderCountProp:_,shouldHandleStateChanges:S,storeKey:I,displayName:r,wrappedComponentName:n,WrappedComponent:t}),f=D.pure;var x=f?l.useMemo:function(e){return e()};function k(n){var r=(0,l.useMemo)((function(){var e=n.reactReduxForwardedRef,t=(0,a.default)(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),i=r[0],s=r[1],f=r[2],w=(0,l.useMemo)((function(){return i&&i.Consumer&&(0,c.isContextConsumer)(l.default.createElement(i.Consumer,null))?i:P}),[i,P]),_=(0,l.useContext)(w),k=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(_)&&Boolean(_.store);var T=k?n.store:_.store,I=(0,l.useMemo)((function(){return function(t){return e(t.dispatch,d)}(T)}),[T]),E=(0,l.useMemo)((function(){if(!S)return h;var e=new u.default(T,k?null:_.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[T,k,_]),C=E[0],O=E[1],M=(0,l.useMemo)((function(){return k?_:(0,o.default)({},_,{subscription:C})}),[k,_,C]),D=(0,l.useReducer)(m,p,y),A=D[0][0],N=D[1];if(A&&A.error)throw A.error;var R=(0,l.useRef)(),H=(0,l.useRef)(f),L=(0,l.useRef)(),j=(0,l.useRef)(!1),F=x((function(){return L.current&&f===H.current?L.current:I(T.getState(),f)}),[T,A,f]);g(v,[H,R,j,f,F,L,O]),g(b,[S,T,C,I,H,R,j,L,O,N],[T,C,I]);var U=(0,l.useMemo)((function(){return l.default.createElement(t,(0,o.default)({},F,{ref:s}))}),[s,t,F]);return(0,l.useMemo)((function(){return S?l.default.createElement(w.Provider,{value:M},U):U}),[w,U,M])}var T=f?l.default.memo(k):k;if(T.WrappedComponent=t,T.displayName=r,C){var E=l.default.forwardRef((function(e,t){return l.default.createElement(T,(0,o.default)({},e,{reactReduxForwardedRef:t}))}));return E.displayName=r,E.WrappedComponent=t,(0,s.default)(E,t)}return(0,s.default)(T,t)}};var o=i(e("@babel/runtime/helpers/extends")),a=i(e("@babel/runtime/helpers/objectWithoutPropertiesLoose")),s=i(e("hoist-non-react-statics")),l=r("undefined"!=typeof window?window.React:void 0!==t?t.React:null),c=e("react-is"),u=i(e("../utils/Subscription")),d=e("../utils/useIsomorphicLayoutEffect"),f=e("./Context"),p=[],h=[null,null];function m(e,t){var n=e[1];return[t.payload,n+1]}function g(e,t,n){(0,d.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),n)}function v(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function b(e,t,n,r,i,o,a,s,l,c){if(e){var u=!1,d=null,f=function(){if(!u){var e,n,f=t.getState();try{e=r(f,i.current)}catch(e){n=e,d=e}n||(d=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var y=function(){return[null,0]}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/Subscription":380,"../utils/useIsomorphicLayoutEffect":385,"./Context":365,"@babel/runtime/helpers/extends":1,"@babel/runtime/helpers/interopRequireDefault":2,"@babel/runtime/helpers/interopRequireWildcard":3,"@babel/runtime/helpers/objectWithoutPropertiesLoose":4,"hoist-non-react-statics":10,"react-is":364}],368:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.createConnect=h,n.default=void 0;var i=r(e("@babel/runtime/helpers/extends")),o=r(e("@babel/runtime/helpers/objectWithoutPropertiesLoose")),a=r(e("../components/connectAdvanced")),s=r(e("../utils/shallowEqual")),l=r(e("./mapDispatchToProps")),c=r(e("./mapStateToProps")),u=r(e("./mergeProps")),d=r(e("./selectorFactory"));function f(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function p(e,t){return e===t}function h(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?a.default:n,h=t.mapStateToPropsFactories,m=void 0===h?c.default:h,g=t.mapDispatchToPropsFactories,v=void 0===g?l.default:g,b=t.mergePropsFactories,y=void 0===b?u.default:b,w=t.selectorFactory,x=void 0===w?d.default:w;return function(e,t,n,a){void 0===a&&(a={});var l=a,c=l.pure,u=void 0===c||c,d=l.areStatesEqual,h=void 0===d?p:d,g=l.areOwnPropsEqual,b=void 0===g?s.default:g,w=l.areStatePropsEqual,_=void 0===w?s.default:w,k=l.areMergedPropsEqual,S=void 0===k?s.default:k,T=(0,o.default)(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),I=f(e,m,"mapStateToProps"),E=f(t,v,"mapDispatchToProps"),C=f(n,y,"mergeProps");return r(x,(0,i.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:I,initMapDispatchToProps:E,initMergeProps:C,pure:u,areStatesEqual:h,areOwnPropsEqual:b,areStatePropsEqual:_,areMergedPropsEqual:S},T))}}var m=h();n.default=m},{"../components/connectAdvanced":367,"../utils/shallowEqual":384,"./mapDispatchToProps":369,"./mapStateToProps":370,"./mergeProps":371,"./selectorFactory":372,"@babel/runtime/helpers/extends":1,"@babel/runtime/helpers/interopRequireDefault":2,"@babel/runtime/helpers/objectWithoutPropertiesLoose":4}],369:[function(e,t,n){"use strict";n.__esModule=!0,n.whenMapDispatchToPropsIsFunction=o,n.whenMapDispatchToPropsIsMissing=a,n.whenMapDispatchToPropsIsObject=s,n.default=void 0;var r=e("redux"),i=e("./wrapMapToProps");function o(e){return"function"==typeof e?(0,i.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function a(e){return e?void 0:(0,i.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function s(e){return e&&"object"==typeof e?(0,i.wrapMapToPropsConstant)((function(t){return(0,r.bindActionCreators)(e,t)})):void 0}var l=[o,a,s];n.default=l},{"./wrapMapToProps":374,redux:395}],370:[function(e,t,n){"use strict";n.__esModule=!0,n.whenMapStateToPropsIsFunction=i,n.whenMapStateToPropsIsMissing=o,n.default=void 0;var r=e("./wrapMapToProps");function i(e){return"function"==typeof e?(0,r.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:(0,r.wrapMapToPropsConstant)((function(){return{}}))}var a=[i,o];n.default=a},{"./wrapMapToProps":374}],371:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.defaultMergeProps=o,n.wrapMergePropsFunc=a,n.whenMergePropsIsFunction=s,n.whenMergePropsIsOmitted=l,n.default=void 0;var i=r(e("@babel/runtime/helpers/extends"));r(e("../utils/verifyPlainObject"));function o(e,t,n){return(0,i.default)({},n,e,t)}function a(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}function s(e){return"function"==typeof e?a(e):void 0}function l(e){return e?void 0:function(){return o}}var c=[s,l];n.default=c},{"../utils/verifyPlainObject":386,"@babel/runtime/helpers/extends":1,"@babel/runtime/helpers/interopRequireDefault":2}],372:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.impureFinalPropsSelectorFactory=o,n.pureFinalPropsSelectorFactory=a,n.default=function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,s=t.initMergeProps,l=(0,i.default)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(e,l),u=r(e,l),d=s(e,l);0;return(l.pure?a:o)(c,u,d,e,l)};var i=r(e("@babel/runtime/helpers/objectWithoutPropertiesLoose"));r(e("./verifySubselectors"));function o(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function a(e,t,n,r,i){var o,a,s,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1;function h(i,p){var h,m,g=!d(p,a),v=!u(i,o);return o=i,a=p,g&&v?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):v?(h=e(o,a),m=!f(h,s),s=h,m&&(c=n(s,l,a)),c):c}return function(i,u){return p?h(i,u):(s=e(o=i,a=u),l=t(r,a),c=n(s,l,a),p=!0,c)}}},{"./verifySubselectors":373,"@babel/runtime/helpers/interopRequireDefault":2,"@babel/runtime/helpers/objectWithoutPropertiesLoose":4}],373:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.default=function(e,t,n,r){o(e,"mapStateToProps",r),o(t,"mapDispatchToProps",r),o(n,"mergeProps",r)};var i=r(e("../utils/warning"));function o(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,i.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}},{"../utils/warning":387,"@babel/runtime/helpers/interopRequireDefault":2}],374:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.wrapMapToPropsConstant=function(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}},n.getDependsOnOwnProps=i,n.wrapMapToPropsFunc=function(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=i(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=i(o),o=r(t,n)),o},r}};r(e("../utils/verifyPlainObject"));function i(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}},{"../utils/verifyPlainObject":386,"@babel/runtime/helpers/interopRequireDefault":2}],375:[function(e,t,n){"use strict";n.__esModule=!0,n.createDispatchHook=o,n.useDispatch=void 0;var r=e("../components/Context"),i=e("./useStore");function o(e){void 0===e&&(e=r.ReactReduxContext);var t=e===r.ReactReduxContext?i.useStore:(0,i.createStoreHook)(e);return function(){return t().dispatch}}var a=o();n.useDispatch=a},{"../components/Context":365,"./useStore":378}],376:[function(e,t,n){(function(t){(function(){"use strict";n.__esModule=!0,n.useReduxContext=function(){var e=(0,r.useContext)(i.ReactReduxContext);0;return e};var r="undefined"!=typeof window?window.React:void 0!==t?t.React:null,i=e("../components/Context")}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/Context":365}],377:[function(e,t,n){(function(t){(function(){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.createSelectorHook=u,n.useSelector=void 0;var i="undefined"!=typeof window?window.React:void 0!==t?t.React:null,o=e("./useReduxContext"),a=r(e("../utils/Subscription")),s=e("../utils/useIsomorphicLayoutEffect"),l=e("../components/Context"),c=function(e,t){return e===t};function u(e){void 0===e&&(e=l.ReactReduxContext);var t=e===l.ReactReduxContext?o.useReduxContext:function(){return(0,i.useContext)(e)};return function(e,n){void 0===n&&(n=c);var r=t(),o=function(e,t,n,r){var o,l=(0,i.useReducer)((function(e){return e+1}),0)[1],c=(0,i.useMemo)((function(){return new a.default(n,r)}),[n,r]),u=(0,i.useRef)(),d=(0,i.useRef)(),f=(0,i.useRef)(),p=(0,i.useRef)(),h=n.getState();try{if(e!==d.current||h!==f.current||u.current){var m=e(h);o=void 0!==p.current&&t(m,p.current)?p.current:m}else o=p.current}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return(0,s.useIsomorphicLayoutEffect)((function(){d.current=e,f.current=h,p.current=o,u.current=void 0})),(0,s.useIsomorphicLayoutEffect)((function(){function e(){try{var e=d.current(n.getState());if(t(e,p.current))return;p.current=e}catch(e){u.current=e}l()}return c.onStateChange=e,c.trySubscribe(),e(),function(){return c.tryUnsubscribe()}}),[n,c]),o}(e,n,r.store,r.subscription);return(0,i.useDebugValue)(o),o}}var d=u();n.useSelector=d}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/Context":365,"../utils/Subscription":380,"../utils/useIsomorphicLayoutEffect":385,"./useReduxContext":376,"@babel/runtime/helpers/interopRequireDefault":2}],378:[function(e,t,n){(function(t){(function(){"use strict";n.__esModule=!0,n.createStoreHook=a,n.useStore=void 0;var r="undefined"!=typeof window?window.React:void 0!==t?t.React:null,i=e("../components/Context"),o=e("./useReduxContext");function a(e){void 0===e&&(e=i.ReactReduxContext);var t=e===i.ReactReduxContext?o.useReduxContext:function(){return(0,r.useContext)(e)};return function(){return t().store}}var s=a();n.useStore=s}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/Context":365,"./useReduxContext":376}],379:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0;var i=r(e("./components/Provider"));n.Provider=i.default;var o=r(e("./components/connectAdvanced"));n.connectAdvanced=o.default;var a=e("./components/Context");n.ReactReduxContext=a.ReactReduxContext;var s=r(e("./connect/connect"));n.connect=s.default;var l=e("./hooks/useDispatch");n.useDispatch=l.useDispatch,n.createDispatchHook=l.createDispatchHook;var c=e("./hooks/useSelector");n.useSelector=c.useSelector,n.createSelectorHook=c.createSelectorHook;var u=e("./hooks/useStore");n.useStore=u.useStore,n.createStoreHook=u.createStoreHook;var d=e("./utils/batch"),f=e("./utils/reactBatchedUpdates");n.batch=f.unstable_batchedUpdates;var p=r(e("./utils/shallowEqual"));n.shallowEqual=p.default,(0,d.setBatch)(f.unstable_batchedUpdates)},{"./components/Context":365,"./components/Provider":366,"./components/connectAdvanced":367,"./connect/connect":368,"./hooks/useDispatch":375,"./hooks/useSelector":377,"./hooks/useStore":378,"./utils/batch":381,"./utils/reactBatchedUpdates":383,"./utils/shallowEqual":384,"@babel/runtime/helpers/interopRequireDefault":2}],380:[function(e,t,n){"use strict";n.__esModule=!0,n.default=void 0;var r=e("./batch"),i={notify:function(){}};var o=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=i,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=(0,r.getBatch)(),t=null,n=null,{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=i)},e}();n.default=o},{"./batch":381}],381:[function(e,t,n){"use strict";n.__esModule=!0,n.getBatch=n.setBatch=void 0;var r=function(e){e()};n.setBatch=function(e){return r=e};n.getBatch=function(){return r}},{}],382:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}},{}],383:[function(e,t,n){(function(e){(function(){"use strict";n.__esModule=!0,n.unstable_batchedUpdates=void 0;var t="undefined"!=typeof window?window.ReactDOM:void 0!==e?e.ReactDOM:null;n.unstable_batchedUpdates=t.unstable_batchedUpdates}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],384:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}n.__esModule=!0,n.default=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!r(e[n[o]],t[n[o]]))return!1;return!0}},{}],385:[function(e,t,n){(function(e){(function(){"use strict";n.__esModule=!0,n.useIsomorphicLayoutEffect=void 0;var t="undefined"!=typeof window?window.React:void 0!==e?e.React:null,r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;n.useIsomorphicLayoutEffect=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],386:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");n.__esModule=!0,n.default=function(e,t,n){(0,i.default)(e)||(0,o.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")};var i=r(e("./isPlainObject")),o=r(e("./warning"))},{"./isPlainObject":382,"./warning":387,"@babel/runtime/helpers/interopRequireDefault":2}],387:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},{}],388:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return a(e),function(t){return function(n){a(e);try{return t(n)}finally{a(e)}}}};var r,i=e("deep-freeze-strict"),o=(r=i)&&r.__esModule?r:{default:r};function a(e){var t,n=e.getState();null!==(t=n)&&"object"==typeof t&&(0,o.default)(n)}t.exports=n.default},{"deep-freeze-strict":8}],389:[function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}n.__esModule=!0;var i=r();i.withExtraArgument=r,n.default=i},{}],390:[function(e,t,n){"use strict";n.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,i,o){var s,l=e(n,i,o),c=l.dispatch,u={getState:l.getState,dispatch:function(e){return c(e)}};return s=t.map((function(e){return e(u)})),c=a.default.apply(void 0,s)(l.dispatch),r({},l,{dispatch:c})}}};var i,o=e("./compose"),a=(i=o)&&i.__esModule?i:{default:i}},{"./compose":393}],391:[function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}n.__esModule=!0,n.default=function(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},o=0;o<n.length;o++){var a=n[o],s=e[a];"function"==typeof s&&(i[a]=r(s,t))}return i}},{}],392:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var a=t[i];0,"function"==typeof e[a]&&(n[a]=e[a])}var s=Object.keys(n);0;var l=void 0;try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:r.ActionTypes.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){l=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var r=!1,i={},a=0;a<s.length;a++){var c=s[a],u=n[c],d=e[c],f=u(d,t);if(void 0===f){var p=o(c,t);throw new Error(p)}i[c]=f,r=r||f!==d}return r?i:e}};var r=e("./createStore");i(e("lodash/isPlainObject")),i(e("./utils/warning"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}},{"./createStore":394,"./utils/warning":396,"lodash/isPlainObject":22}],393:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];return t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}},{}],394:[function(e,t,n){"use strict";n.__esModule=!0,n.ActionTypes=void 0,n.default=function e(t,n,o){var s;"function"==typeof n&&void 0===o&&(o=n,n=void 0);if(void 0!==o){if("function"!=typeof o)throw new Error("Expected the enhancer to be a function.");return o(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var l=t,c=n,u=[],d=u,f=!1;function p(){d===u&&(d=u.slice())}function h(){return c}function m(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return p(),d.push(e),function(){if(t){t=!1,p();var n=d.indexOf(e);d.splice(n,1)}}}function g(e){if(!(0,r.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,c=l(c,e)}finally{f=!1}for(var t=u=d,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:a.INIT}),(s={dispatch:g,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,g({type:a.INIT})}})[i.default]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[i.default]=function(){return this},e},s};var r=o(e("lodash/isPlainObject")),i=o(e("symbol-observable"));function o(e){return e&&e.__esModule?e:{default:e}}var a=n.ActionTypes={INIT:"@@redux/INIT"}},{"lodash/isPlainObject":22,"symbol-observable":397}],395:[function(e,t,n){"use strict";n.__esModule=!0,n.compose=n.applyMiddleware=n.bindActionCreators=n.combineReducers=n.createStore=void 0;var r=l(e("./createStore")),i=l(e("./combineReducers")),o=l(e("./bindActionCreators")),a=l(e("./applyMiddleware")),s=l(e("./compose"));l(e("./utils/warning"));function l(e){return e&&e.__esModule?e:{default:e}}n.createStore=r.default,n.combineReducers=i.default,n.bindActionCreators=o.default,n.applyMiddleware=a.default,n.compose=s.default},{"./applyMiddleware":390,"./bindActionCreators":391,"./combineReducers":392,"./compose":393,"./createStore":394,"./utils/warning":396}],396:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},{}],397:[function(e,t,n){(function(r){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o,a=e("./ponyfill.js"),s=(i=a)&&i.__esModule?i:{default:i};o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:void 0!==t?t:Function("return this")();var l=(0,s.default)(o);n.default=l}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill.js":398}],398:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},{}],399:[function(e,t,n){var r=e("to-space-case");t.exports=function(e){return r(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},{"to-space-case":401}],400:[function(e,t,n){t.exports=function(e){return r.test(e)?e.toLowerCase():i.test(e)?(function(e){return e.replace(a,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():o.test(e)?function(e){return e.replace(s,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var r=/\s/,i=/(_|-|\.|:)/,o=/([a-z][A-Z]|[A-Z][a-z])/;var a=/[\W_]+(.|$)/g;var s=/(.)([A-Z]+)/g},{}],401:[function(e,t,n){var r=e("to-no-case");t.exports=function(e){return r(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},{"to-no-case":400}],402:[function(e,t,n){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,o="ArrayBuffer"in e;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};h.prototype.append=function(e,t){e=d(e),t=f(t);var n=this.map[e];this.map[e]=n?n+","+t:t},h.prototype.delete=function(e){delete this.map[d(e)]},h.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},h.prototype.set=function(e,t){this.map[d(e)]=f(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var u=[301,302,303,307,308];_.redirect=function(e,t){if(-1===u.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},e.Headers=h,e.Request=w,e.Response=_,e.fetch=function(e,t){return new Promise((function(n,i){var o=new w(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new _(i,r))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0}function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&r&&s(e))this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=b(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n,r=m(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=g(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}function w(e,t){var n,r,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),c.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function x(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},{}],403:[function(e,t,n){t.exports={colorsJson:{home:{main:"#660099"},message:{main:"#660099"},preferences:{main:"#660099"},task:{main:"#066c96"},attendance:{main:"#1B78CB"},homework:{main:"#EC9300"},communication:{main:"#B81A41"},calendar:{main:"#027D43"},calendarv2:{main:"#CA5010"},classlist:{main:"#11884D"},timeregistration:{main:"#0076B9"},uol:{main:"#B031AC"},uolv2:{main:"#B031AC"},grouptimeline:{main:"#8B5AB4"},parentmeeting:{main:"#4D65C4"},portfolio:{main:"#007789"},onlinetest:{main:"#745BD8"},survey:{main:"#660099"},assessmentv2:{main:"#606879"},timetable:{main:"#BB126E"},familyweb:{main:"#8A00CE"},skola24:{main:"#1B78CB"},documentation:{main:"#007789"}}}},{}],404:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeToTriggerUpdate=n.pollServerForNotifications=n.clearNotifications=n.markAllAsSeen=n.markNotificationAsRead=n.toggleNotificationsPanelOpen=n.getInitialData=void 0;var r,i=e("../constants"),o=e("./server"),a=e("./nativeApp"),s=(r=e("ramda"))&&r.__esModule?r:{default:r},l=e("../subscriptions/Publications");n.getInitialData=function(){return function(e){return fetch(IMHome.home.homeData.urls.notificationAppData,i.defaultFetchParams).then((function(e){return e.json()})).then((function(t){e({type:i.actionTypes.RECEIVE_INITIAL_DATA,data:t}),(0,l.publishNotifications)(t.notifications),e(a.publishPupilNotificationCounts)}))}};n.toggleNotificationsPanelOpen=function(e){return{type:i.actionTypes.TOGGLE_NOTIFICATIONS_PANEL_OPEN,data:e}};n.markNotificationAsRead=function(e){return function(t,n){var r=n(),o=r.base,l=r.notifications;if(s.default.pipe(s.default.map(s.default.prop("state")),s.default.any(s.default.contains(s.default.__,[i.notificationStates.NEW,i.notificationStates.SEEN])))(l.notifications))return fetch(o.urls.updateState,s.default.merge(i.defaultFetchParams,{body:JSON.stringify({ids:[e],state:i.notificationStates.READ})})).then((function(e){return e.json()})).then((function(n){n.success&&(t({type:i.actionTypes.MARK_NOTIFICATION_AS_READ,data:e}),t(a.publishPupilNotificationCounts))}))}};n.markAllAsSeen=function(){return function(e,t){var n=t(),r=n.notifications.notifications,o=n.base.urls,l=s.default.pipe(s.default.filter(s.default.propEq("state",i.notificationStates.NEW)),s.default.map(s.default.prop("id")))(r);if(l.length>0)return fetch(o.updateState,s.default.merge(i.defaultFetchParams,{body:JSON.stringify({ids:l,state:i.notificationStates.SEEN})})).then((function(e){return e.json()})).then((function(t){t&&(e({type:i.actionTypes.MARK_ALL_AS_SEEN,data:l}),e(a.publishPupilNotificationCounts))}))}};n.clearNotifications=function(){return function(e,t){var n=t(),r=n.base.urls,o=n.notifications.notifications,l=s.default.pipe(s.default.reject(s.default.propEq("state","Cleared")),s.default.map(s.default.prop("id")))(o);if(!s.default.isEmpty(l))return fetch(r.updateState,s.default.merge(i.defaultFetchParams,{body:JSON.stringify({ids:l,state:i.notificationStates.CLEARED})})).then((function(e){return e.json()})).then((function(t){t&&(e({type:i.actionTypes.MARK_ALL_AS_CLEARED,data:l}),e(a.publishPupilNotificationCounts))}))}};var c=function(e,t){return e.some((function(e){return s.default.contains(e.type,t)}))};n.pollServerForNotifications=function(e){return function(t,n){var r=function(){t((0,o.getServerUpdate)())},i=setInterval(r,e);$.subscribe("notification/triggerUpdate",(function(t,o){var a=o.types,s=n(),l=s.notifications.notifications;!(!0===s.base.impersonation)&&c(l,a)&&(clearInterval(i),i=setInterval(r,e))}))}};n.subscribeToTriggerUpdate=function(){return function(e,t){$.subscribe("notification/triggerUpdate",(function(n,r){var i=r.types,a=t(),s=a.notifications.notifications;!(!0===a.base.impersonation)&&c(s,i)&&e((0,o.getServerUpdate)())}))}}},{"../constants":411,"../subscriptions/Publications":422,"./nativeApp":405,"./server":406,ramda:118}],405:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.publishPupilNotificationCounts=void 0;var r,i=(r=e("ramda"))&&r.__esModule?r:{default:r},o=e("../constants");n.publishPupilNotificationCounts=function(e,t){var n=t().notifications.allPupilNotifications,r=i.default.pipe(i.default.sortBy(i.default.prop("pupilIM2Id")),i.default.groupWith((function(e,t){return e.pupilIM2Id===t.pupilIM2Id})),i.default.map((function(e){return{pupilIM2Id:e[0].pupilIM2Id,pupilSourceId:e[0].pupilSourceId,count:e.filter(i.default.propEq("state",o.notificationStates.NEW)).length}})))(n||[]);$.publish("notification/pupilNewCounts",[r]),e({type:o.actionTypes.PUBLISH_PUPIL_NEW_COUNTS,pupilCounts:r})}},{"../constants":411,ramda:118}],406:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getServerUpdate=void 0;var r,i=e("../constants"),o=e("./nativeApp"),a=e("../subscriptions/Publications"),s=(r=e("ramda"))&&r.__esModule?r:{default:r};n.getServerUpdate=function(){return function(e,t){var n=t(),r=n.base.urls,l=n.notifications.timestamp;return fetch(r.getAppNotifications,s.default.merge(i.defaultFetchParams,{body:JSON.stringify({timestamp:l})})).then((function(e){return e.json()})).then((function(t){e({type:i.actionTypes.SERVER_UPDATE_NOTIFICATIONS,data:t}),(0,a.publishNotifications)(t.notifications),e(o.publishPupilNotificationCounts)}))}}},{"../constants":411,"../subscriptions/Publications":422,"./nativeApp":405,ramda:118}],407:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.receiveSVGXML=n.getSVGSprite=void 0;var r=e("../constants");n.getSVGSprite=function(){return function(e){fetch("dist/images/svgiconsprite.xml?".concat(IMHome.init.cacheKey),{credentials:"same-origin",headers:{Accept:"application/xml, text/xml, */*; q=0.01"}}).then((function(e){return e.text()})).then((function(e){return(new window.DOMParser).parseFromString(e,"text/xml")})).then((function(t){e(i(t))}))}};var i=function(e){return{type:r.actionTypes.RECEIVE_SVG_XML,xml:e}};n.receiveSVGXML=i},{"../constants":411}],408:[function(e,t,n){(function(t){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o("undefined"!=typeof window?window.React:void 0!==t?t.React:null),i=o(e("../containers/NotificationListContainer"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){return r.default.createElement(i.default,null)};n.default=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../containers/NotificationListContainer":412}],409:[function(e,t,n){(function(t){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u("undefined"!=typeof window?window.React:void 0!==t?t.React:null),i=u(e("../containers/TestIdContainer")),o=u(e("classnames")),a=u(e("../styles/notifications.scss")),s=u(e("../containers/SVGIconContainer")),l=e("../utils/StyleUtils"),c=e("../subscriptions/Publications");function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n=(0,o.default)((d(t={},a.default.notification,!0),d(t,a.default[e.state.toLowerCase()],!0),t)),u={background:(0,l.hexToRgbaString)(e.colour,.8)},f="title-notification-".concat(e.id),p="meta-notification-".concat(e.id),h="flag-new-notification-".concat(e.id);return r.default.createElement("div",{className:n},r.default.createElement(i.default,{testId:"notification__type-".concat(e.appType,"--").concat(e.id)},r.default.createElement("a",{role:"menuitem",ref:e.anchorRef,tabIndex:e.tabIndex,className:a.default.notificationLink,href:e.url,onClick:c.closeNotificationSideBar,"aria-labelledby":"".concat(f," ").concat(p," ").concat(h)},r.default.createElement("div",{className:a.default.notificationInnerContainer},r.default.createElement("div",{className:a.default.notificationIconBadgeContainer},r.default.createElement("div",{style:u,className:a.default.notificationIconBadge},r.default.createElement(s.default,{iconId:e.iconId,cssClassName:a.default.notificationIcon}))),r.default.createElement("div",{className:a.default.notificationMain},r.default.createElement("div",{className:a.default.notificationTitle,id:f},e.title),r.default.createElement("div",{className:a.default.notificationDetails,id:p},r.default.createElement("span",{className:a.default.notificationSubTitle},e.subTitle),e.subTitle?r.default.createElement("span",{className:a.default.notificationSeparator}):"",r.default.createElement("span",{className:a.default.notificationDateSent},e.dateSent)))),r.default.createElement("span",{className:a.default.notificationNewFlag,id:h},r.default.createElement("div",{"aria-hidden":"New"!==e.state&&!0},e.newFlagTitle)))))};n.default=f}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../containers/SVGIconContainer":413,"../containers/TestIdContainer":414,"../styles/notifications.scss":421,"../subscriptions/Publications":422,"../utils/StyleUtils":426,classnames:7}],410:[function(e,t,n){(function(t){(function(){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}("undefined"!=typeof window?window.React:void 0!==t?t.React:null),o=f(e("../styles/notifications.scss")),a=f(e("ramda")),s=f(e("../containers/SVGIconContainer")),l=e("../constants"),c=e("react-custom-scrollbars"),u=f(e("./Notification")),d=f(e("../customHooks/useRoveFocus"));function f(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){var t=(0,i.createRef)();return(0,i.useEffect)((function(){e.focus&&t.current.focus()}),[e.focus,t]),i.default.createElement(u.default,g({},e,{anchorRef:t,tabIndex:e.focus?"0":"-1"}))},b=function(e){var t=e.updateNotificationCounts,n=e.clearNotifications,r=e.notifications,u=e.translations,f=e.isReadOnly,p=e.isNotificationPanelOpen;r=r||[],u=u||{},(0,i.useEffect)((function(){return t(r.filter((function(e){return e.state===l.notificationStates.NEW})).length)}),[r]);var m=a.default.reject(a.default.propEq("state",l.notificationStates.CLEARED))(r),b=a.default.reject(a.default.propEq("locallyCleared",!0))(m),y=!a.default.isEmpty(b),w={display:!a.default.isEmpty(m)&&!f?null:"none"},x={renderTrackHorizontal:function(e){return i.default.createElement("div",g({},e,{className:"track-horizontal",style:{display:"none"}}))},renderThumbHorizontal:function(e){return i.default.createElement("div",g({},e,{className:"thumb-horizontal",style:{display:"none"}}))}},_=(0,i.useRef)(),k=h((0,d.default)(b,p,_),1)[0];return i.default.createElement("div",null,i.default.createElement("div",{role:"heading","aria-level":"2",className:o.default.notificationHeader},u.title),i.default.createElement("div",{className:o.default.notificationContent},y?i.default.createElement(c.Scrollbars,g({style:{height:"100%"}},x),i.default.createElement("ul",{"aria-label":"Notifications",role:"menu"},b.map((function(e,t){return i.default.createElement("li",{role:"none",key:e.id},i.default.createElement(v,g({},e,{newFlagTitle:u.new,focus:p&&k===t,index:t})))})))):i.default.createElement("div",{className:o.default.noNotificationsContainer},i.default.createElement(s.default,{iconId:"bell",cssClassName:o.default.noNotificationsIcon}),i.default.createElement("div",{className:o.default.noNotificationsText},u.noNotifications,i.default.createElement("br",null),u.pupilName))),i.default.createElement("div",{className:o.default.notificationFooter},i.default.createElement("button",{className:o.default.clearButton,style:w,onClick:n,tabIndex:p?"0":"-1",ref:_},i.default.createElement("div",{className:o.default.clearButtonText},u.clearList),i.default.createElement(s.default,{iconId:"dustbin",cssClassName:o.default.clearIcon}))))};n.default=b}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../constants":411,"../containers/SVGIconContainer":413,"../customHooks/useRoveFocus":415,"../styles/notifications.scss":421,"./Notification":409,ramda:118,"react-custom-scrollbars":356}],411:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NOTIFICATION_TEST_ID_PREFIX=n.notificationStates=n.defaultFetchParams=n.actionTypes=void 0;n.actionTypes={RECEIVE_SVG_XML:"RECEIVE_SVG_XML",MARK_ALL_AS_SEEN:"MARK_ALL_AS_SEEN",MARK_NOTIFICATION_AS_READ:"MARK_NOTIFICATION_AS_READ",SERVER_UPDATE_NOTIFICATIONS:"SERVER_UPDATE_NOTIFICATIONS",RECEIVE_INITIAL_DATA:"RECEIVE_INITIAL_DATA",UPDATE_HEADER_COUNT:"UPDATE_HEADER_COUNT",PUBLISH_PUPIL_NEW_COUNTS:"PUBLISH_PUPIL_NEW_COUNTS",MARK_ALL_AS_CLEARED:"MARK_ALL_AS_CLEARED",MARK_ALL_AS_LOCAL_CLEARED:"MARK_ALL_AS_LOCAL_CLEARED",UNDO_LOCAL_CLEAR:"UNDO_LOCAL_CLEAR",TOGGLE_NOTIFICATIONS_PANEL_OPEN:"TOGGLE_NOTIFICATIONS_PANEL_OPEN"};n.defaultFetchParams={headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},method:"POST",credentials:"same-origin"};n.notificationStates={NEW:"New",SEEN:"Seen",READ:"Read",CLEARED:"Cleared"};n.NOTIFICATION_TEST_ID_PREFIX="notifications-panel/"},{}],412:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("react-redux"),i=d(e("../components/NotificationList")),o=e("../utils/DateUtils"),a=e("../utils/NotificationGroupMappings"),s=d(e("ramda")),l=e("../subscriptions/Publications"),c=e("redux"),u=e("../actions");function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,r.connect)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.notifications.notifications,n=e.base,r=n.impersonation,i=n.translations,c=n.isNotificationPanelOpen;return{updateNotificationCounts:l.publishUpdateToNotificationCount,notifications:s.default.pipe(s.default.defaultTo([]),s.default.map(s.default.pipe(s.default.evolve({dateSent:(0,o.getDateTextRelativeToNow)(i)}),IMHome.core.assocWith(s.default.pipe(s.default.prop("appType"),a.getIconIdFromNotificationType),"iconId"),IMHome.core.assocWith(s.default.pipe(s.default.prop("appType"),a.getColourFromNotificationType),"colour"))))(t),translations:i,isReadOnly:r,isNotificationPanelOpen:c}}),(function(e){return(0,c.bindActionCreators)({clearNotifications:u.clearNotifications},e)}))(i.default);n.default=f},{"../actions":404,"../components/NotificationList":410,"../subscriptions/Publications":422,"../utils/DateUtils":424,"../utils/NotificationGroupMappings":425,ramda:118,"react-redux":379,redux:395}],413:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=e("react-redux"),o=(r=e("im-react-component-svg-icon"))&&r.__esModule?r:{default:r};var a=(0,i.connect)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{xml:e.base.SVGSprite}}))(o.default);n.default=a},{"im-react-component-svg-icon":11,"react-redux":379}],414:[function(e,t,n){(function(t){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a("undefined"!=typeof window?window.React:void 0!==t?t.React:null),i=a(e("im-react-component-test-id-container")),o=e("../constants");function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.testId,n=e.children,a="/"+o.NOTIFICATION_TEST_ID_PREFIX+t.toLowerCase();return r.default.createElement(i.default,{testId:a},n)};n.default=s}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../constants":411,"im-react-component-test-id-container":12}],415:[function(e,t,n){(function(t){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r="undefined"!=typeof window?window.ReactDOM:void 0!==t?t.ReactDOM:null)&&r.__esModule?r:{default:r},o="undefined"!=typeof window?window.React:void 0!==t?t.React:null,a=e("../subscriptions/Publications");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e,t,n){var r=e.length,c=l((0,o.useState)(0),2),u=c[0],d=c[1],f=9,p=27,h=32,m=33,g=34,v=35,b=36,y=38,w=40,x="LETTERS",_="SYMBOLS_NUMBERS",k=(0,o.useCallback)((function(t){var o,l=t.keyCode,c=function(){t.stopPropagation(),t.preventDefault()},k=function(t,n){return e.map((function(e){return e.title.charAt(0).toLowerCase()})).map((function(e,r){return r>t&&n===e})).indexOf(!0)},S=function(e){return k(u,e)>-1?d(k(u,e)):d(k(0,e)>=0?k(0,e):0)},T=(s(o={},f,(function(e){var t=document.activeElement===i.default.findDOMNode(n.current);e&&!t&&(c(),(0,a.closeNotificationSideBar)(),(0,a.publishEscPressed)())})),s(o,h,(function(){c(),window.location.href=t.path[0].href})),s(o,p,(function(){c(),(0,a.closeNotificationSideBar)(),(0,a.publishEscPressed)()})),s(o,m,(function(){c(),d(u-5<=0?0:u-5)})),s(o,g,(function(){c(),d(u+5>=r-1?r-1:u+5)})),s(o,v,(function(){c(),d(r-1)})),s(o,b,(function(){c(),d(0)})),s(o,y,(function(){c(),d(0===u?r-1:u-1)})),s(o,w,(function(){c(),d(u===r-1?0:u+1)})),s(o,x,(function(){S(t.key.toLowerCase())})),s(o,_,(function(){S(t.key)})),o),I=[f,h,p,m,g,v,b,y,w,x,_];return/[^A-Za-z]/.test(t.key)?T[_]():l>=65&&l<=90?T[x]():-1!==I.indexOf(l)?T[l](t.shiftKey):void 0}),[e,u,r]);return(0,o.useEffect)((function(){if(t)return document.addEventListener("keydown",k,!1),function(){document.removeEventListener("keydown",k,!1)}}),[k]),[u,d]};n.default=u}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../subscriptions/Publications":422}],416:[function(e,t,n){(function(t){(function(){"use strict";e("whatwg-fetch");var n=u("undefined"!=typeof window?window.React:void 0!==t?t.React:null),r="undefined"!=typeof window?window.ReactDOM:void 0!==t?t.ReactDOM:null,i=u(e("./components/App")),o=u(e("./store")),a=e("react-redux"),s=e("./subscriptions/Subscriptions"),l=e("./actions/svgIcons"),c=e("./actions");function u(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",(function(){!1!==IMHome.home.homeData.hasNotificationApp&&(o.default.dispatch((0,s.subscribeToToggleOpen)()),o.default.dispatch((0,s.subscribeToMarkNotificationAsRead)()),o.default.dispatch((0,c.getInitialData)()),o.default.dispatch((0,l.getSVGSprite)()),o.default.dispatch((0,c.pollServerForNotifications)(IMHome.init.notificationUpdatePollDelay)),o.default.dispatch((0,c.subscribeToTriggerUpdate)()),o.default.dispatch((0,s.subscribeToGetPupilNewNotificationCounts)()),(0,r.render)(n.default.createElement(a.Provider,{store:o.default},n.default.createElement(i.default,null)),document.getElementById("notifications-sidebar-menu")))}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions":404,"./actions/svgIcons":407,"./components/App":408,"./store":420,"./subscriptions/Subscriptions":423,"react-redux":379,"whatwg-fetch":402}],417:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../constants");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={translations:null,urls:null,SVGSprite:null,impersonation:IMHome.init.impersonation,isNotificationPanelOpen:!1},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.actionTypes.RECEIVE_INITIAL_DATA:return R.pipe(R.pick(R.keys(s)),R.merge(e))(t.data);case r.actionTypes.RECEIVE_SVG_XML:return R.merge(e,{SVGSprite:t.xml});case r.actionTypes.TOGGLE_NOTIFICATIONS_PANEL_OPEN:return o(o({},e),{},{isNotificationPanelOpen:t.data});default:return e}};n.default=l},{"../constants":411}],418:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("redux"),i=a(e("./base")),o=a(e("./notifications"));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.combineReducers)({base:i.default,notifications:o.default});n.default=s},{"./base":417,"./notifications":419,redux:395}],419:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("../constants"),i=a(e("moment")),o=a(e("ramda"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n){return o.default.any(o.default.propEq(e,o.default.__,t))(n)},l=o.default.reject(o.default.propEq("currentlySelectedPupil",!1)),c=function(e){return o.default.pipe(o.default.reduce((function(e,t){var n=function(e){return e.id===t.id&&e.pupilSourceId===t.pupilSourceId};return e.some(n)?o.default.map(o.default.ifElse(n,o.default.merge(o.default.__,t),o.default.identity))(e):o.default.prepend(t,e)}))(e),o.default.sort((function(e,t){return(0,i.default)(t.orderDate).toDate()-(0,i.default)(e.orderDate).toDate()})))},u=function(e){return function(t){return s("id",t,e)?o.default.pipe(o.default.assoc("state",r.notificationStates.CLEARED),o.default.dissoc("locallyCleared"))(t):t}},d={notifications:[],timestamp:null,allPupilNotifications:[]},f=function(e,t){var n,i=o.default.map((n=t.data,function(e){return e.state===r.notificationStates.NEW&&s("id",e,n)&&(e=o.default.assoc("state",r.notificationStates.SEEN,e)),e}))(e.notifications);return o.default.merge(e,{notifications:i,allPupilNotifications:o.default.pipe(c(e.allPupilNotifications))(i)})},p=function(e,t){var n=o.default.map(o.default.ifElse(o.default.propEq("id",t.data),o.default.assoc("state",r.notificationStates.READ),o.default.identity))(e.notifications);return o.default.merge(e,{notifications:n,allPupilNotifications:o.default.pipe(c(e.allPupilNotifications))(n)})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.actionTypes.RECEIVE_INITIAL_DATA:return o.default.pipe(o.default.pick(o.default.keys(d)),(function(e){return o.default.assoc("allPupilNotifications",e.notifications,e)}),o.default.evolve({notifications:l}),o.default.merge(e))(t.data);case r.actionTypes.SERVER_UPDATE_NOTIFICATIONS:return o.default.pipe((function(t){return o.default.merge(e,{notifications:c(e.notifications)(l(t.notifications)),allPupilNotifications:c(e.allPupilNotifications)(t.notifications),timestamp:t.timestamp})}))(t.data);case r.actionTypes.MARK_ALL_AS_SEEN:return f(e,t);case r.actionTypes.MARK_NOTIFICATION_AS_READ:return p(e,t);case r.actionTypes.MARK_ALL_AS_CLEARED:return o.default.evolve({notifications:o.default.map(u(t.data))},e);default:return e}};n.default=h},{"../constants":411,moment:23,ramda:118}],420:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("redux-thunk")),i=e("redux"),o=a(e("../reducers"));function a(e){return e&&e.__esModule?e:{default:e}}var s=null,l=[r.default],c=i.compose,u=s=s||(0,i.createStore)(o.default,c(i.applyMiddleware.apply(void 0,l)));n.default=u},{"../reducers":418,redux:395,"redux-freeze":388,"redux-thunk":389}],421:[function(e,t,n){t.exports={notification:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notification",new:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__new",notificationNewFlag:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationNewFlag",seen:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__seen",read:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__read",notificationInnerContainer:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationInnerContainer",notificationIconBadgeContainer:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationIconBadgeContainer",notificationIconBadge:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationIconBadge",notificationIcon:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationIcon",notificationMain:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationMain",notificationTitle:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationTitle",notificationHeader:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationHeader",notificationDetails:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationDetails",notificationSubTitle:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationSubTitle",notificationSeparator:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationSeparator",notificationDateSent:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationDateSent",clearIcon:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__clearIcon",clearButton:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__clearButton",clearButtonText:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__clearButtonText",notificationFooter:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationFooter",notificationContent:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__notificationContent",noNotificationsIcon:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__noNotificationsIcon",noNotificationsText:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__noNotificationsText",noNotificationsContainer:"_d_d_src_scripts_imhome_modular_notifications_styles_notifications__noNotificationsContainer"}},{}],422:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.publishNotifications=n.publishEscPressed=n.closeNotificationSideBar=n.publishUpdateToNotificationCount=void 0;n.publishUpdateToNotificationCount=function(e){setTimeout((function(){window.$.publish("notification/count",e)}))};n.closeNotificationSideBar=function(){setTimeout((function(){window.$.publish("notification/toggleSideBar",!1)}))};n.publishEscPressed=function(){setTimeout((function(){window.$.publish("notification/escPressed")}))};n.publishNotifications=function(e){setTimeout((function(){window.$.publish("notification/allNotifications",[e])}))}},{}],423:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeToMarkNotificationAsRead=n.subscribeToGetPupilNewNotificationCounts=n.subscribeToToggleOpen=void 0;var r=e("../actions"),i=e("../actions/nativeApp");n.subscribeToToggleOpen=function(){return function(e,t){window.$.subscribe("notification/sideBarIsOpen",(function(n,i){t().base.impersonation||!1!==i||e((0,r.markAllAsSeen)()),e((0,r.toggleNotificationsPanelOpen)(i))}))}};n.subscribeToGetPupilNewNotificationCounts=function(){return function(e){window.$.subscribe("notification/getPupilNewCounts",(function(){e(i.publishPupilNotificationCounts)}))}};n.subscribeToMarkNotificationAsRead=function(){return function(e){window.$.subscribe("notification/markNotificationAsRead",(function(t,n){e((0,r.markNotificationAsRead)(n))}))}}},{"../actions":404,"../actions/nativeApp":405}],424:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getDateTextRelativeToNow=void 0;var r,i=(r=e("moment"))&&r.__esModule?r:{default:r};n.getDateTextRelativeToNow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=i.default.utc(t);if(n.local(),!n.isValid())return"";if(n.isAfter((0,i.default)().subtract(2,"minutes")))return e.timeFormatJustNow;if(n.isAfter((0,i.default)().subtract(60,"minutes"))){var r=(0,i.default)().diff(n,"minutes");return IMHome.core.format(e.timeFormatMinutes,r)}if(n.isAfter((0,i.default)().subtract(24,"hours"))){var o=(0,i.default)().diff(n,"hours");return IMHome.core.format(e.timeFormatHours,o)}return n.isAfter((0,i.default)().subtract(1,"days").startOf("day"))?e.timeFormatYesterday:IMHome.core.formatStandardDateStringToLocaleFormat(n)}}},{moment:23}],425:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}Object.defineProperty(n,"__esModule",{value:!0}),n.getColourFromNotificationType=n.getIconIdFromNotificationType=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(e("../../../config/colors.json")).colorsJson,a={Timeline:"chat-bubble",Assignment:"write-pencil",News:"newspaper",Assessment:"clipboardA",WeeklyPlan:"reading-book",HomeWork:"reading-book",Portfolio:"album",Calendar:"calendar",CalendarV2:"calendar",ParentMeeting:"clock2",Uol:"book-shelf",OnlineTest:"brain",Survey:"checklist",Unknown:"book-shelf",Attendance:"clipboard",IUP:"documentation",SpecialPlan:"documentation",Journal:"documentation",Consent:"newspaper",StudentConference:"clock2",ExtraAdaptations:"write-pencil",Message:"envelope"},s={Timeline:o.grouptimeline.main,Assignment:o.task.main,News:o.communication.main,Assessment:o.assessmentv2.main,HomeWork:o.homework.main,Portfolio:o.portfolio.main,Calendar:o.calendar.main,CalendarV2:o.calendarv2.main,ParentMeeting:o.parentmeeting.main,Uol:o.uolv2.main,OnlineTest:o.onlinetest.main,Survey:o.survey.main,Attendance:o.attendance.main,WeeklyPlan:"#EC9300",Unknown:"#606879",IUP:o.documentation.main,SpecialPlan:o.documentation.main,Journal:o.documentation.main,Consent:o.communication.main,StudentConference:o.parentmeeting.main,ExtraAdaptations:o.parentmeeting.main,Message:o.calendar.main};n.getIconIdFromNotificationType=function(e){return a[e]};n.getColourFromNotificationType=function(e){return s[e]}},{"../../../config/colors.json":403}],426:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hexToRgbaString=void 0;n.hexToRgbaString=function(e,t){var n=IMHome.core.ColourConverter(),r=n.hexToRgba;return(0,n.toRgbaString)(r(e,t))}},{}]},{},[416]),IMHome.config={colorsJson:{home:{main:"#660099"},message:{main:"#660099"},preferences:{main:"#660099"},task:{main:"#066c96"},attendance:{main:"#1B78CB"},homework:{main:"#EC9300"},communication:{main:"#B81A41"},calendar:{main:"#027D43"},calendarv2:{main:"#CA5010"},classlist:{main:"#11884D"},timeregistration:{main:"#0076B9"},uol:{main:"#B031AC"},uolv2:{main:"#B031AC"},grouptimeline:{main:"#8B5AB4"},parentmeeting:{main:"#4D65C4"},portfolio:{main:"#007789"},onlinetest:{main:"#745BD8"},survey:{main:"#660099"},assessmentv2:{main:"#606879"},timetable:{main:"#BB126E"},familyweb:{main:"#8A00CE"},skola24:{main:"#1B78CB"},documentation:{main:"#007789"}},tiles:{home:{svgiconIds:{main:null}},message:{svgiconIds:{main:"envelope"}},preferences:{svgiconIds:{main:null}},task:{svgiconIds:{main:"write-pencil"}},attendance:{svgiconIds:{main:"clipboard"}},homework:{svgiconIds:{main:"reading-book"}},communication:{svgiconIds:{main:"newspaper"}},calendar:{svgiconIds:{main:"calendar"}},calendarv2:{svgiconIds:{main:"calendar"}},classlist:{svgiconIds:{main:"people"}},timeregistration:{svgiconIds:{main:"calendar-ticked"}},uol:{svgiconIds:{main:null}},uolv2:{svgiconIds:{main:"book-shelf"}},grouptimeline:{svgiconIds:{main:"chat-bubble"}},parentmeeting:{svgiconIds:{main:"clock2"}},portfolio:{svgiconIds:{main:"album"}},onlinetest:{svgiconIds:{main:"brain"}},survey:{svgiconIds:{main:null}},assessmentv2:{svgiconIds:{main:"clipboardA"}},timetable:{svgiconIds:{main:"clock"}},familyweb:{svgiconIds:{main:"star"}},skola24:{svgiconIds:{main:"skola24logo"}},documentation:{svgiconIds:{main:"documentation"}}}};